{"version":3,"file":"bundle.js","sources":["../../src/util/structure/hd_map.ts","../../src/util/global_def.ts","../../src/util/res_mgr.ts","../../src/Util/Storage.ts","../../src/util/event_mgr.ts","../../src/util/Storage.ts","../../src/util/timed_task.ts","../../src/game_setting.ts","../../src/util/wx_util.ts","../../src/util/audio_mgr.ts","../../src/HDSDK.ts","../../src/data/bonus_data.ts","../../src/game/user_info.ts","../../src/data/data_hub.ts","../../src/game_logic.ts","../../src/game_ui/common/base_ui.ts","../../src/game_ui/common/tip_ui.ts","../../src/game_ui/common/setting_ui.ts","../../src/game_ui/common/popup_ui.ts","../../src/game_ui/common/blocker_ui.ts","../../src/util/ad_tools.ts","../../src/game_ui/common/sign_in_ui.ts","../../src/game_ui/common/trans_ui.ts","../../src/util/debug_tools.ts","../../src/util/algorithm/math_helper.ts","../../src/util/algorithm/geomtry_helper.ts","../../src/game/stage.ts","../../src/game_ui/home_hud.ts","../../src/game_ui/common/dialog_ui.ts","../../src/load.ts","../../src/GameConfig.ts","../../src/Main.ts"],"sourcesContent":["\r\n//基础map类，不支持深拷贝，也不建议使用深拷贝，建议从设计上规避深拷贝的情景\r\n\r\nexport class HDMap {\r\n    private keys_: Array<string> = null\r\n    private values_: Object = null\r\n\r\n    constructor() \r\n    {\r\n        this.keys_ = new Array()\r\n        this.values_ = new Object()\r\n    }\r\n\r\n    //用于读取持久化数据时生成新的HDMap\r\n    copy(dat: any)\r\n    {\r\n        let keys: string[] = dat.keys_\r\n        let values: Object = dat.values_\r\n\r\n        if(keys)\r\n        {\r\n            for(let i = 0; i < keys.length; ++i)\r\n                this.keys_[i] = keys[i]\r\n        }\r\n\r\n        if(values)\r\n        {\r\n            for(let k in values) \r\n            {\r\n                if (values.hasOwnProperty(k)) \r\n                    this.values_[k] = values[k]\r\n            }\r\n        }\r\n    }\r\n\r\n    toString() \r\n    {\r\n        let str = \"{ \";\r\n        for (let i = 0, len = this.keys_.length; i < len; ++i, str += \", \") \r\n        {\r\n            let key = this.keys_[i];\r\n            let value = this.values_[key];\r\n            str += key + \" = \" + value;\r\n        }\r\n        str = str.substring(0, str.length - 1);\r\n        str += \" }\";\r\n\r\n        return str;\r\n    }\r\n\r\n    size() \r\n    {\r\n        return this.keys_.length\r\n    }\r\n\r\n    //添加元素\r\n    put(key: any, value: any)\r\n    {\r\n        let k = key.toString()\r\n\r\n        if (this.values_[k] == null) \r\n        {\r\n            this.values_[k] = value\r\n            this.keys_.push(k)\r\n        }\r\n        else\r\n            this.values_[k] = value\r\n    }\r\n\r\n    //获取元素\r\n    get(key: any): any\r\n    {\r\n        let k = key.toString()\r\n\r\n        return this.values_[k]\r\n    }\r\n\r\n    //获取首个元素\r\n    getFirst()\r\n    {\r\n        let ret = null\r\n        \r\n        let k = this.keys_[0]\r\n        ret = this.values_[k]\r\n\r\n        return ret\r\n    }\r\n\r\n    //获取最后一个元素\r\n    getLast()\r\n    {\r\n        let ret = null\r\n        \r\n        let k = this.keys_[this.keys_.length - 1]\r\n        ret = this.values_[k]\r\n\r\n        return ret\r\n    }\r\n\r\n    //获取指定索引的元素\r\n    getByIndex(idx: number)\r\n    {\r\n        let ret = null\r\n\r\n        if(idx >= 0 && idx < this.keys_.length)\r\n        {\r\n            let k = this.keys_[idx]\r\n\r\n            ret = this.values_[k]\r\n        }\r\n        \r\n        return ret\r\n    }\r\n\r\n    //删除指定的元素\r\n    remove(key: any) \r\n    {\r\n        let k = key.toString()\r\n        let idx = this.indexOf(k)\r\n        if(idx != -1)\r\n            this.keys_.splice(idx, 1)\r\n\r\n        this.values_[k] = null\r\n    }\r\n\r\n    clear()\r\n    {\r\n        for(let i = 0, len = this.keys_.length; i < len; ++i)\r\n        {\r\n            this.values_[this.keys_[i]] = null\r\n        }\r\n\r\n        this.keys_ = []\r\n    }\r\n\r\n    //是否存在指定key值的元素\r\n    containsKey(key: any): boolean\r\n    {\r\n        let k = key.toString()\r\n        return this.values_[k] != null\r\n    }\r\n\r\n    isEmpty(): boolean\r\n    {\r\n        return this.keys_.length === 0\r\n    }\r\n\r\n    //回调函数的参数列表必须按照以下格式定义\r\n    //let cb = function(index, key, value) {}\r\n    /**\r\n     * 遍历map，每次遍历执行回调\r\n     * @param cb 遍历用回调参数，接受3个参数，索引、键、值\r\n     * @param para 回调会用到的参数\r\n     */\r\n    each(cb: Function, para: any = null)\r\n    {\r\n        if(cb)\r\n        {\r\n            for(let i = 0; i < this.keys_.length; ++i)\r\n            {\r\n                const key = this.keys_[i]\r\n                cb(i, key, this.values_[key], para)\r\n            }\r\n        }\r\n    }\r\n\r\n    //获取索引值\r\n    indexOf(key: any): number \r\n    {\r\n        let ret = -1\r\n        const size = this.size()\r\n        if (size > 0) \r\n        {\r\n            let k = key.toString()\r\n            for (let i = 0, len = size; i < len; ++i)\r\n            {\r\n                if (this.keys_[i] == k) {\r\n                    ret = i\r\n                    break\r\n                }\r\n            }\r\n        }\r\n\r\n        return ret\r\n    }\r\n\r\n    /**\r\n     * 获取值的集合，可以指定获取某个范围内的值\r\n     * @param start 取值起点索引，默认为0\r\n     * @param range 取值索引范围，默认为0，指获取从start开始的全部剩余数据\r\n     */\r\n    values(start = 0, range = 0): Array<any>\r\n    {\r\n        let ret = new Array()\r\n\r\n        let cnt = (range > 0 ? Math.min(this.keys_.length, range) : this.keys_.length) + start\r\n        for(let i = start; i < cnt; ++i)\r\n        {\r\n            ret.push(this.values_[this.keys_[i]])\r\n        }\r\n\r\n        return ret\r\n    }\r\n}\r\n","const kEpsilons = [ 0.1, 0.01, 0.001, 0.0001, 0.00001, 0.000001 ]\r\n\r\nconst kShowLog = true\r\n\r\nexport class G {\r\n    //判断对象是否为空\r\n    /*\r\n        let obj = objLst[i]\r\n        if(G.isEmptyObj(obj))\r\n        {\r\n            G.console('no obj')\r\n        }\r\n    */\r\n    public static isEmptyObj(obj: object): boolean\r\n    {\r\n        if(obj)\r\n        {\r\n            if(typeof obj !== 'object')\r\n            {\r\n                return false\r\n            }\r\n\r\n            for (let name in obj) \r\n            {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    //判断对象是否存在\r\n    public static isExistObj(obj: object): boolean\r\n    {\r\n        return !this.isEmptyObj(obj)\r\n    }\r\n\r\n    /**\r\n     * 数组去重，Nah被忽略，对象不去重\r\n     * @param arr 传入数组参数\r\n     */\r\n    public static uniqueArray(arr: any[]) {\r\n        let res = arr.filter(function(item, index, array){\r\n            return array.indexOf(item) === index;\r\n        })\r\n        return res;\r\n    }\r\n\r\n    /**\r\n     * 数组去重，会进行对象去重，如果不需要对对象去重时应该改用其他方法\r\n     * @param arr 传入数组参数\r\n     */\r\n    public static uniqueArrayEx(arr: any[]) {\r\n        let obj = {};\r\n        return arr.filter(function(item, index, array) {\r\n            // console.log(typeof item + JSON.stringify(item))\r\n            return obj.hasOwnProperty(typeof item + JSON.stringify(item)) ? false : (obj[typeof item + JSON.stringify(item)] = true)\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 截取字符串，用于复杂字符编码情况下的截取（如带emoji表情的文本）\r\n     * @param str 需要截断的字符串\r\n     * @param maxChars 保留的汉字长度\r\n     * @param suffix 截断后新字符串要添加的后缀 （注意，如果后缀不为null或者'' ，则要占用一个汉字的位置)\r\n     */\r\n    public static clampString(str: string, maxChars: number, suffix) {\r\n        suffix = suffix == null ? '...' : suffix;\r\n        maxChars *= 2;\r\n\r\n        var codeArr = this._toCodePoint(str);\r\n        var numChar = 0;\r\n        var index = 0;\r\n        for (var i = 0; i < codeArr.length; ++i) \r\n        {\r\n            var code = codeArr[i].v;\r\n            var add = 1;\r\n            if (code >= 128) {\r\n                add = 2;\r\n            }\r\n\r\n            //如果超过了限制，则按上一个为准\r\n            if (numChar + add > maxChars)\r\n            {\r\n                break;\r\n            }\r\n\r\n            index = i;\r\n\r\n            //累加\r\n            numChar += add;\r\n        }\r\n\r\n        if(codeArr.length - 1 == index)\r\n        {\r\n            return str;\r\n        }\r\n\r\n        var more = suffix? 1:0;\r\n\r\n        return str.substring(0, codeArr[index - more].pos + 1) + suffix;\r\n    }\r\n\r\n    private static _toCodePoint = function(unicodeSurrogates) {\r\n        let r = [], c = 0, p = 0, i = 0;\r\n        while (i < unicodeSurrogates.length) {\r\n            let pos = i;\r\n            c = unicodeSurrogates.charCodeAt(i++);//返回位置的字符的 Unicode 编码 \r\n            if (c == 0xfe0f) \r\n                continue;\r\n            \r\n            if (p) \r\n            {\r\n                let value = (0x10000 + ((p - 0xD800) << 10) + (c - 0xDC00));\r\n                r.push({\r\n                    v: value,\r\n                    pos: pos,\r\n                }); //计算4字节的unicode\r\n                p = 0;\r\n            } \r\n            else if (0xD800 <= c && c <= 0xDBFF) \r\n            {\r\n                p = c; //如果unicode编码在oxD800-0xDBff之间，则需要与后一个字符放在一起\r\n            } \r\n            else \r\n            {\r\n                r.push({\r\n                    v: c,\r\n                    pos: pos\r\n                }); //如果是2字节，直接将码点转为对应的十六进制形式\r\n            }\r\n        }\r\n        return r;\r\n    }\r\n\r\n    //对于浮点数，完全相等的情况由于精度问题是比较少的，所以采用增加一个差值比对的方式去判定\r\n    /*\r\n        let a = cal(1, 2)\r\n        let b = cal(2, 5)\r\n        if(G.isEqualF(a, b))\r\n        {\r\n            G.console('=======')\r\n        }\r\n\r\n        参数p代表精度，几位数位\r\n    */\r\n    public static isEqualF(a: number, b: number, p = 6): boolean\r\n    {\r\n        let bRet: boolean = false;\r\n\r\n        let eps = kEpsilons[p - 1] || 0.0001\r\n\r\n        if(Math.abs(a - b) <= eps)\r\n            bRet = true\r\n\r\n        return bRet\r\n    }\r\n\r\n    //取一个随机范围内的数字，min必须小于max\r\n    /*\r\n        let r = G.randRange(1, 3)\r\n    */\r\n    public static randRange(min: number, max: number): number\r\n    {\r\n        return Math.round(Math.random() * (max - min)) + min\r\n    }\r\n\r\n   /**\r\n    * 取一个随机范围内的小数，min必须小于max，返回值保留3位小数\r\n    * @param min 最小值\r\n    * @param max 最大值\r\n    * @param decimals 小数位数，默认为0，表示不限制位数，否则应该为大于0的数\r\n    */\r\n    public static randRangeF(min: number, max: number, decimals = 0): number  \r\n    {\r\n        let ret = Math.random() * (max - min) + min\r\n\r\n        if(decimals > 0)\r\n            ret = parseFloat(ret.toFixed(decimals))\r\n\r\n        return ret\r\n    }\r\n\r\n    //cocoscreator动态读取接口封装，读取json文件，文件必须存在于bin目录下\r\n    public static readJson(filepath: string, callback: Function)\r\n    {\r\n        let fp = filepath\r\n        if(fp.indexOf('.json') !== -1) //有后缀直接使用后缀\r\n        {\r\n            \r\n        }\r\n        else //无后缀默认为.json\r\n            fp = filepath + '.json'\r\n\r\n        Laya.loader.load(fp, Laya.Handler.create(null, ()=>{\r\n            let res = Laya.loader.getRes(fp);\r\n\r\n            if(callback)\r\n                callback(res)\r\n\r\n            Laya.loader.clearRes(fp)\r\n\r\n        }), null, Laya.Loader.JSON);\r\n    }\r\n\r\n    public static layaHandler(caller: any, method: Function, args?: any[], once = true)\r\n    {\r\n        return Laya.Handler.create(caller, method, args, once)\r\n    }\r\n\r\n    /**\r\n     * 格式化秒为时间文本\r\n     * @param val 秒值\r\n     * @param flag 时间文本时间粒度，1 分 2 小时、分 3 天、小时、分，默认为分\r\n     */\r\n    public static formatSecond(val: number, flag = 1)\r\n    {\r\n        let ret = ''\r\n        if(flag === 1)\r\n        {\r\n            let m = parseInt((val / 60).toString())\r\n            let s = val % 60\r\n\r\n            ret = m + '分' + s.toFixed(0) + '秒'\r\n        }\r\n        else if(flag === 2)\r\n        {\r\n            let h = parseInt((val / 3600).toString())\r\n            let mv = val % 3600\r\n            let m = parseInt((mv / 60).toString())\r\n            let s = mv % 60\r\n\r\n            ret = h + '小时' + m + '分' + s.toFixed(0) + '秒'\r\n        }\r\n        else if(flag === 3)\r\n        {\r\n            let d = parseInt((val / 86400).toString())\r\n            let hv = val % 86400\r\n            let h = parseInt((hv / 3600).toString())\r\n            let mv = hv % 3600\r\n            let m = parseInt((mv / 60).toString())\r\n            let s = mv % 60\r\n\r\n            ret = d + '天' + h + '小时' + m + '分' + s.toFixed(0) + '秒'\r\n        }\r\n\r\n        return ret\r\n    }\r\n\r\n    //日志输出封装，在发布版本时可以统一屏蔽\r\n    /**\r\n     * \r\n     * @param msg 要输出的日志文本\r\n     * @param optParam 要输出的额外参数\r\n     */\r\n    public static log(msg?: any, ...optParam: any[])\r\n    {\r\n        if(!kShowLog)\r\n            return\r\n\r\n        if(optParam && optParam.length > 0)\r\n        {\r\n            console.log(msg, optParam)\r\n        }\r\n        else\r\n        {\r\n            console.log(msg)\r\n        }\r\n    }\r\n\r\n    public static warn(msg?: any, ...optParam: any[])\r\n    {\r\n        if(!kShowLog)\r\n            return\r\n\r\n        if(optParam && optParam.length > 0)\r\n        {\r\n            console.warn(msg, optParam)\r\n        }\r\n        else\r\n        {\r\n            console.warn(msg)\r\n        }\r\n    }\r\n\r\n    public static error(msg?: any, ...optParam: any[])\r\n    {\r\n        if(!kShowLog)\r\n            return\r\n\r\n        if(optParam && optParam.length > 0)\r\n        {\r\n            console.error(msg, optParam)\r\n        }\r\n        else\r\n        {\r\n            console.error(msg)\r\n        }\r\n    }\r\n\r\n    public static get isWeChat()\r\n    {\r\n        return typeof wx !== 'undefined'\r\n    }\r\n\r\n    public static get isBaidu()\r\n    {\r\n        return typeof swan !== 'undefined'\r\n    }\r\n\r\n    public static get isByteDance()\r\n    {\r\n        return typeof tt !== 'undefined'\r\n    }\r\n}\r\n","import { HDMap } from \"./structure/hd_map\";\r\nimport { G } from \"./global_def\";\r\n\r\n//资源加载释放管理器\r\n    \r\nexport class ResManager {\r\n    public static instance: ResManager = new ResManager()\r\n\r\n    public static nativePath = 'res/'\r\n\r\n    private sceneMap_: HDMap = new HDMap() //.ls\r\n    private sprite3DMap_: HDMap = new HDMap() //.lh\r\n    private meshMap_: HDMap = new HDMap() //mesh .lm\r\n    private skinMeshMap_: HDMap = new HDMap() //skin mesh .lm\r\n    private matMap_: HDMap = new HDMap() //material .lmat\r\n    private texMap_: HDMap = new HDMap() //texture .png or .jpg\r\n    private animMap_: HDMap = new HDMap() //animation clip .lani\r\n\r\n    private lockedMap_: HDMap = new HDMap() //locked res collection\r\n\r\n    /**\r\n     * 异步加载ls文件\r\n     * @param file 文件名，确保在bin目录下，需要传入ls后缀的文件\r\n     * @param callback 加载后回调，可选参数，接收一个Laya.Scene3D的参数\r\n     */\r\n    loadScene(file: string, callback?: Function)\r\n    {\r\n        Laya.Scene3D.load(file, Laya.Handler.create(this, (scene: Laya.Scene3D)=>{\r\n            if(scene)\r\n            {\r\n                this.sceneMap_.put(file, scene)\r\n\r\n                if(callback)\r\n                    callback(scene)\r\n            }\r\n            else\r\n                G.log('[ResManager] loadScene failed', 2)\r\n        }))\r\n    }\r\n\r\n    getScene(file: string): Laya.Scene3D\r\n    {\r\n        let ret = null\r\n\r\n        if(this.sceneMap_.containsKey(file))\r\n            ret = this.sceneMap_.get(file)\r\n\r\n        return ret\r\n    }\r\n\r\n    //包含的mesh,材质等资源并不会真正释放，注意回收\r\n    releaseScene(file: string)\r\n    {\r\n        let sc = this.getScene(file)\r\n        if(sc)\r\n        {\r\n            sc.destroy()\r\n            sc = null\r\n            this.sceneMap_.remove(file)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 异步加载预设文件\r\n     * @param file 文件名，文件确保在bin目录下，需要传入lh后缀的文件\r\n     * @param callback 加载后回调，可选参数，接收一个Laya.Sprite3D参数\r\n     */\r\n    loadSprite3D(file: string, callback?: Function)\r\n    {\r\n        Laya.Sprite3D.load(file, Laya.Handler.create(this, (sp3d: Laya.Sprite3D)=>{\r\n            if(sp3d)\r\n            {\r\n                this.sprite3DMap_.put(file, sp3d)\r\n\r\n                if(callback)\r\n                    callback(sp3d)\r\n            }\r\n            else\r\n                G.log('[ResManager] loadSprite3D failed', 2)\r\n        }))\r\n    }\r\n\r\n    getSprite3D(file: string): Laya.Sprite3D\r\n    {\r\n        let ret = null\r\n\r\n        if(this.sprite3DMap_.containsKey(file))\r\n            ret = this.sprite3DMap_.get(file)\r\n\r\n        return ret\r\n    }\r\n\r\n    //包含的mesh,材质等资源并不会真正释放，注意回收\r\n    releaseSprite3D(file: string)\r\n    {\r\n        let sp = this.getSprite3D(file)\r\n        if(sp)\r\n        {\r\n            sp.destroy()\r\n            sp = null\r\n\r\n            this.sprite3DMap_.remove(file)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 异步加载材质.lmat文件\r\n     * @param file 材质文件名，文件确保在bin目录下，需要传入lmat后缀的文件\r\n     * @param callback 加载后回调，可选参数，接收一个Laya.BaseMaterial参数\r\n     */\r\n    loadMaterial(file: string, callback?: Function)\r\n    {\r\n        Laya.BaseMaterial.load(file, Laya.Handler.create(this, (mat: Laya.BaseMaterial)=>{\r\n            if(mat)\r\n            {\r\n                this.matMap_.put(file, mat)\r\n\r\n                if(callback)\r\n                    callback(mat)\r\n            }\r\n            else\r\n                G.log('[ResManager] loadMaterial failed', 2)\r\n        }))\r\n    }\r\n\r\n    getMaterial(file: string): Laya.BaseMaterial\r\n    {\r\n        let ret = null\r\n\r\n        if(this.matMap_.containsKey(file))\r\n            ret = this.matMap_.get(file)\r\n\r\n        return ret\r\n    }\r\n\r\n    releaseMaterial(file: string)\r\n    {\r\n        let mat = this.getMaterial(file)\r\n        if(mat)\r\n        {\r\n            mat.destroy()\r\n            mat = null\r\n\r\n            this.matMap_.remove(file)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 异步加载纹理\r\n     * @param file 纹理文件名，文件确保在bin目录下，需要传入.png或者.jpg后缀的文件\r\n     * @param callback 加载后回调，可选参数，接收一个Laya.Texture2D参数\r\n     */\r\n    loadTexture(file: string, callback?: Function)\r\n    {\r\n        Laya.Texture2D.load(file, Laya.Handler.create(this, (tex: Laya.Texture2D)=>{\r\n            if(tex)\r\n            {\r\n                this.texMap_.put(file, tex)\r\n\r\n                if(callback)\r\n                    callback(tex)\r\n            }\r\n            else\r\n                G.log('[ResManager] loadTexture failed', 2)\r\n        }))\r\n    }\r\n\r\n    getTexture(file: string): Laya.Texture2D\r\n    {\r\n        let ret = null\r\n\r\n        if(this.texMap_.containsKey(file))\r\n            ret = this.texMap_.get(file)\r\n\r\n        return ret\r\n    }\r\n\r\n    //TODO: 需要设置好引用计数，真正做到释放\r\n    releaseTexture(file: string)\r\n    {\r\n        let tex = this.getTexture(file)\r\n        if(tex)\r\n        {\r\n            tex.destroy()\r\n            tex = null\r\n\r\n            this.texMap_.remove(file)\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * 异步加载模型网格lm\r\n     * @param file 模型文件名，文件确保在bin目录下，需要传入lm后缀的文件\r\n     * @param callback 加载完成后回调，可选参数，接收一个MeshSpriteD、SkinnedMeshSprite3D或Mesh参数\r\n     * @param t 类型，1为MeshSpriteD 2为SkinnedMeshSprite3D 3为纯mesh\r\n     */\r\n    loadMesh(file: string, callback?: Function, t = 1)\r\n    {\r\n        Laya.Mesh.load(file, Laya.Handler.create(this, (m)=>{\r\n            if(m)\r\n            {\r\n                let mesh = null\r\n                if(t === 1)\r\n                {\r\n                    mesh = new Laya.MeshSprite3D(m)\r\n\r\n                    this.meshMap_.put(file, mesh)\r\n                }\r\n                else if(t === 2)\r\n                {\r\n                    mesh = new Laya.SkinnedMeshSprite3D(m)\r\n\r\n                    this.skinMeshMap_.put(file, mesh)\r\n                }\r\n                else if(t === 3)\r\n                {\r\n                    mesh = m\r\n                }\r\n\r\n                if(callback)\r\n                    callback(mesh)\r\n            }\r\n            else\r\n                G.log('[ResManager] loadMesh failed', 2)\r\n        }))\r\n    }\r\n\r\n    getMesh(file: string): Laya.MeshSprite3D\r\n    {\r\n        let ret = null\r\n\r\n        if(this.meshMap_.containsKey(file))\r\n            ret = this.meshMap_.get(file)\r\n\r\n        return ret\r\n    }\r\n\r\n    releaseMesh(file: string)\r\n    {\r\n        let m = this.getMesh(file)\r\n        if(m)\r\n        {\r\n            m.destroy()\r\n            m = null\r\n\r\n            this.meshMap_.remove(file)\r\n        }\r\n    }\r\n\r\n    getSkinMesh(file: string): Laya.SkinnedMeshSprite3D\r\n    {\r\n        let ret = null\r\n\r\n        if(this.skinMeshMap_.containsKey(file))\r\n            ret = this.skinMeshMap_.get(file)\r\n\r\n        return ret\r\n    }\r\n\r\n    releaseSkinMesh(file: string)\r\n    {\r\n        let sm = this.getSkinMesh(file)\r\n        if(sm)\r\n        {\r\n            sm.destroy()\r\n            sm = null\r\n\r\n            this.skinMeshMap_.remove(file)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 异步加载动画文件\r\n     * @param file 动画文件名，文件确保在bin目录下，需要传入.lani后缀的文件\r\n     * @param callback 加载完成后回调，可选参数，接收一个Laya.AnimationClip参数\r\n     */\r\n    loadAnim(file: string, callback?: Function)\r\n    {\r\n        Laya.AnimationClip.load(file, Laya.Handler.create(this, (anim: Laya.AnimationClip)=>{\r\n            if(anim)\r\n            {\r\n                this.animMap_.put(file, anim)\r\n\r\n                if(callback)\r\n                    callback(anim)\r\n            }\r\n            else\r\n                G.log('[ResManager] loadAnim failed', 2, file)\r\n        }))\r\n    }\r\n\r\n    getAnim(file: string): Laya.AnimationClip\r\n    {\r\n        let ret = null\r\n\r\n        if(this.animMap_.containsKey(file))\r\n            ret = this.animMap_.get(file)\r\n\r\n        return ret\r\n    }\r\n\r\n    releaseAnim(file: string)\r\n    {\r\n        let anim = this.getAnim(file)\r\n        if(anim)\r\n        {\r\n            anim.destroy()\r\n            anim = null\r\n\r\n            this.animMap_.remove(file)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 批量预加载资源\r\n     * @param files 需要预加载的资源文件名数组，确保在bin目录下，需要注意的是，对于.lm文件，由于无法预知\r\n     * 是MeshSpriteD还是SkinnedMeshSprite3D，故有如下约定，当文件名中包含' skin_ '前缀时，会当做SkinnedMeshSprite3D\r\n     * 缓存，否则均当做MeshSpriteD缓存\r\n     * @param callback 单个资源加载完毕后的回调，每个文件加载完后都会调用一次，通常用于做进度统计，接受文件名的传入\r\n     * \r\n     * 例：\r\n     * let files = [ \"res/role/warrior.lh\", \"res/weapon/sword.lh\", \"res/model/rock.lm\", \"res/texture/rock1.png\" ]\r\n     * ResManager.instance.batchPreload(files)\r\n     */\r\n    batchPreload(files: string[], callback?: Function)\r\n    {\r\n        Laya.loader.create(files, Laya.Handler.create(this, this._preloaded, [ files, callback ]))\r\n    }\r\n\r\n    private _preloaded(files: string[], callback?: Function)\r\n    {\r\n        for(let i = 0; i < files.length; ++i)\r\n        {\r\n            let res = Laya.loader.getRes(files[i])\r\n            if(res)\r\n            {\r\n                this._assignFileType(files[i], res)\r\n            }\r\n            else\r\n                G.log('[ResManager] batchPreload failed', 2, files[i])\r\n\r\n            if(callback)\r\n                callback(files[i])\r\n        }\r\n    }\r\n\r\n    //return 1 .ls 2 .lh 3 .lmat 4 .lm 5 .lani 6 tex\r\n    private _assignFileType(name: string, res: any)\r\n    {\r\n        if(name.lastIndexOf('.ls') !== -1)\r\n            this.sceneMap_.put(name, res)\r\n        else if(name.lastIndexOf('.lh') !== -1)\r\n            this.sprite3DMap_.put(name, res)\r\n        else if(name.lastIndexOf('.lmat') !== -1)\r\n            this.matMap_.put(name, res)\r\n        else if(name.lastIndexOf('.lm') !== -1)\r\n        {\r\n            if(name.indexOf('skin_') === -1)\r\n            {\r\n                let m = new Laya.MeshSprite3D(res)\r\n                this.skinMeshMap_.put(name, m)\r\n            }\r\n            else\r\n            {\r\n                let m = new Laya.SkinnedMeshSprite3D(res)\r\n                this.meshMap_.put(name, m)\r\n            }\r\n        }\r\n        else if(name.lastIndexOf('.lani') !== -1)\r\n            this.animMap_.put(name, res)\r\n        else if(name.lastIndexOf('.png') !== -1 || name.lastIndexOf('.jpg') !== -1)\r\n            this.texMap_.put(name, res)\r\n    }\r\n\r\n    /**\r\n     * 给指定路径的资源加锁或者解锁\r\n     * @param file 文件名\r\n     * @param t 资源类型，1 .lmat 2 mesh 3 skin mesh 4 .lani 5 tex\r\n     */\r\n    lockSwitch(file: string, t: number, bLock: boolean)\r\n    {\r\n        if(t === 1)\r\n        {\r\n            let res = this.getMaterial(file)\r\n            if(res)\r\n            {\r\n                res.lock = bLock\r\n            }\r\n            else\r\n                G.log('[ResManager] lock failed', 2, file)\r\n        }\r\n        else if(t === 2)\r\n        {\r\n            let res = this.getMesh(file)\r\n            if(res)\r\n            {\r\n                res.meshFilter.sharedMesh.lock = bLock\r\n            }\r\n            else\r\n                G.log('[ResManager] lock failed', 2, file)\r\n        }\r\n        else if(t === 3)\r\n        {\r\n            let res = this.getSkinMesh(file)\r\n            if(res)\r\n            {\r\n                res.meshFilter.sharedMesh.lock = bLock\r\n            }\r\n            else\r\n                G.log('[ResManager] lock failed', 2, file)\r\n        }\r\n        else if(t === 4)\r\n        {\r\n            let res = this.getAnim(file)\r\n            if(res)\r\n            {\r\n                res.lock = bLock\r\n            }\r\n            else\r\n                G.log('[ResManager] lock failed', 2, file)\r\n        }\r\n        else if(t === 5)\r\n        {\r\n            let res = this.getTexture(file)\r\n            if(res)\r\n            {\r\n                res.lock = bLock\r\n            }\r\n            else\r\n                G.log('[ResManager] lock failed', 2, file)\r\n        }\r\n    }\r\n\r\n    //释放掉所有没有使用且没有上锁的资源\r\n    //注意Scene3D，Sprite3D调用destroy()方法的，必须是所有对象，包括本体与克隆体\r\n    //对于资源加锁与释放锁的管理，需要使用lockSwitch接口进行\r\n    clearUnused()\r\n    {\r\n        Laya.Resource.destroyUnusedResources()\r\n    }\r\n}\r\n","//本地数据存储接口\r\n\r\nimport { G } from \"./global_def\";\r\n\r\nexport class SaveDef {\r\n    static kGameData = 'gameDat'\r\n    static kSetting = 'setting'\r\n    static kAudio = 'audio'\r\n    static kWxStatus = 'wxStatus'\r\n    static kPlayer = 'player'\r\n    static kDaily = 'signIn'\r\n    static kVersion = 'ver'\r\n    static kForceNav = 'nav'\r\n}\r\n\r\nexport class GameStorage {\r\n    public static clearAllStorage()\r\n    {\r\n        Laya.LocalStorage.clear()\r\n    }\r\n\r\n    public static writeBoolean(key: string, bVal: boolean)\r\n    {\r\n        let val = bVal ? 1 : 0\r\n        Laya.LocalStorage.setItem(key, val.toString())\r\n    }\r\n\r\n    //如果不存在合法的值，则返回null\r\n    public static readBoolean(key: string)\r\n    {\r\n        let bRet = null\r\n        \r\n        let v = Laya.LocalStorage.getItem(key)\r\n        if(v != null && v !== '')\r\n        {\r\n            let val = parseInt(v)\r\n            \r\n            if(val === 0)\r\n                bRet = false\r\n            else if(val != null && !isNaN(val))\r\n                bRet = val == 1 ? true : false\r\n        }\r\n\r\n        return bRet \r\n    }\r\n\r\n    public static writeNum(key: string, val: number)\r\n    {\r\n        Laya.LocalStorage.setItem(key, val.toString())\r\n    }\r\n\r\n    //不存在合法的值，返回null\r\n    public static readNum(key: string): number\r\n    {\r\n        let ret = null\r\n\r\n        let v = Laya.LocalStorage.getItem(key)\r\n        if(v != null && v !== '')\r\n        {\r\n            let val = parseFloat(v)\r\n\r\n            if(!isNaN(val))\r\n            {\r\n                ret = val\r\n            }\r\n        }\r\n\r\n        return ret\r\n    }\r\n\r\n    public static writeJSON(key: string, val: any)\r\n    {\r\n        let v = JSON.stringify(val)\r\n        Laya.LocalStorage.setItem(key, v)\r\n    }\r\n\r\n    public static readJSON(key: string): any\r\n    {\r\n        let ret = null\r\n\r\n        let v = Laya.LocalStorage.getItem(key)\r\n        if(v)\r\n            ret = JSON.parse(v)\r\n\r\n        return ret\r\n    }\r\n\r\n    public static remove(key: string)\r\n    {\r\n        Laya.LocalStorage.removeItem(key)\r\n    }\r\n}\r\n","import { HDMap } from \"./structure/hd_map\";\r\nimport { G } from \"./global_def\";\r\n\r\n//全局事件处理器\r\n\r\n//事件类型定义，请自行定义\r\nexport enum EventType {\r\n    kNone,\r\n    //-------预留字段，请勿删除--------\r\n    kAudioPause, //音频暂停\r\n    kAudioResume, //音频恢复\r\n\r\n    kBnrAdBrowerSim, //本地浏览器banner广告模拟\r\n\r\n    kAdjustVfxLv, //调节特效等级\r\n    //----------------------\r\n\r\n    kOpenFreeBox, //开启免费箱子\r\n    kLeaveHome, //离开主页\r\n    kRedPoint, //小红点\r\n}\r\n\r\n//单个事件的定义，该类会由管理器自行创建，无需手动控制\r\nclass GameEvent {\r\n    private type_ = EventType.kNone\r\n    private id_ = 0\r\n    private sender_: object = null\r\n    private data_: object = null\r\n\r\n    public init(id: number, t: EventType, sender: object, data: object)\r\n    {\r\n        this.id_ = id\r\n        this.type_ = t\r\n        this.sender_ = sender\r\n        this.data_ = data\r\n    }\r\n\r\n    public get type(): EventType\r\n    {\r\n        return this.type_\r\n    }\r\n\r\n    public get id(): number\r\n    {\r\n        return this.id_\r\n    }\r\n\r\n    public get sender(): object\r\n    {\r\n        return this.sender_\r\n    }\r\n\r\n    public get data(): object\r\n    {\r\n        return this.data_\r\n    }\r\n}\r\n\r\n//事件监听器，由各个监听模块自行定义监听以及监听处理，由管理器生成，但是id号由用户管理（用于移除侦听）\r\nclass GameListener {\r\n    private id_ = 0\r\n    private callback_: Function = null\r\n\r\n    bExe = false\r\n\r\n    public get id()\r\n    {\r\n        return this.id_\r\n    }\r\n\r\n    public init(id: number, cb: Function)\r\n    {\r\n        this.id_ = id\r\n        this.callback_ = cb\r\n    }\r\n\r\n    public excute(sender: object, data: any)\r\n    {\r\n        this.bExe = true\r\n\r\n        if(this.callback_)\r\n            this.callback_(sender, data)\r\n\r\n        this.bExe = false\r\n    }\r\n}\r\n\r\n//事件管理器，事件相关的操作都通过此类的方法进行\r\nexport class GameEventMgr {\r\n    static instance: GameEventMgr = new GameEventMgr()\r\n\r\n    private constructor() {}\r\n\r\n    private baseEvtId_ = 0\r\n    private baseListenerId_ = 0\r\n\r\n    private listenerMap_: HDMap = null\r\n    private persistListnerMap_: HDMap = null\r\n\r\n    private delMap_: HDMap = new HDMap()\r\n\r\n    private evtLst_: Array<GameEvent> = null\r\n\r\n    private bExe_ = false\r\n\r\n    //初始化事件管理器，框架中已经在GameLogic初始化时一并调用，可以不用手动调用\r\n    public init()\r\n    {\r\n        this.baseEvtId_ = 0\r\n        this.baseListenerId_ = 0\r\n\r\n        if(this.listenerMap_ == null)\r\n            this.listenerMap_ = new HDMap()\r\n\r\n        this.listenerMap_.clear()\r\n\r\n        if(this.persistListnerMap_ == null)\r\n            this.persistListnerMap_ = new HDMap()\r\n\r\n        this.persistListnerMap_.clear()\r\n\r\n        if(this.evtLst_ == null)\r\n            this.evtLst_ = new Array()\r\n        \r\n        this.evtLst_ = []\r\n\r\n        this.bExe_ = false\r\n    }\r\n\r\n    //添加一个指定的事件\r\n    /**\r\n     * \r\n     * @param t 事件类型，由用户自己定义\r\n     * @param sender 事件发起者，由用户自行考虑是否传入，通常用于监听逻辑\r\n     * @param data 事件携带数据，由用户自行定义格式，用于在发起者与监听者之间传递必要信息\r\n     * @param bImmediately 是否立即执行，默认为false，将会在每帧统一执行，可能影响某些执行顺序，置为true则是监听者立即执行相应的逻辑\r\n     * \r\n        GameEventMgr.instance.addEvent(EventType.kLoadOver, null, { bLoad: true }, true)\r\n     */\r\n    public addEvent(t: EventType, sender: object = null, data: any = null, bImmediately = true)\r\n    {\r\n        ++this.baseEvtId_\r\n\r\n        let evt = new GameEvent()\r\n        evt.init(this.baseEvtId_, t, sender, data)\r\n\r\n        if(bImmediately)\r\n        {\r\n            let lst = this.listenerMap_.get(t)\r\n            if(lst != null)\r\n            {\r\n                for(let i = 0; i < lst.length; ++i)\r\n                    lst[i].excute(evt.sender, evt.data)\r\n            }\r\n        }\r\n        else\r\n        {\r\n            this.bExe_ = true\r\n            this.evtLst_.push(evt)\r\n        }\r\n    }\r\n\r\n    //添加一个侦听器，侦听器初始化用的回调可以包含两个参数，参数1是sender，参数2是data，分别对应事件的发起者和携带的数据\r\n    /**\r\n     * \r\n     * @param t 侦听的事件类型\r\n     * @param cb 侦听器回调函数\r\n     * @param bPersist 是否为常驻监听器，标记为常驻的监听器不会被clear清除，但可以被remove指定移除\r\n     * @returns 返回一个侦听器全局唯一id\r\n     * \r\n        GameEventMgr.instance.addListener(EventType.kLoadOver, function(sender, data) { //dosomething })\r\n     */\r\n    public addListener(t: EventType, cb: Function, bPersist = false): number\r\n    {   \r\n        ++this.baseListenerId_\r\n\r\n        let lis = new GameListener()\r\n        lis.init(this.baseListenerId_, cb)\r\n\r\n        let lst = null\r\n        if(this.listenerMap_.containsKey(t))\r\n        {\r\n            lst = this.listenerMap_.get(t)\r\n            if(lst != null)\r\n                lst.push(lis)\r\n        }\r\n        else\r\n        {\r\n            lst = new Array()\r\n            lst.push(lis)\r\n            this.listenerMap_.put(t, lst)\r\n        }\r\n\r\n        if(bPersist && lst)\r\n        {\r\n            this.persistListnerMap_.put(t, lst)\r\n        }\r\n\r\n        return this.baseListenerId_\r\n    }\r\n\r\n    //移除指定的侦听器\r\n    /**\r\n     * \r\n     * @param t 侦听的事件类型\r\n     * @param id 要移除的事件id\r\n     * \r\n        let id = GameEventMgr.instance.addListener(EventType.kLoadOver, null)\r\n        //..........\r\n        GameEventMgr.instance.removeListener(EventType.kLoadOver, id)\r\n     */\r\n    public removeListener(t: EventType, id: number)\r\n    {\r\n        if(this.listenerMap_.containsKey(t))\r\n        {\r\n            let lst = this.listenerMap_.get(t)\r\n            if(lst != null)\r\n            {\r\n                for(let i = 0; i < lst.length; ++i)\r\n                {\r\n                    if(!lst[i].bExe && lst[i].id === id)\r\n                    {\r\n                        lst.splice(i, 1)\r\n                        break\r\n                    }\r\n                    else if(lst[i].bExe)\r\n                    {\r\n                        this.delMap_.put(t, id)\r\n                        this.bExe_ = true\r\n                    }\r\n                }\r\n\r\n                if(lst.length == 0)\r\n                {\r\n                    this.listenerMap_.remove(t)\r\n                    if(this.persistListnerMap_.containsKey(t))\r\n                        this.persistListnerMap_.remove(t)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    //清空所有事件监听和队列，建议跳转场景前进行清理，框架中已经在GameLogic的changeScene中调用\r\n    public clear()\r\n    {\r\n        this.evtLst_ = []\r\n\r\n        let delArr = []\r\n        this.listenerMap_.each((i, k, v)=>{\r\n            if(!this.persistListnerMap_.containsKey(k))\r\n                delArr.push(k)\r\n        })\r\n\r\n        for(let i = 0; i < delArr.length; ++i)\r\n            this.listenerMap_.remove(delArr[i])\r\n\r\n        this.delMap_.clear()\r\n    }\r\n\r\n    //每帧处理事件队列，在框架中已经在GameLogic的update中调用，无需手动调用\r\n    public excuteEvents()\r\n    {\r\n        if(!this.bExe_)\r\n            return\r\n\r\n        for(let i = 0; i < this.evtLst_.length; ++i)\r\n        {\r\n            let evt = this.evtLst_[i]\r\n            if(evt == null)\r\n            {\r\n                G.log('can not find the approriate game event', 3)\r\n                break\r\n            }\r\n\r\n            let lst = this.listenerMap_.get(evt.type)\r\n            if(lst)\r\n            {\r\n                for(let j = 0; j < lst.length; ++j)\r\n                {\r\n                    lst[j].excute(evt.sender, evt.data)\r\n                }\r\n            }\r\n            else\r\n                G.log('Can not find the listeners about event ', 2, evt.type.toString())\r\n        }\r\n\r\n        if(this.delMap_.size() > 0)\r\n        {\r\n            this.delMap_.each((i, k, v)=>{\r\n                this.removeListener(k, v)\r\n            })\r\n\r\n            this.delMap_.clear()\r\n        }\r\n\r\n        this.evtLst_ = []\r\n        this.bExe_ = false\r\n    }\r\n}\r\n\r\nexport const GameEventMgrInst = GameEventMgr.instance","//本地数据存储接口\r\n\r\nimport { G } from \"./global_def\";\r\n\r\nexport class SaveDef {\r\n    static kGameData = 'gameDat'\r\n    static kSetting = 'setting'\r\n    static kAudio = 'audio'\r\n    static kWxStatus = 'wxStatus'\r\n    static kPlayer = 'player'\r\n    static kDaily = 'signIn'\r\n    static kVersion = 'ver'\r\n    static kForceNav = 'nav'\r\n}\r\n\r\nexport class GameStorage {\r\n    public static clearAllStorage()\r\n    {\r\n        Laya.LocalStorage.clear()\r\n    }\r\n\r\n    public static writeBoolean(key: string, bVal: boolean)\r\n    {\r\n        let val = bVal ? 1 : 0\r\n        Laya.LocalStorage.setItem(key, val.toString())\r\n    }\r\n\r\n    //如果不存在合法的值，则返回null\r\n    public static readBoolean(key: string)\r\n    {\r\n        let bRet = null\r\n        \r\n        let v = Laya.LocalStorage.getItem(key)\r\n        if(v != null && v !== '')\r\n        {\r\n            let val = parseInt(v)\r\n            \r\n            if(val === 0)\r\n                bRet = false\r\n            else if(val != null && !isNaN(val))\r\n                bRet = val == 1 ? true : false\r\n        }\r\n\r\n        return bRet \r\n    }\r\n\r\n    public static writeNum(key: string, val: number)\r\n    {\r\n        Laya.LocalStorage.setItem(key, val.toString())\r\n    }\r\n\r\n    //不存在合法的值，返回null\r\n    public static readNum(key: string): number\r\n    {\r\n        let ret = null\r\n\r\n        let v = Laya.LocalStorage.getItem(key)\r\n        if(v != null && v !== '')\r\n        {\r\n            let val = parseFloat(v)\r\n\r\n            if(!isNaN(val))\r\n            {\r\n                ret = val\r\n            }\r\n        }\r\n\r\n        return ret\r\n    }\r\n\r\n    public static writeJSON(key: string, val: any)\r\n    {\r\n        let v = JSON.stringify(val)\r\n        Laya.LocalStorage.setItem(key, v)\r\n    }\r\n\r\n    public static readJSON(key: string): any\r\n    {\r\n        let ret = null\r\n\r\n        let v = Laya.LocalStorage.getItem(key)\r\n        if(v)\r\n            ret = JSON.parse(v)\r\n\r\n        return ret\r\n    }\r\n\r\n    public static remove(key: string)\r\n    {\r\n        Laya.LocalStorage.removeItem(key)\r\n    }\r\n}\r\n","import { HDMap } from \"./structure/hd_map\";\r\n\r\nexport enum TimedTaskType {\r\n    kNone,\r\n}\r\n\r\nexport const kInfinitedRepeat = -2\r\n\r\nclass TTask {\r\n    id = 0\r\n    type = TimedTaskType.kNone\r\n\r\n    private callback_ = null\r\n    private param_ = null\r\n\r\n    private timer_ = 0\r\n\r\n    private repeat_ = 1\r\n    private delay_ = 0\r\n    private interval_ = 0\r\n\r\n    private bFrame_ = false\r\n\r\n    private bPause_ = false\r\n\r\n    set pause(val: boolean)\r\n    {\r\n        this.bPause_ = this.bPause_\r\n    }\r\n\r\n    init(id: number, cb: Function, delay = 0, repeat = 1, interval = 0, param = null, \r\n        type = TimedTaskType.kNone, bFrame = false)\r\n    {\r\n        this.id = id\r\n\r\n        this.callback_ = cb\r\n\r\n        this.repeat_ = repeat < kInfinitedRepeat ? kInfinitedRepeat : repeat\r\n        this.delay_ = delay\r\n        this.interval_ = interval\r\n\r\n        this.timer_ = interval\r\n\r\n        this.type = type\r\n\r\n        this.bFrame_ = bFrame\r\n\r\n        this.bPause_ = false\r\n    }\r\n\r\n    excute(dt)\r\n    {\r\n        if(this.bPause_)\r\n            return\r\n\r\n        let bRet = false\r\n\r\n        if(this.delay_ > 0)\r\n        {\r\n            if(this.bFrame_)\r\n                --this.delay_\r\n            else\r\n                this.delay_ -= dt\r\n\r\n            return\r\n        }\r\n\r\n        if(this.repeat_ > 0 || this.repeat_ === kInfinitedRepeat)\r\n        {\r\n            if(this.bFrame_)\r\n                ++this.timer_\r\n            else\r\n                this.timer_ += dt\r\n\r\n            if(this.timer_ >= this.interval_)\r\n            {\r\n                if(this.repeat_ > 0)\r\n                    --this.repeat_\r\n\r\n                if(this.callback_)\r\n                {\r\n                    // console.log('excuteTasks callback', this.id)\r\n                    this.callback_(this.param_)\r\n                }\r\n\r\n                this.timer_ = 0\r\n            }\r\n        }\r\n        else if(this.repeat_ === 0)\r\n        {\r\n            bRet = true\r\n        }\r\n\r\n        return bRet\r\n    }\r\n}\r\n\r\nexport class TimedTaskMgr {\r\n    static instance = new TimedTaskMgr()\r\n    \r\n    private baseId_ = 0\r\n\r\n    private noneTypeMap_ = new HDMap()\r\n    private specTypeMap_ = new HDMap()\r\n\r\n    /**\r\n     * 添加定时任务\r\n     * @param cb 定时任务回调\r\n     * @param delay 延时执行，仅第一次执行回调前生效，后续即使有重复也只以interval为准，\r\n     * 当bFrame为true时，单位为帧，bFrame为false时，单位为s\r\n     * @param repeat 定时任务执行次数，默认为1次，代表只执行一次回调，kInfinitedRepeat=-2为无限循环\r\n     * @param interval 执行间隔，当repeat大于1时，每次执行回调之间的间隔时间，\r\n     * 当bFrame为true时，单位为帧，bFrame为false时，单位为s\r\n     * @param param 回调函数传入参数，由用户自行定义类型\r\n     * @param type 定时任务自定义类型，用于批量对定时任务进行操作\r\n     * @param bFrame 按帧计时还是按s计时\r\n     * @returns 返回值为定时器id，用于用户自行管理定时器的删除与中途操作\r\n     */\r\n    add(cb: Function, delay = 0, repeat = 1, interval = 0, param = null,\r\n        type = TimedTaskType.kNone, bFrame = false)\r\n    {\r\n        ++this.baseId_\r\n\r\n        let t = new TTask()\r\n        t.init(this.baseId_, cb, delay, repeat, interval, param, type, bFrame)\r\n\r\n        if(type === TimedTaskType.kNone)\r\n        {\r\n            this.noneTypeMap_.put(this.baseId_, t)\r\n        }\r\n        else\r\n        {\r\n            if(this.specTypeMap_.containsKey(t))\r\n            {\r\n                let lst = this.specTypeMap_.get(t)\r\n                if(lst != null)\r\n                    lst.push(t)\r\n            }\r\n            else\r\n            {\r\n                let lst = new Array()\r\n                lst.push(t)\r\n                this.specTypeMap_.put(t, lst)\r\n            }\r\n        }\r\n\r\n        return this.baseId_\r\n    }\r\n\r\n    addWithFrame(cb: Function, delay = 0, repeat = 1, interval = 0, param = null,\r\n        type = TimedTaskType.kNone)\r\n    {\r\n        this.add(cb, delay, repeat, interval, param, type, true)\r\n    }\r\n\r\n    /**\r\n     * 暂停一个指定id的定时任务\r\n     * @param bPause 是否暂停\r\n     * @param id 需要暂停的定时任务id\r\n     * @param t 定时任务的类别，默认为无分类\r\n     */\r\n    pause(bPause: boolean, id: number, t = TimedTaskType.kNone)\r\n    {\r\n        if(t === TimedTaskType.kNone)\r\n        {\r\n            if(this.noneTypeMap_.containsKey(id))\r\n                this.noneTypeMap_.get(id).pause = bPause\r\n            else\r\n                console.warn('[TimedTask] not valid id in type <TimedTaskType.kNone>')\r\n        }\r\n        else\r\n        {\r\n            if(this.specTypeMap_.containsKey(t))\r\n            {\r\n                if(id === -1)\r\n                {\r\n                    let lst = this.specTypeMap_.get(t)\r\n                    if(lst)\r\n                    {\r\n                        for(let i = 0; i < lst.length; ++i)\r\n                        {\r\n                            lst[i].pause = bPause\r\n                        }\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    let lst = this.specTypeMap_.get(t)\r\n                    if(lst != null)\r\n                    {\r\n                        for(let i = 0; i < lst.length; ++i)\r\n                        {\r\n                            if(lst[i].id === id)\r\n                            {\r\n                                lst[i].pause = bPause\r\n                                break\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else\r\n            {\r\n                console.warn('[TimedTask] not valid type: ', t)\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 暂时除了排除列表中的所有定时任务\r\n     * @param bPause 是否暂停\r\n     * @param excludeIds 排除id列表，位于此列表中对应的id项不会被影响\r\n     */\r\n    pauseAll(bPause: boolean, excludeIds?: number[])\r\n    {\r\n        this.noneTypeMap_.each((i, k, v: TTask)=>{\r\n            if(excludeIds)\r\n            {\r\n                let bExclude = false\r\n                for(let j = 0; j < excludeIds.length; ++j)\r\n                {\r\n                    if(excludeIds[j] == v.id)\r\n                    {\r\n                        excludeIds.splice(j, 1)\r\n                        bExclude = true\r\n                        break\r\n                    }\r\n                }\r\n\r\n                if(!bExclude)\r\n                    v.pause = bPause\r\n            }\r\n            else\r\n                v.pause = bPause\r\n        })\r\n\r\n        this.specTypeMap_.each((i, k, v)=>{\r\n            if(excludeIds)\r\n            {\r\n                for(let i = 0; i < v.length; ++i)\r\n                {\r\n                    let bExclude = false\r\n                    for(let j = 0; j < excludeIds.length; ++j)\r\n                    {\r\n                        if(excludeIds[j] == v[i].id)\r\n                        {\r\n                            excludeIds.splice(j, 1)\r\n                            bExclude = true\r\n                            break\r\n                        }\r\n                    }\r\n\r\n                    if(!bExclude)\r\n                        v[i].pause = bPause\r\n                }\r\n            }\r\n            else\r\n            {\r\n                for(let i = 0; i < v.length; ++i)\r\n                {\r\n                    v[i].pause = bPause\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 移除定时任务\r\n     * @param id 要移除的定时任务id，当id为-1，且t不为TimedTaskType.kNone时，批量移除指定类型的定时任务\r\n     * @param t 定时任务类型，需要用户自行定义\r\n     */\r\n    remove(id: number, t = TimedTaskType.kNone)\r\n    {\r\n        if(t === TimedTaskType.kNone)\r\n        {\r\n            if(this.noneTypeMap_.containsKey(id))\r\n                this.noneTypeMap_.remove(id)\r\n            // else\r\n            //     console.warn('[TimedTask] not valid id in type <TimedTaskType.kNone>')\r\n        }\r\n        else\r\n        {\r\n            if(this.specTypeMap_.containsKey(t))\r\n            {\r\n                if(id === -1)\r\n                {\r\n                    this.specTypeMap_.remove(t)\r\n                }\r\n                else\r\n                {\r\n                    let lst = this.specTypeMap_.get(t)\r\n                    if(lst != null)\r\n                    {\r\n                        for(let i = 0; i < lst.length; ++i)\r\n                        {\r\n                            if(lst[i].id === id)\r\n                            {\r\n                                lst.splice(i, 1)\r\n                                break\r\n                            }\r\n                        }\r\n\r\n                        if(lst.length == 0)\r\n                            this.specTypeMap_.remove(t)\r\n                    }\r\n                }\r\n            }\r\n            else\r\n            {\r\n                console.warn('[TimedTask] not valid type: ', t)\r\n            }\r\n        }\r\n    }\r\n\r\n    clear()\r\n    {\r\n        this.baseId_ = 0\r\n\r\n        this.noneTypeMap_.clear()\r\n        this.specTypeMap_.clear()\r\n    }\r\n\r\n    excuteTasks(dt)\r\n    {\r\n        if(this.noneTypeMap_.size() > 0)\r\n        {\r\n            let delArr = []\r\n            this.noneTypeMap_.each((i, k: number, v: TTask)=>{\r\n                if(v.excute(dt))\r\n                {\r\n                    delArr.push(v.id)\r\n                }\r\n            })\r\n\r\n            for(let i = 0; i < delArr.length; ++i)\r\n            {\r\n                this.remove(delArr[i])\r\n            }\r\n        }\r\n\r\n        if(this.specTypeMap_.size() > 0)\r\n        {\r\n            let tArr = []\r\n            let delArr = []\r\n            this.specTypeMap_.each((i, k: TimedTaskType, lst: TTask[])=>{\r\n                if(lst)\r\n                {\r\n                    tArr.push(k)\r\n                    for(let j = 0; j < lst.length; ++j)\r\n                    {\r\n                        if(lst[j].excute(dt))\r\n                            delArr.push(lst[j].id)\r\n                    }\r\n                }\r\n            })\r\n\r\n            for(let i = 0; i < tArr.length; ++i)\r\n            {\r\n                for(let j = 0; j < delArr.length; ++j)\r\n                {\r\n                    this.remove(delArr[j], tArr[i])\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const TimedTaskInst = TimedTaskMgr.instance","export class GameSetting {\r\n    static debug = 0 //是否为调试模式\r\n    static testServer = 0 //是否访问测试服\r\n    static framerate = 60 //帧率\r\n    static payment = 0 //是否带有支付\r\n    static proName = '' //项目名\r\n\r\n    static openId = '' //微信登录后的用户凭证\r\n    static unionId = '' //鉴权登录后用户的唯一凭证\r\n    static sessionKey = '' //登录会话码\r\n    static gameId = ''\r\n}","\r\nimport { G } from \"./global_def\";\r\nimport { HDMap } from \"./structure/hd_map\";\r\nimport { GameSetting } from \"../game_setting\";\r\nimport { GameStorage, SaveDef } from \"./Storage\";\r\nimport { GameEventMgrInst, EventType } from \"./event_mgr\";\r\nimport { BannerSimUI } from \"../game_ui/common/ad_sim_ui\";\r\nimport { TimedTaskInst } from \"./timed_task\";\r\nimport { DataHub } from \"../data/data_hub\";\r\n\r\nconst kMaxShareDiffGroups = 5\r\n\r\nconst kComLoginDomain = 'https://login.joyfulh.com/comLogin'\r\n\r\nexport class WxUtil {\r\n    public static sdkInfo = null\r\n\r\n    private static domain_ = kComLoginDomain\r\n\r\n    static saveData()\r\n    {\r\n        let sav = {\r\n            openId: GameSetting.openId,\r\n        }\r\n        GameStorage.writeJSON(SaveDef.kWxStatus, sav)\r\n    }\r\n\r\n    static readData()\r\n    {\r\n        let sav = GameStorage.readJSON(SaveDef.kWxStatus)\r\n        if(sav)\r\n        {\r\n            GameSetting.openId = sav.openId\r\n        }\r\n    }\r\n\r\n    //获取系统信息\r\n    public static fetchSdkInfo()\r\n    {\r\n        this.sdkInfo = wx.getSystemInfoSync()\r\n\r\n        console.log('[WxUtil SDK info]', this.sdkInfo.screenWidth, this.sdkInfo.screenHeight, this.sdkInfo.platform, this.sdkInfo.SDKVersion)\r\n    }\r\n\r\n    //对比微信基础库版本号，返回1 代表v1Str大，返回-1 代表v2Str大，返回0则相等\r\n    public static compareVersionForWx(v1Str: String, v2Str: String) \r\n    {\r\n        let v1 = v1Str.split('.')\r\n        let v2 = v2Str.split('.')\r\n        let len = Math.max(v1.length, v2.length)\r\n\r\n        while (v1.length < len) {\r\n            v1.push('0')\r\n        }\r\n        while (v2.length < len) {\r\n            v2.push('0')\r\n        }\r\n\r\n        for (let i = 0; i < len; i++) {\r\n            let num1 = parseInt(v1[i])\r\n            let num2 = parseInt(v2[i])\r\n\r\n            if (num1 > num2) {\r\n                return 1\r\n            } \r\n            else if (num1 < num2) {\r\n                return -1\r\n            }\r\n        }\r\n\r\n        return 0\r\n    }\r\n\r\n    //静默登录\r\n    /**\r\n     * \r\n     * @param succCb 登录成功后请求sessionKey成功的回调，成功后服务端将返回openId和sessionKey，格式data.res = { openId = 'xxx', sessionKey = 'xxx' }\r\n     * @param failCb 登录成功后请求sessionKey失败的回调，一般不需要\r\n     * @param errorCb 特殊问题（如网络连接超时）失败后的回调\r\n     * @param bForceLogin 因为登录态会保持一段时间，检查到会话存在就不会执行登录操作，如果需要强制重登，请将此标志位置为true\r\n     * @param bUnionID 当需要获取unionID时，登录仅仅只请求到会话code即可，不再进行获取sessionKey的操作\r\n     * \r\n        let succCb = function() {\r\n            \r\n        }\r\n\r\n        WxUtil.login(succCb, null, true)\r\n     */\r\n    static login(succCb?: Function, failCb?: Function, errorCb?: Function, bForceLogin = false, bUnionID = false)\r\n    {\r\n        if(bForceLogin)\r\n        {\r\n            this._login(succCb, failCb, errorCb, bUnionID)\r\n        }\r\n        else\r\n        {\r\n            wx.checkSession({\r\n                success: (sessionRes: any) => {\r\n                    console.log('check session succ', sessionRes)\r\n\r\n                    WxUtil.readData()\r\n\r\n                    // console.log('read session key', GameSetting.sessionKey)\r\n                },\r\n                fail: (sessionRes: any) => {\r\n                    console.log('check session fail', sessionRes)\r\n\r\n                    this._login(succCb, failCb, errorCb, bUnionID)\r\n                },\r\n                complete: (sessionRes: any) => {\r\n\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    private static loginCode = ''\r\n\r\n    private static _login(succCb?: Function, failCb?: Function, errorCb?: Function, bUnionID = false)\r\n    {\r\n        wx.login({\r\n            success: (loginRes: any) => {\r\n                G.log('login succ', 1, loginRes, bUnionID)\r\n                if(loginRes.code)\r\n                {\r\n                    this.loginCode = loginRes.code\r\n\r\n                    if(!bUnionID)\r\n                    {\r\n                        wx.request({\r\n                            url: this.domain_ + '/user/getSessionKey',\r\n                            data: {\r\n                                code: loginRes.code,\r\n                                proName: GameSetting.proName,\r\n                                choose: '1',\r\n                            },\r\n                            header: {\r\n                                'content-type': 'application/json'\r\n                            },\r\n                            method: 'GET',\r\n                            dataType: 'json',\r\n                            success: (res: any) => {\r\n                                if(res.statusCode >= 200 && res.statusCode <= 400)\r\n                                {\r\n                                    console.log('login request succ', res)\r\n\r\n                                    if(succCb)\r\n                                        succCb(JSON.parse(res.data.res))\r\n                                }\r\n                                else\r\n                                {\r\n                                    console.log('login request fail', res)\r\n\r\n                                    if(failCb)\r\n                                        failCb(res)\r\n                                }\r\n                            },\r\n                            fail: (res: any) => {\r\n                                console.log('login request complete fail', res)\r\n\r\n                                if(errorCb)\r\n                                    errorCb(res)\r\n                            },\r\n                        })\r\n                    }\r\n                    else\r\n                    {\r\n                        if(succCb)\r\n                            succCb()\r\n                    }\r\n                }\r\n            },\r\n            fail: (loginRes: any) => {\r\n                console.log('login fail', loginRes)\r\n\r\n                if(errorCb)\r\n                    errorCb(loginRes)\r\n            },\r\n            complete: (loginRes: any) => {\r\n\r\n            }\r\n        })\r\n    }\r\n\r\n    //获取用户信息，包括敏感数据\r\n    /**\r\n     * \r\n     * @param imgUrl 登录鉴权按钮的图片路径，第一次需要提醒用户进行鉴权，会用到该路径，\r\n     * 本地图片存放到如下目录 \\build-templates\\wechatgame\\res\\raw-assets\\resources\r\n     * @param commCb 通用信息回调，获取到通用信息时进行回调，这些信息不包含unionid一类的敏感信息，具体可以查阅微信接口\r\n     * https://developers.weixin.qq.com/minigame/dev/document/open-api/user-info/UserInfo.html\r\n     * @param reqSucCb 敏感信息获取成功回调，unionid由此获取，openId以及sessionKey也在此处获取\r\n     * @param reqFailCb 敏感信息获取失败回调，进行相应的处理\r\n     * @param tapCb 鉴权按钮点击事件回调，在点击时进行调用，用于处理相应的一些游戏逻辑\r\n     * @param btnStyle 按钮样式，可以自定义位置，默认处于屏幕中央\r\n     * \r\n        let commCb = function(usrInfo) {\r\n            G.console(usrInfo)\r\n        }\r\n\r\n        let sucCb = function(res) {\r\n            GameSetting.unionId = res.unionId\r\n            GameSetting.openId = res.openId\r\n            GameLogic.instance.sessionKey = res.sessionKey\r\n        }\r\n\r\n        let tapCb = function() {\r\n            //dosomething\r\n        }\r\n\r\n        WxUtil.fetchUserInfo('UI/AutoBtn', commCb, sucCb, null, tapCb)\r\n\r\n     */\r\n    static fetchUserInfo(imgUrl: string, commCb?: Function, reqSucCb?: Function, reqFailCb?: Function, \r\n        tapCb?: Function, btnStyle?: any)\r\n    {\r\n        if(WxUtil.compareVersionForWx(this.sdkInfo.SDKVersion, '1.2.0') != -1)\r\n        {\r\n            wx.getSetting({\r\n                success: (res: any) => {\r\n                    if(res.authSetting['scope.userInfo'])\r\n                    {\r\n                        wx.getUserInfo({\r\n                            withCredentials: true,\r\n                            lang: 'zh_CN',\r\n                            success: (userRes: any) => {\r\n                                if(commCb)\r\n                                    commCb(userRes.userInfo)\r\n\r\n                                this._authLogin(userRes, reqSucCb, reqFailCb)\r\n                            },\r\n\r\n                            fail: (res: any) => {\r\n                                G.log('get setting scope userInfo failed', 1, res)\r\n                            },\r\n\r\n                            complete: (res: any) => {\r\n\r\n                            },\r\n                        })\r\n                    }\r\n                    else\r\n                    {\r\n                        if(WxUtil.compareVersionForWx(this.sdkInfo.SDKVersion, '2.0.1') != -1)\r\n                        {\r\n                            let image = wx.createImage();\r\n                            image.src = 'res/raw-assets/resources/' + imgUrl + '.png'\r\n                            image.onload = function() {\r\n                                let style = btnStyle\r\n                                if(G.isEmptyObj(style))\r\n                                {\r\n                                    let wid = image.width\r\n                                    let hgt = image.height\r\n\r\n                                    style = {\r\n                                        left: this.sdkInfo.screenWidth * 0.5 - wid * 0.5,\r\n                                        top: this.sdkInfo.screenHeight * 0.5,\r\n                                        width: wid,\r\n                                        height: hgt,\r\n                                        color: '#ffffff',\r\n                                        lineHeight: 40,\r\n                                        backgroundColor: '#ff0000',\r\n                                        borderColor: '#ffffff',\r\n                                        textAlign: 'center',\r\n                                        fontSize: 16,\r\n                                        borderRadius: 4,\r\n                                    }\r\n                                }\r\n\r\n                                this._authentication(commCb, style, image.src, tapCb, reqSucCb, reqFailCb)\r\n\r\n                            }.bind(this)\r\n                        }\r\n                        else\r\n                        {\r\n                            WxUtil.modalDialog('微信更新提示', '当前微信版本较低，建议升级以保障游戏体验',\r\n                                function() {\r\n                                    wx.exitMiniProgram({})\r\n                            }, null, false)\r\n                        }\r\n                    }\r\n                },\r\n\r\n                fail: (res: any) => {\r\n\r\n                },\r\n\r\n                complete: (res: any) => {\r\n\r\n                }\r\n            })\r\n        }\r\n        else\r\n        {\r\n            WxUtil.modalDialog('微信更新提示', '当前微信版本过低，请升级已保障正常游戏体验',\r\n                function() {\r\n                    wx.exitMiniProgram({})\r\n            }, null, false)\r\n        }\r\n    }\r\n\r\n    private static _authLogin(encryptInfo, sucCb?: Function, failCb?: Function)\r\n    {\r\n        wx.request({\r\n            url: this.domain_ + '/user/auth',\r\n            data : {\r\n                encryptedData : encryptInfo.encryptedData,\r\n                iv : encryptInfo.iv,\r\n                code : this.loginCode,\r\n                proName: GameSetting.proName\r\n            },\r\n            header: {\r\n                'content-type': 'application/json'\r\n            },\r\n            method: 'GET',\r\n            dataType: 'json',\r\n            success: (res: any) => {\r\n                if(res.statusCode >= 200 && res.statusCode <= 400)\r\n                {\r\n                    console.log('_authLogin request succ', res)\r\n\r\n                    if(sucCb)\r\n                        sucCb(res.data.res)\r\n                }\r\n                else\r\n                {\r\n                    console.log('_authLogin request fail', res)\r\n\r\n                    if(failCb)\r\n                        failCb()\r\n                }\r\n            },\r\n            fail: (res: any) => {\r\n                console.log('_authLogin request complete fail', res)\r\n            },\r\n        })\r\n    }\r\n\r\n    private static _authentication(commInfoCb: Function, style: any, imgUrl: string,\r\n        tapCb?: Function, sucCb?: Function, failCb?: Function)\r\n    {\r\n        let btn = wx.createUserInfoButton({\r\n            type: 'image',\r\n            text: 'txt',\r\n            image: imgUrl,\r\n            style: style,\r\n            withCredentials: true,\r\n            lang: 'zh_CN',\r\n        })\r\n\r\n        btn.show()\r\n\r\n        G.log('create button', 1, btn)\r\n\r\n        let tpCb = function(res) {\r\n            G.log('_authentication onTap', 1, res)\r\n\r\n            if(res.iv == null || res.encryptedData == null)\r\n            {\r\n                G.log('cancel auth')\r\n\r\n                let image = wx.createImage();\r\n                image.src = imgUrl\r\n                image.onload = function() {\r\n                    let st = style\r\n                    if(G.isEmptyObj(st))\r\n                    {\r\n                        let wid = image.width\r\n                        let hgt = image.height\r\n\r\n                        st = {\r\n                            left: this.sdkInfo.screenWidth * 0.5 - wid * 0.5,\r\n                            top: this.sdkInfo.screenHeight * 0.5,\r\n                            width: wid,\r\n                            height: hgt,\r\n                            color: '#ffffff',\r\n                            lineHeight: 40,\r\n                            backgroundColor: '#ff0000',\r\n                            borderColor: '#ffffff',\r\n                            textAlign: 'center',\r\n                            fontSize: 16,\r\n                            borderRadius: 4,\r\n                        }\r\n                    }\r\n\r\n                    this._authentication(commInfoCb, style, image.src, tapCb, sucCb, failCb)\r\n\r\n                }.bind(this)\r\n            }\r\n            else\r\n            {\r\n                if(commInfoCb)\r\n                    commInfoCb(res.userInfo)\r\n\r\n                this._authLogin(res, sucCb, failCb)\r\n\r\n                if(tapCb)\r\n                    tapCb()\r\n            }\r\n\r\n            btn.offTap(tpCb)\r\n            btn.destroy()\r\n        }.bind(this)\r\n\r\n        btn.onTap(tpCb)\r\n    }\r\n\r\n    // 上报用户信息，当不需要登录自己服务时，可以考虑调用此接口上报获取到的用户信息，以便在某些邀请功能时服务端可以获取到应邀人的信息\r\n    /**\r\n     * \r\n     * @param nickName 昵称\r\n     * @param avatar 用户头像\r\n     * @param gender 性别\r\n     * @param city 城市\r\n     * @param province 省份\r\n     * @param country 国家\r\n     */\r\n    static uploadUserInfo(nickName: string, avatar: string, gender: string, city: string, province: string, country: string)\r\n    {\r\n        wx.request({\r\n            url: this.domain_ + '/user/updUser',\r\n            data : {\r\n                proName: GameSetting.proName,\r\n                openid: GameSetting.openId,\r\n                unionid: GameSetting.unionId,\r\n                nickname: nickName,\r\n                gender: gender,\r\n                avatarurl: avatar,\r\n                city: city,\r\n                province: province,\r\n                country: country,\r\n            },\r\n            header: {\r\n                'content-type': 'application/json'\r\n            },\r\n            method: 'GET',\r\n            dataType: 'json',\r\n            success: (res: any) => {\r\n\r\n            },\r\n            fail: (res: any) => {\r\n                \r\n            },\r\n        })\r\n    }\r\n\r\n    //显示转发按钮并设置回调监听\r\n    /*\r\n        let cb = function() {\r\n            return {\r\n                title: 'xx',\r\n                imageUrl: 'xxx',\r\n                query: 'xx'\r\n            }\r\n        }\r\n\r\n        WxUtil.showForward(cb)\r\n    */ \r\n    static showForward(callback: Function)\r\n    {\r\n        wx.showShareMenu({\r\n            withShareTicket: false,\r\n            success: (res: any) => {\r\n\r\n            },\r\n            fail: () => {\r\n\r\n            },\r\n            complete: () =>\r\n            {\r\n                \r\n            },\r\n        })\r\n\r\n        wx.onShareAppMessage(function() {\r\n            let ret = null\r\n            if(callback)\r\n                ret = callback()\r\n\r\n            return ret\r\n        })\r\n    }\r\n\r\n    //游戏启动时应邀信息检查\r\n    /**\r\n     * \r\n     * @param bUnionID 是否使用unionID接口\r\n     */\r\n    static launchQueryCheck(bUnionID = false)\r\n    {\r\n    \r\n    }\r\n\r\n    //游戏切换回前台时的应邀检查\r\n    /**\r\n     * \r\n     * @param query wx.onShow给到的query值\r\n     * @param inviteCb 应邀后的回调处理，将会传入一个number值到回调函数中，1表示应邀成功，0表示应邀失败\r\n     * @param bUnionID 是否使用unionId接口\r\n     */\r\n    static onShowQueryCheck(query: any, bUnionID = false)\r\n    {\r\n        \r\n    }\r\n\r\n    //定时功能重置\r\n    /**\r\n     * \r\n     * @param sysName 需要定时的系统模块名，使用前与服务端对齐，填写后端配置\r\n     * @param choose 定时功能查询或启动，0为查询是否重置，1为启动定时功能\r\n     * @param succCb 查询结果，1为已经重置，0为尚未重置\r\n     */\r\n    static reqTimerReset(sysName: string, choose: number, succCb?: Function)\r\n    {\r\n        let func = function() {\r\n            wx.request({\r\n                url: this.domain_ + '/user/reqTimerReset',\r\n                data: {\r\n                    proName: GameSetting.proName,\r\n                    sysName: sysName,\r\n                    openId: GameSetting.openId,\r\n                    choose: choose.toString()\r\n                },\r\n                header: {\r\n                    'content-type': 'application/json'\r\n                },\r\n                method: 'GET',\r\n                dataType: 'json',\r\n                success: (res: any) => {\r\n                    if(res.statusCode >= 200 && res.statusCode <= 400)\r\n                    {\r\n                        console.log('reqTimerReset request succ', res)\r\n\r\n                        let r = parseInt(res.data.res)\r\n                        if(succCb)\r\n                            succCb(r)\r\n                    }\r\n                    else\r\n                    {\r\n                        console.log('reqTimerReset request fail', res)\r\n\r\n                        WxUtil.modalDialog('网络报告', '当前网络环境不佳，请检查网络后重试')\r\n                    }\r\n                },\r\n                fail: (res: any) => {\r\n                    console.log('reqTimerReset request fail', res)\r\n                },\r\n            })\r\n        }.bind(this)\r\n\r\n        if(GameSetting.openId == '')\r\n        {\r\n            WxUtil.login(function(loginRes: any) {\r\n                GameSetting.sessionKey = loginRes.sessionKey\r\n                GameSetting.openId = loginRes.openId\r\n\r\n                func()\r\n\r\n                G.log('reqTimerReset relogin', 1, loginRes)\r\n            }, null, null, true)\r\n        }\r\n        else\r\n        {\r\n            func()\r\n        }\r\n    }\r\n\r\n    //与reqTimerReset用法一致，唯一需要注意noUnionIdCb需要用户自行处理，当不存在unionId时该作什么处理\r\n    static reqTimerResetUnion(sysName: string, choose: number, succCb?: Function, noUnionIdCb?: Function)\r\n    {\r\n        let func = function() {\r\n            wx.request({\r\n                url: this.domain_ + '/user/reqTimerResetU',\r\n                data: {\r\n                    proName: GameSetting.proName,\r\n                    sysName: sysName,\r\n                    unionId: GameSetting.unionId,\r\n                    choose: choose.toString()\r\n                },\r\n                header: {\r\n                    'content-type': 'application/json'\r\n                },\r\n                method: 'GET',\r\n                dataType: 'json',\r\n                success: (res: any) => {\r\n                    if(res.statusCode >= 200 && res.statusCode <= 400)\r\n                    {\r\n                        console.log('reqTimerResetUnion request succ', res)\r\n\r\n                        let r = parseInt(res.data.res)\r\n                        if(succCb)\r\n                            succCb(r)\r\n                    }\r\n                    else\r\n                    {\r\n                        console.log('reqTimerResetUnion request fail', res)\r\n                    }\r\n                },\r\n                fail: (res: any) => {\r\n                    console.log('reqTimerResetUnion request complete fail', res)\r\n                },\r\n            })\r\n        }.bind(this)\r\n\r\n        if(GameSetting.unionId == '')\r\n        {\r\n            if(noUnionIdCb)\r\n                noUnionIdCb()\r\n        }\r\n        else\r\n        {\r\n            func()\r\n        }\r\n    }\r\n\r\n    private static videoBonusCallback_: Function = null\r\n\r\n    private static videoAd_ = null\r\n    private static videoTimeId_ = 0\r\n\r\n    private static videoAdsProtectFlags_: HDMap = new HDMap()\r\n    private static videoAdsCallbackMap_ = new HDMap()\r\n\r\n    //广告观看接口，为了避免频繁点击拉取广告的行为，与updateAdsRequestTimer配合使用，\r\n    //第一次调用后将锁定5秒，请在合适的地方调用updateAdsRequestTimer不断更新计时器，框架默认在GameLogic之中更新\r\n    /**\r\n     * \r\n     * @param unitID 广告位id，由对应项目的微信后台管理中生成\r\n     * @param closeCbSuc 观看完毕关闭广告的回调处理\r\n     * @param closeCbFail 中断观看关闭广告的回调处理\r\n     * @param errCb 广告拉取报错的回调处理，具体错误码（若要使用需要判断基础库版本号>= 2.2.2）可以查阅微信官方手册\r\n     * @param createCb 调用该函数时会进行的回调处理，比如锁定屏幕或者暂停游戏都可以在此进行\r\n     * \r\n        let closeCbSuc = function() {\r\n            //dosomething\r\n        }\r\n\r\n        let closeCbFail = function() {\r\n            //dosomething\r\n        }\r\n\r\n        let errCb = function() {\r\n            //dosomething\r\n        }\r\n\r\n        let createCb = function() {\r\n            //dosomething\r\n        }\r\n\r\n        WxUitl.watchVideoAds('xxxxx', closeCbSuc, closeCbFail, errCb, createCb)\r\n     */\r\n    static watchVideoAds(unitID: string, closeCbSuc?: Function, closeCbFail?: Function, errCb?: Function, createCb?: Function)\r\n    {\r\n        let info = WxUtil.sdkInfo\r\n        // console.log(info.SDKVersion)\r\n        if(WxUtil.compareVersionForWx(info.SDKVersion, '2.1.0') != -1)\r\n        {\r\n            let closeCB = function(res: any) {\r\n                if(WxUtil.videoAdsProtectFlags_.containsKey(unitID))\r\n                {\r\n                    let v = WxUtil.videoAdsProtectFlags_.get(unitID)\r\n                    if(v === 1)\r\n                        return\r\n                }\r\n\r\n                console.log('Ads Close callback', res.isEnded)\r\n\r\n                GameEventMgrInst.addEvent(EventType.kAudioResume)\r\n\r\n                if(res && res.isEnded || res === undefined)\r\n                {\r\n                    if(closeCbSuc)\r\n                        closeCbSuc()\r\n\r\n                    // WxUtil.commStatAdWatchSucc()\r\n\r\n                    WxUtil.videoAdsProtectFlags_.put(unitID, 1)\r\n                }\r\n                else\r\n                {\r\n                    if(closeCbFail)\r\n                        closeCbFail()\r\n\r\n                    WxUtil.videoAdsProtectFlags_.put(unitID, 0)\r\n                }\r\n\r\n                if(WxUtil.videoTimeId_ > 0)\r\n                {\r\n                    // console.log('TimedTaskMgr.instance.remove id', WxUtil.videoTimeId_)\r\n\r\n                    TimedTaskInst.remove(WxUtil.videoTimeId_)\r\n                    WxUtil.videoTimeId_ = 0\r\n                }\r\n\r\n                WxUtil.videoBonusCallback_ = null\r\n            }\r\n\r\n            let errorCB = function(res: any) {\r\n                console.log('Ads error callback', res.errMsg)\r\n\r\n                GameEventMgrInst.addEvent(EventType.kAudioResume)\r\n\r\n                if(errCb)\r\n                    errCb(res)\r\n\r\n                WxUtil.videoBonusCallback_ = null\r\n            }\r\n\r\n            WxUtil.videoAd_ = wx.createRewardedVideoAd({\r\n                adUnitId: unitID\r\n            })\r\n            \r\n            WxUtil.videoAd_.load()\r\n                .then(() => { \r\n                    WxUtil.videoAd_.show()\r\n                        .then(() => { \r\n                            console.log('video show')\r\n                            GameEventMgrInst.addEvent(EventType.kAudioPause)\r\n\r\n                                // console.log('TimedTaskMgr.instance.add id', this.videoTimeId_)\r\n                        })\r\n                        .catch(err => console.log('video err', err))\r\n\r\n                    // WxUtil.commStatAdWatch()\r\n                    WxUtil.videoAdsProtectFlags_.put(unitID, 0)\r\n                })\r\n                .catch(err => console.log(err.errMsg))\r\n\r\n            if(this.videoAdsCallbackMap_.containsKey(unitID))\r\n            {\r\n                let info = this.videoAdsCallbackMap_.get(unitID) as VideoAdsInfo\r\n                WxUtil.videoAd_.offClose(info.closeCallback)\r\n                WxUtil.videoAd_.offError(info.errCallback)\r\n\r\n                this.videoAdsCallbackMap_.remove(unitID)\r\n            }\r\n\r\n            WxUtil.videoAd_.onClose(closeCB)\r\n            WxUtil.videoAd_.onError(errorCB)\r\n\r\n            let info = new VideoAdsInfo(closeCB, errorCB)\r\n            this.videoAdsCallbackMap_.put(unitID, info)\r\n            \r\n            if(createCb)\r\n                createCb()\r\n        }\r\n        else\r\n        {\r\n            WxUtil.modalDialog('提示', '微信版本较低，暂不支持视频观看',\r\n                null, null, false)\r\n        }\r\n    }\r\n\r\n    static interAd = null\r\n\r\n\t/**\r\n     * 创建插屏广告\r\n     * @param id 广告id\r\n     */\r\n    static addInterstitialAd(id: string)\r\n    {\r\n        let info = WxUtil.sdkInfo\r\n        if(WxUtil.compareVersionForWx(info.SDKVersion, '2.6.0') != -1)\r\n        {\r\n            try {\r\n                this.interAd = wx.createInterstitialAd({ adUnitId: id })\r\n            } \r\n            catch (error) {\r\n                console.log('addInterstitialAd', error)\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 展示插屏广告\r\n     */\r\n    static showInterstitialAd()\r\n    {\r\n        let info = WxUtil.sdkInfo\r\n        if(WxUtil.compareVersionForWx(info.SDKVersion, '2.6.0') != -1 && this.interAd)\r\n        {\r\n            // if(this.interAd)\r\n            // {\r\n            //     this.interAd.offClose()\r\n            //     this.interAd.offError()\r\n            //     this.interAd.offLoad()\r\n            // }\r\n\r\n            try {\r\n                this.interAd.show()\r\n            }\r\n            catch (error) {\r\n                console.log('showInterstitialAd', error)\r\n            }\r\n            \r\n            // this.interAd.onLoad(()=>{\r\n\r\n            // })\r\n\r\n            // this.interAd.onError(()=>{\r\n\r\n            // })\r\n\r\n            // this.interAd.onClose(()=>{\r\n\r\n            // })\r\n        }\r\n    }\r\n\r\n    //检查是否有新版本，建议使用，保障强制更新，避免版本差异造成的问题\r\n    /**\r\n        let cbUpdate = function() {\r\n            //dosomething while updating,such as process anim\r\n        }\r\n\r\n        let cbNoUpdate = function() {\r\n            //dosometiong if there's no update,such as game enter\r\n        }\r\n\r\n        WxUtil.checkVersionUpdate(cbUpdat, cbNoUpdate)\r\n     */\r\n    static checkVersionUpdate(cbUpdate: Function, cbNoUpdate: Function)\r\n    {\r\n        let info = WxUtil.sdkInfo\r\n        if(WxUtil.compareVersionForWx(info.SDKVersion, '1.9.90') != -1)\r\n        {\r\n            let opSys = info.system\r\n            let idx = opSys.indexOf('Android')\r\n            if(idx !== -1)\r\n            {\r\n                let ver = opSys.substr(7).trim()\r\n                if(WxUtil.compareVersionForWx(ver, '6.6.7') == -1)\r\n                {\r\n                    G.log('skip update cause the system version is too low', 1, ver)\r\n\r\n                    if(cbNoUpdate)\r\n                        cbNoUpdate()\r\n\r\n                    return\r\n                }\r\n            }\r\n\r\n            G.log('check version update', info.system)\r\n\r\n            const updateManager = wx.getUpdateManager()\r\n\r\n            updateManager.onCheckForUpdate(function (res) {\r\n                // 请求完新版本信息的回调\r\n                console.log(res.hasUpdate)\r\n                if(res.hasUpdate)\r\n                {\r\n                    if(cbUpdate)\r\n                        cbUpdate()\r\n                }\r\n                else\r\n                {\r\n                    if(cbNoUpdate)\r\n                        cbNoUpdate()\r\n                }\r\n            })\r\n\r\n            updateManager.onUpdateReady(function () {\r\n                WxUtil.modalDialog('更新提示', '新版本已经准备好，请重启游戏', function() {\r\n                    updateManager.applyUpdate()\r\n                }, null, false)\r\n            })\r\n\r\n            updateManager.onUpdateFailed(function () {\r\n                WxUtil.modalDialog('更新提示', '新版本下载失败，请确认网络环境是否良好或者重启微信', null, null, false)\r\n            })\r\n        }\r\n        else\r\n        {\r\n            WxUtil.modalDialog('微信更新提示', '当前微信版本较低，建议升级以保障游戏体验',\r\n                null, null, false)\r\n\r\n            if(cbNoUpdate)\r\n                cbNoUpdate()\r\n        }\r\n    }\r\n\r\n    //模态窗口，通常用在与微信接口相关的地方，考虑到与游戏风格的一体性，可以将调用此接口的地方更换为游戏中的通用对话框\r\n    static modalDialog(head: string, text: string, confirmCb?: Function, cancelCb?: Function, \r\n        bSingleBtn = true, noTxt = '取消', noClr = '#000000', yesTxt = '确定', yesClr = '#3cc51f')\r\n    {\r\n        wx.showModal({\r\n            title: head,\r\n            content: text,\r\n            showCancel: bSingleBtn,\r\n            cancelText: noTxt,\r\n            cancelColor: noClr,\r\n            confirmText: yesTxt,\r\n            confirmColor: yesClr,\r\n\r\n            success: function (res) {\r\n                if (res.confirm) \r\n                {\r\n                    if(confirmCb)\r\n                        confirmCb()\r\n                }\r\n                else if(res.cancel)\r\n                {\r\n                    if(cancelCb)\r\n                        cancelCb()\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    static toast(text: string, dura = 1500)\r\n    {\r\n        wx.showToast({ title: text, duration: dura, icon: 'none' })\r\n    }\r\n\r\n    private static gameClub_ = null\r\n\r\n    //显示游戏圈图标\r\n    /**\r\n     * \r\n     * @param left 图标左上角x轴，注意要用逻辑像素（即适配系统屏幕坐标系而不是引擎的，使用sdkInfo中获取的宽高来进行计算）\r\n     * @param top 图标左上角y轴\r\n     * @param width 图标宽度\r\n     * @param height 图标高度\r\n     */\r\n    static showGameClub(left: number, top: number, width: number, height: number)\r\n    {\r\n        if(WxUtil.compareVersionForWx(this.sdkInfo.SDKVersion, '2.0.3') != -1)\r\n        {\r\n            if(this.gameClub_ == null)\r\n            {\r\n                this.gameClub_ = wx.createGameClubButton({\r\n                    type: 'image',\r\n                    text: '',\r\n                    image: '',\r\n                    style: {\r\n                        left: left,\r\n                        top: top,\r\n                        width: width,\r\n                        height: height,\r\n                    },\r\n                    icon: 'dark'\r\n                })\r\n            }\r\n\r\n            this.gameClub_.show()\r\n        }\r\n    }\r\n\r\n    static hideGameClub()\r\n    {\r\n        if(G.isExistObj(this.gameClub_))\r\n        {\r\n            this.gameClub_.hide()\r\n        }\r\n    }\r\n\r\n    static removeGameClub()\r\n    {\r\n        if(G.isExistObj(this.gameClub_))\r\n        {\r\n            this.gameClub_.destroy()\r\n            this.gameClub_ = null\r\n        }\r\n    }\r\n\r\n    //使手机发生较短时间的振动（15 ms）。仅在 iPhone 7 / 7 Plus 以上及 Android 机型生效\r\n    static vibrateShort()\r\n    {\r\n        if(WxUtil.compareVersionForWx(this.sdkInfo.SDKVersion, '1.2.0') != -1)\r\n            wx.vibrateShort()\r\n    }\r\n\r\n    //使手机发生较长时间的振动（400 ms)\r\n    static vibrateLong()\r\n    {\r\n        if(WxUtil.compareVersionForWx(this.sdkInfo.SDKVersion, '1.2.0') != -1)\r\n            wx.vibrateLong()\r\n    }\r\n\r\n    /**\r\n     * 音频选项，设置后全局生效\r\n     * @param mixWithOther 是否与其他音频混播，设置为 true 之后，不会终止其他应用或微信内的音乐\r\n     * @param obeyMuteSwitch （仅在 iOS 生效）是否遵循静音开关，设置为 false 之后，即使是在静音模式下，也能播放声音\r\n     */\r\n    static setAudioOption(mixWithOther: boolean, obeyMuteSwitch: boolean)\r\n    {\r\n        if(WxUtil.compareVersionForWx(this.sdkInfo.SDKVersion, '2.3.0') != -1)\r\n        {\r\n            wx.setInnerAudioOption({ mixWithOther: mixWithOther, obeyMuteSwitch: obeyMuteSwitch })\r\n        }\r\n    }\r\n\r\n    private static audioInfoMap_ = new HDMap() //key: path value:AudioInfo\r\n\r\n    /**\r\n     * 音频播放\r\n     * @param path 音频资源的地址\r\n     * @param bLoop 是否循环播放，默认为 false\r\n     * @param startTime 开始播放的位置（单位：s），默认为 0\r\n     * @param volume 音量。范围 0~1。默认为 1\r\n     * @param bAuto 是否自动开始播放，默认为 false\r\n     */\r\n    static playAudio(path: string, bLoop = false, startTime = 0, volume = 1, bAuto = false)\r\n    {\r\n        let info: AudioInfo = null\r\n        if(this.audioInfoMap_.containsKey(path))\r\n        {\r\n            info = this.audioInfoMap_.get(path)\r\n        }\r\n        else\r\n        {\r\n            info = new AudioInfo(path)\r\n\r\n            this.audioInfoMap_.put(path, info)\r\n        }\r\n\r\n        if(info)\r\n        {\r\n            let audio = info.obj\r\n            if(audio)\r\n            {\r\n                audio.src = path\r\n                audio.startTime = startTime\r\n                audio.volume = volume\r\n                audio.loop = bLoop\r\n                audio.autoplay = bAuto\r\n\r\n                audio.play()\r\n            }\r\n        }\r\n    }\r\n\r\n    static addAudioCallback(path: string, endCb?: Function)\r\n    {\r\n        if(this.audioInfoMap_.containsKey(path))\r\n        {\r\n            let info = this.audioInfoMap_.get(path) as AudioInfo\r\n            if(info.endCallback)\r\n                info.obj.offEnded(info.endCallback)\r\n\r\n            info.endCallback = endCb\r\n\r\n            info.obj.onEnded(info.endCallback)\r\n        }\r\n    }\r\n\r\n    //恢复音频播放\r\n    static resumeAudio(path: string)\r\n    {\r\n        if(this.audioInfoMap_.containsKey(path))\r\n        {\r\n            let info = this.audioInfoMap_.get(path)\r\n            info.obj.play()\r\n        }\r\n    }\r\n\r\n    //暂停音频播放\r\n    static pauseAudio(path: string)\r\n    {\r\n        if(this.audioInfoMap_.containsKey(path))\r\n        {\r\n            let info = this.audioInfoMap_.get(path)\r\n            info.obj.pause()\r\n        }\r\n    }\r\n\r\n    //停止播放\r\n    static stopAudio(path: string)\r\n    {\r\n        if(this.audioInfoMap_.containsKey(path))\r\n        {\r\n            let info = this.audioInfoMap_.get(path)\r\n            info.obj.stop()\r\n        }\r\n    }\r\n\r\n    //销毁不再需要的音频实例\r\n    static destroyAudio(path: string)\r\n    {\r\n        if(this.audioInfoMap_.containsKey(path))\r\n        {\r\n            let info = this.audioInfoMap_.get(path)\r\n            if(info.endCallback)\r\n                info.obj.offEnded(info.endCallback)\r\n                \r\n            info.obj.destroy()\r\n\r\n            this.audioInfoMap_.remove(path)\r\n        }\r\n    }\r\n}\r\n\r\nclass AudioInfo {   \r\n    obj: InnerAudioContext = null\r\n    endCallback: Function = null\r\n\r\n    constructor(path: string)\r\n    {\r\n        this.obj = wx.createInnerAudioContext()\r\n    }\r\n}\r\n\r\nclass VideoAdsInfo {\r\n    closeCallback: Function = null\r\n    errCallback: Function = null\r\n\r\n    constructor(closeCb: Function, errCb: Function)\r\n    {\r\n        this.closeCallback = closeCb\r\n        this.errCallback = errCb\r\n    }\r\n}\r\n\r\nclass BannerItem {\r\n    id = ''\r\n\r\n    obj: BannerAd = null\r\n\r\n    errCb: Function = null\r\n\r\n    adErrCallback: Function = null\r\n\r\n    refreshRule = 4\r\n    refreshCnt = 0\r\n\r\n    x = 0\r\n    y = 0\r\n    w = 0\r\n    h = 0\r\n\r\n    bShow = false\r\n    bLimited = false\r\n\r\n    show()\r\n    {\r\n        if(this.obj)\r\n        {\r\n            ++this.refreshCnt\r\n\r\n            this.obj.show()\r\n                .then((val)=>{ console.log('banner show', this.id) })\r\n                .catch((err)=>{ \r\n                    console.log('banner show err', err) \r\n                    ++this.refreshCnt\r\n                })\r\n\r\n            this.bShow = true\r\n        }\r\n    }\r\n\r\n    hide()\r\n    {\r\n        if(this.obj)\r\n        {\r\n            this.obj.hide()\r\n\r\n            this.bShow = false\r\n        }\r\n    }\r\n\r\n    del()\r\n    {\r\n        if(this.obj)\r\n        {\r\n            if(this.adErrCallback)\r\n            {\r\n                this.obj.offError(this.adErrCallback)\r\n                this.adErrCallback = null\r\n            }\r\n\r\n            this.obj.destroy()\r\n        }\r\n    }\r\n}","import { G } from \"./global_def\";\r\nimport { GameStorage, SaveDef } from \"./Storage\";\r\nimport { HDMap } from \"./structure/hd_map\";\r\nimport { TimedTaskMgr } from \"./timed_task\";\r\nimport { WxUtil } from \"./wx_util\";\r\nimport { ResManager } from \"./res_mgr\";\r\nimport { GameEventMgrInst, EventType } from \"./event_mgr\";\r\n\r\n//Bgm类型枚举，除了kNone字段外必须与kBgms数组中的元素一一对应\r\nexport enum BgmType {\r\n    kBgmMenu,\r\n    kNone = 9999\r\n}\r\n\r\nconst kBgms = [\r\n    'bgm_menu',\r\n]\r\n\r\n//Sfx类型枚举，除了kNone字段外必须与kSfxSet数组中的元素一一对应\r\nexport enum SfxType {\r\n    kGoodClick,\r\n    kLuckyBox,\r\n    kNone = 9999\r\n}\r\n\r\nconst kSfxSet = [\r\n    'goodClick',\r\n    'luckybox',\r\n]\r\n\r\n//用于管理音频操作的类，是一个单例，可以直接在各处进行调用\r\nexport class AudioMgr {\r\n    public static instance: AudioMgr = new AudioMgr()\r\n\r\n    private bMuteMusic_ = false;\r\n    private bMuteSound_ = false;\r\n\r\n    private curBgmType_ = BgmType.kNone\r\n\r\n    private bgmId_ = 0\r\n\r\n    private maxBgmVol_ = 1\r\n    private maxSfxVol_ = 1\r\n\r\n    private maxFadeVol_ = 0\r\n\r\n    private bgms_: HDMap = new HDMap()\r\n    private sfxMap_: HDMap = new HDMap()\r\n\r\n    private fadeTimeTaskId_ = 0\r\n\r\n    isStopMusic()\r\n    {\r\n        return this.bMuteMusic_;\r\n    }\r\n\r\n    isStopSound()\r\n    {\r\n        return this.bMuteSound_;\r\n    }\r\n\r\n    init () \r\n    {\r\n        Laya.SoundManager.autoReleaseSound = false\r\n\r\n        GameEventMgrInst.addListener(EventType.kAudioPause, this.pauseMusic.bind(this), true)\r\n        GameEventMgrInst.addListener(EventType.kAudioResume, this.resumeMusic.bind(this), true)\r\n\r\n        this._readData()\r\n    }\r\n\r\n    start () \r\n    {\r\n        \r\n    }\r\n\r\n    //设置是否禁止播放bgm\r\n    public setIfMuteMusic(bVal: boolean)\r\n    {\r\n        let bMute = this.bMuteMusic_\r\n        this.bMuteMusic_ = bVal\r\n        if(bVal)\r\n        {\r\n            if(G.isWeChat)\r\n            {\r\n                this.pauseMusic()\r\n            }\r\n            else\r\n                Laya.SoundManager.stopMusic()\r\n        }\r\n        else\r\n        {\r\n            if(G.isWeChat)\r\n            {\r\n                this.resumeMusic()\r\n            }\r\n            else\r\n                Laya.SoundManager.playMusic(this.bgms_.get(this.curBgmType_), 1)\r\n        }\r\n\r\n        if(bMute != bVal)\r\n            this._saveData()\r\n    }\r\n\r\n    //设置是否禁止播放音效\r\n    public setIfMuteSound(bVal: boolean)\r\n    {\r\n        let bMute = this.bMuteSound_\r\n        this.bMuteSound_ = bVal\r\n\r\n        if(bVal)\r\n            Laya.SoundManager.stopAllSound()\r\n\r\n        if(bMute != bVal)\r\n            this._saveData()\r\n    }\r\n\r\n    //设置背景音乐音量\r\n    public setBgmVolume(val: number)\r\n    {\r\n        this.maxBgmVol_ = val\r\n        Laya.SoundManager.setMusicVolume(val)\r\n\r\n        if(val != this.maxBgmVol_)\r\n            this._saveData()\r\n    }\r\n\r\n    //设置音效音量\r\n    public setSfxVolume(val: number)\r\n    {\r\n        this.maxSfxVol_ = val\r\n        Laya.SoundManager.setSoundVolume(val)\r\n\r\n        if(val != this.maxSfxVol_)\r\n            this._saveData()\r\n    }\r\n\r\n    private _saveData()\r\n    {\r\n        let sav = {\r\n            bMuteBgm: this.bMuteMusic_,\r\n            bMuteSfx: this.bMuteSound_,\r\n            maxBgmVol: this.maxBgmVol_,\r\n            maxSfxVol: this.maxSfxVol_\r\n        }\r\n\r\n        GameStorage.writeJSON(SaveDef.kAudio, sav)\r\n    }\r\n\r\n    private _readData()\r\n    {\r\n        let sav = GameStorage.readJSON(SaveDef.kAudio)\r\n        if(G.isExistObj(sav))\r\n        {\r\n            this.bMuteMusic_ = sav.bMuteBgm\r\n            this.bMuteSound_ = sav.bMuteSfx\r\n            this.maxBgmVol_ = sav.maxBgmVol\r\n            this.maxSfxVol_ = sav.maxSfxVol\r\n        }\r\n        else\r\n            this._saveData()\r\n\r\n        this.setBgmVolume(this.maxBgmVol_)\r\n        this.setSfxVolume(this.maxSfxVol_)\r\n    }\r\n\r\n    /**\r\n     * 播放bgm\r\n     * @param type 背景音乐类型 \r\n     * @param callback 播放完毕回调，可选，如果存在播放完毕回调，则bgm仅播放一遍， 不会无限循环\r\n     */\r\n    public playMusic(type: BgmType, callback?: Function)\r\n    {\r\n        if(type !== BgmType.kNone && kBgms[type])\r\n        {\r\n            Laya.SoundManager.stopMusic()\r\n\r\n            this.curBgmType_ = type\r\n\r\n            let name = ''\r\n            if(this.bgms_.containsKey(type))\r\n                name = this.bgms_.get(type)\r\n            else\r\n            {\r\n                name = ResManager.nativePath + 'audio/' + kBgms[type] + '.mp3'\r\n                this.bgms_.put(type, name)\r\n            }\r\n            \r\n            let loop = callback ? 1 : 0\r\n\r\n            let handle = null\r\n            if(callback)\r\n                handle = Laya.Handler.create(this, this._loadBgm, [ type, callback ])\r\n\r\n            if(!this.bMuteMusic_)\r\n            {\r\n                if(G.isWeChat)\r\n                {\r\n                    WxUtil.playAudio(name, true)\r\n                    if(callback)\r\n                        WxUtil.addAudioCallback(name, handle)\r\n                }\r\n                else\r\n                    Laya.SoundManager.playMusic(name, loop, handle)\r\n            }\r\n        }\r\n        else\r\n        {\r\n            G.log(\"can't find Bgm\", type)\r\n        }\r\n    }\r\n\r\n    private _loadBgm(type: BgmType, callback?: Function)\r\n    {\r\n        if(callback)\r\n            callback(type)\r\n    }\r\n\r\n    public resumeMusic()\r\n    {\r\n        if(!this.bMuteMusic_)\r\n        {\r\n            if(G.isWeChat)\r\n            {\r\n                let name = this.bgms_.get(this.curBgmType_)\r\n                if(name)\r\n                    WxUtil.resumeAudio(name)\r\n            }\r\n            else\r\n                Laya.SoundManager.setMusicVolume(this.maxBgmVol_)\r\n        }\r\n    }\r\n\r\n    public pauseMusic()\r\n    {\r\n        if(G.isWeChat)\r\n        {\r\n            let name = this.bgms_.get(this.curBgmType_)\r\n            if(name)\r\n                WxUtil.pauseAudio(name)\r\n        }\r\n        else\r\n            Laya.SoundManager.setMusicVolume(0)\r\n    }\r\n\r\n    public stopEffects()\r\n    {\r\n        Laya.SoundManager.stopAllSound()\r\n    }\r\n\r\n    public stopMusic()\r\n    {\r\n        if(G.isWeChat)\r\n        {\r\n            let name = this.bgms_.get(this.curBgmType_)\r\n            if(name)\r\n                WxUtil.stopAudio(name)\r\n        }\r\n        else\r\n            Laya.SoundManager.stopMusic()\r\n    }\r\n\r\n    public replayMusic()\r\n    {\r\n        if(this.curBgmType_ && this.bgms_.containsKey(this.curBgmType_))\r\n        {\r\n            if(G.isWeChat)\r\n            {\r\n                let name = this.bgms_.get(this.curBgmType_)\r\n                if(name)\r\n                    WxUtil.playAudio(name, true)\r\n            }\r\n            else\r\n            {\r\n                Laya.SoundManager.stopMusic()\r\n                Laya.SoundManager.playMusic(this.bgms_.get(this.curBgmType_), 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    //通过淡入淡出的方式改变bgm，使用前必须要预加载好指定的bgm\r\n    /**\r\n     * \r\n     * @param t 下一首bgm的类型\r\n     * @param fadeDura 淡入淡出总耗时，会被淡入淡出两个步骤平分，默认为1s，则意味着0.5s淡出旧bgm，0.5s淡入新bgm\r\n     */\r\n    public changeBgmWithFade(t: BgmType, fadeDura = 1)\r\n    {\r\n        TimedTaskMgr.instance.remove(this.fadeTimeTaskId_)\r\n\r\n        if(this.maxFadeVol_ > 0)\r\n            this.maxBgmVol_ = this.maxFadeVol_\r\n\r\n        this.maxFadeVol_ = this.maxBgmVol_\r\n        let maxBgmVol = this.maxBgmVol_\r\n        let interval = fadeDura / 10\r\n        let fadeSpd = this.maxFadeVol_ / 10 * 2\r\n        let bPlayed = false\r\n        \r\n        this.fadeTimeTaskId_ = TimedTaskMgr.instance.add(()=> {\r\n            if(this.maxBgmVol_ > 0 && !bPlayed)\r\n            {\r\n                this.maxBgmVol_ -= fadeSpd\r\n                if(this.maxBgmVol_ <= 0)\r\n                {\r\n                    this.maxBgmVol_ = 0\r\n                    this.playMusic(t)\r\n                    bPlayed = true\r\n                }\r\n            }\r\n            else\r\n            {\r\n                this.maxBgmVol_ += fadeSpd\r\n                if(this.maxBgmVol_ >= maxBgmVol)\r\n                {\r\n                    this.maxBgmVol_ = maxBgmVol\r\n                }\r\n            }\r\n\r\n            G.log(this.maxBgmVol_)\r\n            this.setBgmVolume(this.maxBgmVol_)\r\n\r\n        }, 0, 10, interval)\r\n    }\r\n\r\n    /**\r\n     * 播放音效\r\n     * @param type 音效类型 \r\n     * @param callback 播放完毕回调，可选参数，接受一个参数type，只有非循环播放的音效才有回调\r\n     * @param bLoop 是否循环播放，默认否\r\n     */\r\n    public playSound(type: SfxType, callback?: Function, bLoop = false)\r\n    {\r\n        if(type !== SfxType.kNone && kSfxSet[type])\r\n        {\r\n            let handle = null\r\n            if(callback && !bLoop)\r\n                handle = Laya.Handler.create(this, this._loadSfx, [ type, callback ])\r\n\r\n            let name = ''\r\n            if(this.sfxMap_.containsKey(type))\r\n                name = this.sfxMap_.get(type)\r\n            else\r\n            {\r\n                name = ResManager.nativePath + 'audio/' + kSfxSet[type] + '.mp3'\r\n                this.sfxMap_.put(type, name)\r\n            }\r\n\r\n            let loop = bLoop ? 0 : 1\r\n\r\n            if(!this.bMuteSound_)\r\n                Laya.SoundManager.playSound(name, loop, handle)\r\n        }\r\n        else\r\n            G.log(\"can't find Sfx\", type)\r\n    }\r\n\r\n    private _loadSfx(type: BgmType, callback?: Function)\r\n    {\r\n        if(callback)\r\n            callback(type)\r\n    }\r\n}\r\n\r\nexport const AudioMgrInst = AudioMgr.instance","\r\nconst kNetCfg = {\r\n    resServer: 'https://huandong-1257458597.cos.ap-guangzhou.myqcloud.com/HDSDK/NavList/Pub/',\r\n    qrResServer: 'https://huandong-1257458597.cos.ap-guangzhou.myqcloud.com/HDSDK/NavList/QRCode/',\r\n    bnrResServer: 'https://huandong-1257458597.cos.ap-guangzhou.myqcloud.com/HDSDK/NavList/Banner/',\r\n    commServer: \"https://login.joyfulh.com/comLogin\",\r\n    statServer: \"https://statistic.joyfulh.com/statistic\",\r\n\r\n    nav: '/jumpData/getJumpData',\r\n    updImportStat: '/data/updImportStat',\r\n    updExportStat: '/data/updExportStat'\r\n}\r\n\r\nclass SendData {\r\n    url: string = ''\r\n    data: string = ''\r\n}\r\n\r\nconst kRefreshTime = 15 * 60 * 1000\r\nconst kRequestTime = 10 * 1000\r\nconst kRequestInterval = 15 * 1000\r\n\r\nconst kMaxRequests = 5\r\n\r\nclass ReqData {\r\n    gridCb = null\r\n    likeCb = null\r\n    qrCb = null\r\n    bnrCb = null\r\n}\r\n\r\nexport class HDNavData {\r\n    sn = 0 //编号，用于后台识别\r\n    path = '' //跳转页面参数，小游戏中作为query值使用\r\n    img = '' //游戏icon的url\r\n    type = 0 //类型，1为九宫格，2为猜你喜欢，3为二维码，4同时为九宫格和猜你喜欢\r\n    extra = null //跳转时捎带数据\r\n    appId = '' //跳转id\r\n    id = '' //缓存id\r\n    name = '' //游戏名\r\n    alias = '' //别名（一般为拼音或英文名，避免统计时偶然的中文显示异常）\r\n    qrUrl = '' //二维码拉取地址\r\n    bnrUrl = '' //条幅广告拉取地址\r\n    tag = 0 //是否带有标签（比如热门、小红点之类的）\r\n    verCode = '' //验证码，用来判定是否有数据更新\r\n    box = 0 //是否跳转盒子\r\n}\r\n\r\nexport class HDSDK {\r\n    private static gridArr_: HDNavData[] = []\r\n    private static likeArr_: HDNavData[] = [] \r\n    private static qrArr_: HDNavData[] = []\r\n    private static bnrArr_: HDNavData[] = []\r\n\r\n    private static forceMap_ = {} //强制导出的数据集合,k:appId v:HDNavData array\r\n    private static forceIds_: string[] = []\r\n\r\n    private static datMap_ = {}\r\n\r\n    private static openID_ = ''\r\n    private static proName_ = ''\r\n\r\n    private static lastRefreshTime_ = 0\r\n    private static lastReqTime_ = 0\r\n\r\n    private static reqQue_ = [] //避免短时间重复请求，会将请求缓存起来，最多缓存3次\r\n    private static reqLimited_ = 0 //请求上限，如果总是请求不到数据，需要重启游戏后才会重置请求\r\n\r\n    private static bDownloaded_ = false\r\n\r\n    private static reqTimerId_ = 0\r\n\r\n    private static autoTimerId_ = 0\r\n\r\n    private static newUser_ = 1\r\n\r\n    private static currPage_ = 1\r\n\r\n    private static loginTime_ = 0\r\n\r\n    private static dataLen_ = 0\r\n\r\n    private static bRegister_ = false\r\n\r\n    private static bLoadedNative_ = false\r\n\r\n    private static bUpdateNav_ = false\r\n    private static bDataExisted_ = false\r\n\r\n    /**\r\n     * 是否需要更新跳转信息，如果存在本地数据，那么在读取本地数据后依然会去后台拉取最新数据信息\r\n     * 如果后台信息与当前读取到的本地数据有差异，那么将会标记为需要更新数据，此时可以考虑将跳转相关的UI细节更新,\r\n     * \r\n     * 用户可以考虑自行安排周期间隔轮询改值，然后根据结果来进行跳转UI的刷新\r\n     */\r\n    static get needUpdateNavData()\r\n    {\r\n        return this.bUpdateNav_\r\n    }\r\n\r\n    /**\r\n     * 是否已经存在数据，在初始化后，如果不传入回调，那么可以通过此方法轮询是否已经收到了数据，\r\n     * 然后通过getXXXArray系列的方法获取到数据进行操作\r\n     */\r\n    static get isDataExisted()\r\n    {\r\n        return this.bDataExisted_\r\n    }\r\n\r\n    /** 获取强制导出的数据id */\r\n    static get getForceNavIds()\r\n    {\r\n        return this.forceIds_\r\n    }\r\n\r\n    /**\r\n     * 获取强制导出数据\r\n     * @param appId 由getForceNavIds中选取一个值作为传入数据\r\n     * @return 返回一个appId对应的跳转数据，没有则返回null，当有同id数据时，随机返回其中一个\r\n     */\r\n    static getForceNavData(appId: string)\r\n    {\r\n        let ret: HDNavData = null\r\n\r\n        if(this.forceMap_[appId])\r\n        {\r\n            let arr = this.forceMap_[appId]\r\n            if(arr)\r\n            {\r\n                let min = 0\r\n                let max = arr.length - 1\r\n                ret = arr[Math.round(Math.random() * (max - min)) + min]\r\n            }\r\n        }\r\n\r\n        return ret\r\n    }\r\n\r\n    /**\r\n     * SDK注册，会进行登录获取openId的操作，并且openId获取成功与否都会调用init初始化跳转数据\r\n     * openId获取成功后会在几小时内本地化缓存，第二次会直接使用上次的openId\r\n     * @param proName 由欢动对接人给出的项目名\r\n     * @param gridCb 可选参数，九宫格数据回调，接受一个HDNavData数组参数，为九宫格数据\r\n     * @param likeCb 可选参数，猜你喜欢数据回调，接受一个HDNavData数组参数，为猜你喜欢数据\r\n     * @param qrCb 可选参数，二维码数据回调，接受一个HDNavData数组参数，为二维码跳转数据\r\n     * @param bnrCb 可选参数，条幅广告数据回调，接受一个HDNavData数组参数，为条幅广告跳转数据\r\n     */\r\n    static register(proName: string, gridCb?: Function, likeCb?: Function, qrCb?: Function, bnrCb?: Function)\r\n    {\r\n        this._readSave()\r\n        this.bRegister_ = true\r\n\r\n        let diff = Date.now() - this.loginTime_\r\n        if(this.openID_ && this.openID_ !== '' && this.openID_ != 'null' &&\r\n            diff <= 14400000)\r\n        {\r\n            this.init(this.openID_, proName, gridCb, likeCb, qrCb, bnrCb)\r\n\r\n            console.log('[HDSDK] no need login', diff, this.openID_)\r\n        }\r\n        else\r\n        {\r\n            if(this._isWechat)\r\n            {\r\n                console.log('[HDSDK] login for SDK')\r\n\r\n                this._login(proName, gridCb, likeCb, qrCb, bnrCb)\r\n            }\r\n            else\r\n            {\r\n                this.init('', proName, gridCb, likeCb, qrCb, bnrCb)\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 初始化SDK信息，同时会进行一次后台数据的拉取，需要在登录微信拿到openId后调用\r\n     * @param openId 登录微信后获取到的用户唯一id\r\n     * @param proName 由欢动对接人给出的项目名\r\n     * @param gridCb 可选参数，九宫格数据回调，接受一个HDNavData数组参数，为九宫格数据\r\n     * @param likeCb 可选参数，猜你喜欢数据回调，接受一个HDNavData数组参数，为猜你喜欢数据\r\n     * @param qrCb 可选参数，二维码数据回调，接受一个HDNavData数组参数，为二维码跳转数据\r\n     * @param bnrCb 可选参数，条幅广告数据回调，接受一个HDNavData数组参数，为条幅广告跳转数据\r\n     * \r\n     * 使用样例：\r\n     * \r\n     * let gridCb = function(arr: HDNavData[]) {\r\n     *      for(let i = 0; i < arr.length; ++i)\r\n     *      {\r\n     *          //根据传入的数据进行操作\r\n     *      }\r\n     * }\r\n     * \r\n     * let likeCb = function(arr: HDNavData[]) {\r\n     *      //Do something\r\n     * }\r\n     * \r\n     * let qrCb = function(arr: HDNavData[]) {\r\n     *      //Do something\r\n     * }\r\n     * \r\n     * let bnrCb = function(arr: HDNavData[]) {\r\n     *      //Do something\r\n     * }\r\n     * \r\n     * HDSDK.init('xxxxxxx', 'test', gridCb, likeCb, qrCb)\r\n     * \r\n     * 备注：\r\n     * 上述样例的arr格式为 \r\n     * [ \r\n     *  {\"path\":\"?hdg=1\",\"img\":\"icon8\",\"type\":4,\"extra\":\"{ \"d\": \"c\"}\",\"id\":\"wx5a64c07aaf5f918a\",\"name\":\"夺命神枪手\"},\r\n     *  {\"path\":\"?hdg=2\",\"img\":\"icon4\",\"type\":4,\"extra\":\"{ \"bf\":\"a\"}\",\"id\":\"wxf7d7cf59e84c2fae\",\"name\":\"萌犬过河\"},\r\n     *  ........    \r\n     * ]\r\n     * arr为一个数组，其中每个元素包含如下属性，path为跳转路径path，作为游戏来源query值使用，img为显示的图标，extra为附加数据extraData，id为跳转id，name为游戏名\r\n     */\r\n    static init(openId: string, proName: string, gridCb?: Function, likeCb?: Function, qrCb?: Function, bnrCb?: Function)\r\n    {\r\n        this.openID_ = openId || ''\r\n        this.proName_ = proName\r\n\r\n        if(!this.bRegister_)\r\n            this._readSave()\r\n\r\n        console.log('[HDSDK] init', this.newUser_, proName, this.openID_)\r\n\r\n        let bRefresh = Date.now() - this.lastRefreshTime_ > kRefreshTime\r\n        if(!bRefresh)\r\n        {\r\n            if(this.gridArr_.length > 0 && gridCb)\r\n                gridCb(this.gridArr_)\r\n\r\n            if(this.likeArr_.length > 0 && likeCb)\r\n                likeCb(this.likeArr_)\r\n\r\n            if(this.qrArr_.length > 0 && qrCb)\r\n                qrCb(this.qrArr_)\r\n\r\n            if(this.bnrArr_.length > 0 && bnrCb)\r\n                bnrCb(this.bnrArr_)\r\n        }\r\n        else\r\n        {\r\n            this.bDownloaded_ = false\r\n\r\n            this.loadNativeData(gridCb, likeCb, qrCb, bnrCb)\r\n\r\n            this._requstQueue(gridCb, likeCb, qrCb, bnrCb)\r\n        }\r\n\r\n        if(this._isWechat)\r\n        {\r\n            let op = wx.getLaunchOptionsSync()\r\n            if(op.query && (op.query.hdg && op.query.hdg != '' || \r\n                op.query.HDg_nav_0 && op.query.HDg_nav_0 != ''))\r\n            {\r\n                let src = op.query.HDg_nav_0 || op.query.hdg\r\n\r\n                this._reportImportStat(proName, openId, src)\r\n            }\r\n        }\r\n\r\n        this.bRegister_ = false\r\n        this.newUser_ = 0\r\n        if(this.openID_ != '' && this.openID_ != 'null')\r\n        {\r\n            if(this._isWechat)\r\n            {\r\n                wx.setStorageSync('user', this.openID_)\r\n                wx.setStorageSync('login', this.loginTime_)\r\n            }\r\n            else\r\n            {\r\n                localStorage.setItem('user', this.openID_)\r\n            }\r\n        }\r\n    }\r\n\r\n    static loadNativeData(gridCb?: Function, likeCb?: Function, qrCb?: Function, bnrCb?: Function)\r\n    {\r\n        if(!this.bLoadedNative_)\r\n        {\r\n            if(typeof window['Laya'] !== 'undefined')\r\n            {\r\n                window['Laya'].loader.load('data/hd_nav.json', window['Laya'].Handler.create(null, ()=>{\r\n                    let res = window['Laya'].loader.getRes('data/hd_nav.json');\r\n                    if(res)\r\n                    {\r\n                        this._parseNavData(res, gridCb, likeCb, qrCb, bnrCb)\r\n            \r\n                        window['Laya'].loader.clearRes('data/hd_nav.json')\r\n                    }\r\n                    else\r\n                        console.log('no native data')\r\n        \r\n                }), null, window['Laya'].Loader.JSON);\r\n            }\r\n            else if(typeof window['cc'] !== 'undefined')\r\n            {\r\n                window['cc'].loader.loadRes('data/hd_nav.json', window['cc'].JsonAsset, function(err, res) {\r\n                    if(err)\r\n                        console.log('no native data')\r\n                    else\r\n                    {\r\n                        this._parseNavData(res.json, gridCb, likeCb, qrCb, bnrCb)\r\n        \r\n                        window['cc'].loader.release(res)\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取九宫格数据信息，数组类型为HDNavData[]\r\n     */\r\n    static getGridArray()\r\n    {\r\n        return this.gridArr_\r\n    }\r\n\r\n    /**\r\n     * 获取猜你喜欢数据信息，数组类型为HDNavData[]\r\n     */\r\n    static getLikeArray()\r\n    {\r\n        return this.likeArr_\r\n    }\r\n\r\n    /**\r\n     * 获取二维码数据信息，数组类型为HDNavData[]\r\n     */\r\n    static getQRCodeArray()\r\n    {\r\n        return this.qrArr_\r\n    }\r\n\r\n    /**\r\n     * 获取条幅广告信息，数组类型为HDNavData[]\r\n     */\r\n    static getBannerArray()\r\n    {\r\n        return this.bnrArr_\r\n    }\r\n\r\n    /**\r\n     * 小游戏跳转，微信环境下生效\r\n     * @param id 传入跳转的小游戏id\r\n     * @param sucCb 可选参数，玩家点击确认跳转后的回调\r\n     * @param failCb 可选参数，玩家点击取消跳转后的回调\r\n     */\r\n    static navigate(id: string, sucCb?: Function, failCb?: Function)\r\n    {\r\n        if(this._isWechat)\r\n        {\r\n            if(this.datMap_[id])\r\n            {\r\n                let dat = this.datMap_[id]\r\n                if(dat.type === 3)\r\n                {\r\n                    wx.previewImage({ \r\n                        urls: [ dat.qrUrl ],\r\n                        success: (res: any)=>{\r\n                            console.log('[HDSDK] navigate qr')\r\n                        }\r\n                    })\r\n                }\r\n                else\r\n                {\r\n                    let info = wx.getSystemInfoSync()\r\n                    if(this._compareVersionForWx(info.SDKVersion, '2.2.0') == 1)\r\n                    {\r\n                        if(dat.box === 1)\r\n                        {\r\n                            if(info.platform.indexOf('ios') !== -1)\r\n                            {\r\n                                if(failCb)\r\n                            \t\tfailCb()\r\n\r\n                                return\r\n                            }\r\n                        }\r\n\r\n                        wx.navigateToMiniProgram({ \r\n                            appId: dat.appId,\r\n                            path: dat.path,\r\n                            extraData: dat.extra,\r\n                            // envVersion: 'trial',\r\n                            success: ()=>{\r\n                                this._reportExportStat(dat)\r\n\r\n                                if(sucCb)\r\n                                \tsucCb()\r\n                            },\r\n                            fail: ()=>{\r\n                            \tif(failCb)\r\n                            \t\tfailCb()\r\n                            }\r\n                        })\r\n                    }\r\n                    else\r\n                    {\r\n                        wx.showModal({\r\n                            title: '版本提示',\r\n                            content: '微信版本较低，暂不支持游戏跳转',\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            let dat = this.datMap_[id] as HDNavData\r\n            console.log('[HDSDK] not wechat platform,navigate data is', dat.sn, dat.name, dat)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 上报小游戏导入数据，在确保SDK初始化后使用\r\n     * @param src 来源的query值，与量方沟通后确定传入数据\r\n     * \r\n     * 使用样例：\r\n     * \r\n     * let op = wx.getLaunchOptionsSync()\r\n     * \r\n     * if(op && op.query && op.query != '')\r\n     * {\r\n     *      if(op.query.xxx != '')\r\n     *          HDSDK.uploadImportData(op.query.xxx) //此处op.query.xxx中的xxx指代量方跳转时携带的query值\r\n     * }\r\n     */\r\n    static uploadImportData(src: string)\r\n    {\r\n        if(this.newUser_ === 1)\r\n            this._reportImportStat(this.proName_, this.openID_, src)\r\n    }\r\n\r\n    //------------------------------------------------------\r\n    private static _fetchData(proName: string, gridCb?: Function, likeCb?: Function, qrCb?: Function, bnrCb?: Function)\r\n    {\r\n        if(proName && proName !== '')\r\n        {\r\n            this._getNavData(proName, (dat)=>{\r\n                console.log('[HDSDK] fetch data', dat)\r\n\r\n                if(dat && dat.res)\r\n                {\r\n                    if(this.currPage_ === 1 && dat.res.length > 0)\r\n                    {\r\n                        // let bUpdate = false\r\n                        // if(this.bLoadedNative_)\r\n                        // {\r\n                        //     for(let i = 0; i < dat.res.length; ++i)\r\n                        //     {\r\n                        //         if(this._checkUpdate(dat.res[i]))\r\n                        //         {\r\n                        //             this.bUpdateNav_ = true\r\n                        //             bUpdate = true\r\n                        //             break\r\n                        //         }\r\n                        //     }\r\n                        // }\r\n                        // else\r\n                        //     bUpdate = true\r\n\r\n                        this.bUpdateNav_ = true\r\n\r\n                        this.bDownloaded_ = true\r\n\r\n                        // if(bUpdate)\r\n                        // {\r\n                            this.datMap_ = {}\r\n                            this.forceMap_ = {}\r\n                            this.forceIds_ = []\r\n                            this.gridArr_ = []\r\n                            this.likeArr_ = []\r\n                            this.qrArr_ = []\r\n                            this.bnrArr_ = []\r\n\r\n                            this.reqQue_ = []\r\n\r\n                            this.bDataExisted_ = false\r\n\r\n                            // if(this.autoTimerId_ > 0)\r\n                            //     clearTimeout(this.autoTimerId_)\r\n\r\n                            console.log('[HDSDK] page one clear flag')\r\n                        // }\r\n                        // else\r\n                        // {\r\n                        //     console.log('[HDSDK] no need to update data')\r\n\r\n                        //     return\r\n                        // }\r\n                    }\r\n\r\n                    if(dat.res.length > 0) //如果存在分页数据，则继续请求下一页\r\n                    {\r\n                        ++this.currPage_\r\n\r\n                        this._fetchData(proName, gridCb, likeCb, qrCb, bnrCb)\r\n                    }\r\n\r\n                    let arr = dat.res as Array<any>\r\n                    for(let i = 0; i < arr.length; ++i)\r\n                    {\r\n                        this._createNavData(arr[i])\r\n                    }\r\n\r\n                    if(this.gridArr_.length > 0 || this.likeArr_.length > 0)\r\n                        this.lastRefreshTime_ = Date.now()\r\n                    else\r\n                        this.lastRefreshTime_ = 0\r\n\r\n                    if(dat.res.length == 0 && this.currPage_ >= 1) //如果存在分页数据，则继续请求下一页\r\n                    {\r\n                        if(gridCb)\r\n                            gridCb(this.gridArr_)\r\n\r\n                        if(likeCb)\r\n                            likeCb(this.likeArr_)\r\n\r\n                        if(qrCb)\r\n                            qrCb(this.qrArr_)\r\n\r\n                        if(bnrCb)\r\n                            bnrCb(this.bnrArr_)\r\n\r\n                        this.bDataExisted_ = true\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    private static _readSave()\r\n    {\r\n        let usr = null\r\n        if(this._isWechat)\r\n        {\r\n            try {\r\n                usr = wx.getStorageSync('user')\r\n                let t = wx.getStorageSync('login')\r\n                this.loginTime_ = Number(t)\r\n            }\r\n            catch(e)\r\n            {\r\n                this.loginTime_ = 0\r\n                usr = null\r\n            }\r\n        }\r\n        else\r\n        {\r\n            usr = localStorage.getItem('user')\r\n        }\r\n\r\n        if(usr)\r\n        {\r\n            this.newUser_ = 0\r\n\r\n            console.log('[HDSDK] read dat', usr, this.loginTime_)\r\n\r\n            if(usr != '' && usr != 'null')\r\n            {\r\n                this.openID_ = usr\r\n            }\r\n        }\r\n        else\r\n            this.newUser_ = 1\r\n    }\r\n\r\n    private static _getNavData(proName: string, sucCb: Function)\r\n    {\r\n        let url = kNetCfg.commServer + kNetCfg.nav\r\n\r\n        let data = {\r\n            proName: proName,\r\n            page: this.currPage_,\r\n            limit: 20\r\n        }\r\n\r\n        this._common(url, data, sucCb)\r\n    }\r\n\r\n    private static _parseNavData(data, gridCb?: Function, likeCb?: Function, qrCb?: Function, bnrCb?: Function)\r\n    {\r\n        if(this.bDownloaded_)\r\n            return\r\n\r\n        for (const key in data) \r\n        {\r\n            if (data.hasOwnProperty(key))\r\n                this._createNavData(data[key], true)\r\n        }\r\n\r\n        if(gridCb && this.gridArr_.length > 0)\r\n            gridCb(this.gridArr_)\r\n\r\n        if(likeCb && this.likeArr_.length > 0)\r\n            likeCb(this.likeArr_)\r\n\r\n        if(qrCb && this.qrArr_.length > 0)\r\n            qrCb(this.qrArr_)\r\n\r\n        if(bnrCb && this.bnrArr_.length > 0)\r\n            bnrCb(this.bnrArr_)\r\n\r\n        this.bLoadedNative_ = true\r\n        this.bDataExisted_ = true\r\n\r\n        console.log('[HDSDK] load native data')\r\n    }\r\n\r\n    //检查是否更新数据，在读取了本地数据之后，如果后端拉取到了数据会进行对应的校验检查，有新的则覆盖\r\n    private static _checkUpdate(raw)\r\n    {\r\n        let bRet = false\r\n\r\n        let id = raw.id + '_' + raw.s\r\n\r\n        if(this.datMap_[id])\r\n        {\r\n            let dat = this.datMap_[id] as HDNavData\r\n\r\n            let code = this._genVerificationCode(raw)\r\n\r\n            if(dat.verCode != code)\r\n            {\r\n                bRet = true\r\n            }\r\n        }\r\n\r\n        return bRet\r\n    }\r\n\r\n    private static _createNavData(raw, bGenCode = false)\r\n    {\r\n        let nav = new HDNavData()\r\n\r\n        let img = raw.img as string\r\n        if(img.indexOf('.') !== -1) //有后缀直接使用后缀\r\n        {\r\n            nav.img = kNetCfg.resServer + raw.img\r\n        }\r\n        else //无后缀默认为.png\r\n            nav.img = kNetCfg.resServer + raw.img + '.png'\r\n        \r\n        nav.sn = raw.s\r\n        nav.type = raw.t\r\n        nav.name = raw.n\r\n        nav.path = raw.p\r\n        nav.alias = raw.a\r\n        if(raw.e !== '')\r\n            nav.extra = JSON.parse(raw.e)\r\n        nav.appId = raw.id\r\n        nav.id = nav.appId + '_' + nav.sn\r\n\r\n        if(bGenCode)\r\n            nav.verCode = this._genVerificationCode(raw)\r\n\r\n        if(nav.extra)\r\n        {\r\n            if(nav.extra.bnr)\r\n            {\r\n                let bnr = nav.extra.bnr\r\n                if(bnr.indexOf('.') !== -1) //有后缀直接使用后缀\r\n                {\r\n                    nav.bnrUrl = kNetCfg.bnrResServer + bnr\r\n                }\r\n                else //无后缀默认为.png\r\n                    nav.bnrUrl = kNetCfg.bnrResServer + bnr + '.png'\r\n\r\n                this.bnrArr_.push(nav)\r\n            }\r\n\r\n            if(nav.extra.tag)\r\n                nav.tag = 1\r\n\r\n            if(nav.extra.box)\r\n                nav.box = 1\r\n\r\n            if(nav.extra.force)\r\n            {\r\n                if(this.forceMap_[nav.appId])\r\n                {\r\n                    let arr = this.forceMap_[nav.appId]\r\n                    arr.push(nav)\r\n                }\r\n                else\r\n                {\r\n                    this.forceMap_[nav.appId] = []\r\n                    this.forceMap_[nav.appId].push(nav)\r\n\r\n                    this.forceIds_.push(nav.appId)\r\n                }\r\n            }\r\n        }\r\n\r\n        if(raw.t === 1)\r\n        {\r\n            this.gridArr_.push(nav)\r\n        }\r\n        else if(raw.t === 2)\r\n        {\r\n            this.likeArr_.push(nav)\r\n        }\r\n        else if(raw.t === 3)\r\n        {\r\n            if(nav.extra && nav.extra.qr)\r\n            {\r\n                let qr = nav.extra.qr\r\n                if(qr.indexOf('.') !== -1) //有后缀直接使用后缀\r\n                {\r\n                    nav.qrUrl = kNetCfg.qrResServer + qr\r\n                }\r\n                else //无后缀默认为.png\r\n                    nav.qrUrl = kNetCfg.qrResServer + qr + '.png'\r\n            }\r\n\r\n            this.qrArr_.push(nav)\r\n        }\r\n        else if(raw.t === 4)\r\n        {\r\n            this.gridArr_.push(nav)\r\n            this.likeArr_.push(nav)\r\n        }\r\n\r\n        this.datMap_[nav.id] = nav\r\n    }\r\n\r\n    private static _genVerificationCode(raw)\r\n    {\r\n        let code = ''\r\n\r\n        let start = raw.s + raw.n + raw.a\r\n        let p: string = raw.p\r\n        let mid = p.length + p.charAt(0) + p.charAt(Math.round(p.length / 2)) + p.charAt(p.length - 1)\r\n        let end = ''\r\n        if(raw.e !== '')\r\n        {\r\n            let e: string = raw.e\r\n            end = e.length + e.charAt(0) + e.charAt(Math.round(e.length / 2)) + e.charAt(e.length - 1)\r\n        }\r\n\r\n        code = start + mid + end\r\n\r\n        return code\r\n    }\r\n\r\n    private static _reportImportStat(proName: string, openId: string, src: string)\r\n    {\r\n        if(openId != null && openId != 'null' && openId != '')\r\n        {\r\n            let url = kNetCfg.statServer + kNetCfg.updImportStat\r\n\r\n            let data = {\r\n                proName: proName,\r\n                openid: openId,\r\n                source: src\r\n            }\r\n\r\n            this._common(url, data, null)\r\n\r\n            console.log('[HDSDK] import stat', openId, src)\r\n        }\r\n        else\r\n        {\r\n            this._login(proName)\r\n\r\n            console.error('[HDSDK] _reportImportStat openId不存在，请保证openId的获取')\r\n        }\r\n    }\r\n\r\n    private static _reportExportStat(dat: HDNavData)\r\n    {\r\n        if(this.openID_ != null && this.openID_ != 'null' && this.openID_ != '')\r\n        {\r\n            let url = kNetCfg.statServer + kNetCfg.updExportStat\r\n\r\n            let loc = ''\r\n            if(dat.bnrUrl !== '')\r\n                loc = 'banner' + dat.sn\r\n            else\r\n            {\r\n                if(dat.type == 1)\r\n                    loc = 'grid' + dat.sn\r\n                else if(dat.type == 2)\r\n                    loc = 'like' + dat.sn\r\n                else if(dat.type == 4)\r\n                    loc = 'all' + dat.sn\r\n            }\r\n\r\n            let data = {\r\n                proName: this.proName_,\r\n                openid: this.openID_,\r\n                gameName: dat.name,\r\n                location: loc,\r\n                appid: dat.appId,\r\n                alias: dat.alias\r\n            }\r\n\r\n            this._common(url, data, null)\r\n\r\n            console.log('[HDSDK] export stat', this.openID_, dat.appId, dat.id, dat.name)\r\n        }\r\n        else\r\n            console.error('[HDSDK] _reportExportStat openId不存在，请保证openId的获取')\r\n    }\r\n\r\n    private static _common(url: string, data: any, sucCb: Function, failCb?: Function)\r\n    {\r\n        if(data == null)\r\n        {\r\n            console.error('[HttpRequest] failed')\r\n            return\r\n        }\r\n\r\n        let sd = new SendData()\r\n        sd.url = url\r\n\r\n        if(typeof data == 'object')\r\n        {\r\n            for (const key in data) {\r\n                if (data.hasOwnProperty(key)) {\r\n                    const val = data[key];\r\n                    if(val == null)\r\n                        continue\r\n\r\n                    if(sd.data != '')\r\n                        sd.data += '&'\r\n                    \r\n                    if(typeof val == 'object')\r\n                    {\r\n                        let str = JSON.stringify(val)\r\n                        sd.data += key + '=' + encodeURI(str)\r\n                    }\r\n                    else if(typeof val == 'string' || typeof val == 'number' || typeof val == 'boolean')\r\n                    {\r\n                        sd.data += key + '=' + encodeURI(val.toString())\r\n                    }\r\n                    else\r\n                    {\r\n                        sd.data += key + '=' + encodeURI(val.toString())\r\n                        console.warn('[HttpRequest] please check your data type,only support object,string,number or boolean')\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else\r\n            sd.data = encodeURI(<string>data)\r\n\r\n        this._send(sd, sucCb, failCb)\r\n\r\n        sd = null\r\n    }\r\n\r\n    private static _send(sendData: SendData, sucCb?: Function, failCb?: Function) \r\n    {\r\n        let xhr = new XMLHttpRequest();\r\n        xhr.onreadystatechange = function () \r\n        {\r\n            if (xhr.readyState == 4 && (xhr.status >= 200 && xhr.status < 400)) \r\n            {\r\n                console.log('[HDSDK] req succ', xhr.responseText)\r\n\r\n                if (sucCb)\r\n                    sucCb(JSON.parse(xhr.responseText))\r\n            }\r\n            else if(xhr.status < 200 || xhr.status >= 400)\r\n            {\r\n                console.log('[HDSDK] conn', xhr.readyState, xhr.status)\r\n            }\r\n        };\r\n\r\n        xhr.onerror = function()\r\n        {\r\n            console.log('[HDSDK] error', xhr.status)\r\n\r\n            if (failCb)\r\n                failCb()\r\n        }\r\n\r\n        let url = sendData.url + '?' + sendData.data\r\n        xhr.open(\"GET\", url, true);\r\n        //xhr.setRequestHeader('content-type', 'application/json')\r\n        xhr.send();\r\n    }\r\n\r\n    private static _compareVersionForWx(v1Str: String, v2Str: String) \r\n    {\r\n        let v1 = v1Str.split('.')\r\n        let v2 = v2Str.split('.')\r\n        let len = Math.max(v1.length, v2.length)\r\n\r\n        while (v1.length < len) {\r\n            v1.push('0')\r\n        }\r\n        while (v2.length < len) {\r\n            v2.push('0')\r\n        }\r\n\r\n        for (let i = 0; i < len; i++) {\r\n            let num1 = parseInt(v1[i])\r\n            let num2 = parseInt(v2[i])\r\n\r\n            if (num1 > num2) {\r\n                return 1\r\n            } \r\n            else if (num1 < num2) {\r\n                return -1\r\n            }\r\n        }\r\n\r\n        return 0\r\n    }\r\n\r\n    private static _requstQueue(gridCb?: Function, likeCb?: Function, qrCb?: Function, bnrCb?: Function)\r\n    {\r\n        if(this.reqLimited_ < kMaxRequests && !this.bDownloaded_)\r\n        {\r\n            let rd = new ReqData()\r\n            rd.gridCb = gridCb\r\n            rd.likeCb = likeCb\r\n            rd.qrCb = qrCb\r\n            rd.bnrCb = bnrCb\r\n\r\n            this.reqQue_.push(rd)\r\n\r\n            console.log('[HDSDK] _requstQueue', this.reqQue_.length)\r\n        }\r\n\r\n        ++this.reqLimited_\r\n\r\n        this._requestProc()\r\n    }\r\n\r\n    private static _requestProc()\r\n    {\r\n        let bReq = Date.now() - this.lastReqTime_ > kRequestTime\r\n        if(bReq)\r\n        {\r\n            let rd = this.reqQue_.shift()\r\n            if(rd)\r\n            {\r\n                this.lastReqTime_ = Date.now()\r\n\r\n                this.currPage_ = 1\r\n                this._fetchData(this.proName_, rd.gridCb, rd.likeCb, rd.qrCb, rd.bnrCb)\r\n\r\n                clearTimeout(this.reqTimerId_)\r\n\r\n                this.reqTimerId_ = setTimeout(this._requestProc.bind(this), kRequestInterval)\r\n\r\n                console.log('[HDSDK] _requestProc', this.reqQue_.length)\r\n            }\r\n        }\r\n    }\r\n\r\n    private static _login(proName: string, gridCb?: Function, likeCb?: Function, qrCb?: Function, bnrCb?: Function)\r\n    {\r\n        wx.login({\r\n            success: (loginRes: any) => {\r\n                if(loginRes.code)\r\n                {\r\n                    wx.request({\r\n                        url: kNetCfg.commServer + '/user/getSessionKey',\r\n                        data: {\r\n                            code: loginRes.code,\r\n                            proName: proName,\r\n                            choose: '1',\r\n                        },\r\n                        header: {\r\n                            'content-type': 'application/json'\r\n                        },\r\n                        method: 'GET',\r\n                        dataType: 'json',\r\n                        success: (res: any) => {\r\n                            if(res.statusCode >= 200 && res.statusCode <= 400)\r\n                            {\r\n                                console.log('[HDSDK] login request succ', res)\r\n\r\n                                this.loginTime_ = Date.now()\r\n\r\n                                let dat = JSON.parse(res.data.res)\r\n                                if(dat && dat.openId)\r\n                                {\r\n                                    this.init(dat.openId, proName, gridCb, likeCb, qrCb, bnrCb)\r\n                                }\r\n                            }\r\n                            else\r\n                            {\r\n                                console.log('[HDSDK] login request fail', res)\r\n\r\n                                this.init('', proName, gridCb, likeCb, qrCb, bnrCb)\r\n                            }\r\n                        },\r\n                        fail: (res: any) => {\r\n                            console.log('[HDSDK] login request error', res)\r\n                        },\r\n                    })\r\n                }\r\n            },\r\n            fail: (loginRes: any) => {\r\n                console.log('[HDSDK] wx login error', loginRes)\r\n\r\n                this.init('', proName, gridCb, likeCb, qrCb, bnrCb)\r\n            },\r\n            complete: (loginRes: any) => {\r\n                \r\n            }\r\n        })\r\n    }\r\n\r\n    private static get _isWechat()\r\n    {\r\n        return typeof wx !== 'undefined'\r\n    }\r\n}\r\n","import { HDMap } from \"../util/structure/hd_map\";\r\nimport { G } from \"../util/global_def\";\r\n\r\nclass RandItem {\r\n    val = 0 //随机项代表数值，含义由开发者自行赋予\r\n    prob = 0 //概率\r\n}\r\n\r\n//签到数据\r\nclass SignInData {\r\n    id = 0\r\n    day = 0\r\n    amountBase = 0 //数量基数\r\n    bAmountCal = false //是否需要计算\r\n    items: RandItem[] = [] //bonus id集合\r\n    desc = '' //条目描述\r\n}\r\n\r\nclass BoxItem {\r\n    //由于随机句式和函数句式同时可能作用域奖励id或者数量，所以有两组相关的变量\r\n    //常规数据会被放到idBase或amountBase上，这种情况下idRand和amountRand长度都为0\r\n    idRand: RandItem[] = []\r\n    amountRand: RandItem[] = []\r\n\r\n    idBase = 0\r\n    bIdCal = false\r\n\r\n    amountBase = 0\r\n    bAmoutCal = false\r\n}\r\n\r\n//宝箱数据\r\nclass BoxData {\r\n    id = 0\r\n    count = 0\r\n\r\n    items: BoxItem[] = []\r\n}\r\n\r\n//种类\r\nclass Category {\r\n    id = 0\r\n    name = ''\r\n    res = '' //fgui中的资源名\r\n}\r\n\r\nexport class BonusData {\r\n    private static signInDatMap_ = new HDMap() //k: id v: SignInData\r\n    private static boxDataMap_ = new HDMap() //k: id v: BoxData\r\n    private static categoryMap_ = new HDMap() //k: id v: Category\r\n\r\n    static fetch(res)\r\n    {\r\n        this._parseCategory(res.bonusCategory)\r\n        this._parseSignInData(res.signInGenRule)\r\n        this._parseBoxData(res.boxGenRule)\r\n    }\r\n\r\n    /**\r\n     * 获取7天一组的签到奖励\r\n     * @param idx 奖励数据起始组索引，以7条数据为一组，比如idx=0将获取id为1~7的数据，\r\n     * idx为1将获取id为8~14的数据，以此类推，\r\n     * 如果单组数据量不足7条，则会进入左循环，从头部数据遍历补齐7条数据，比如只有id为1~5的数据\r\n     * 获取后得到的数据id将会为1234512的7条数据\r\n     * 如果没有指定idx=n对应分组的数据，那么将使用idx=n-x(x>=1)的分组数据\r\n     * @return 长度为7的数组，类型为SignInData\r\n     */\r\n    static getSignInDataGroup(idx: number)\r\n    {\r\n        let ret: SignInData[] = []\r\n\r\n        ret = this._getDataGroup(this.signInDatMap_, 7, idx)\r\n\r\n        return ret\r\n    }\r\n\r\n    /**\r\n     * 获取开箱数据组\r\n     * @param idx 奖励数据起始组索引，3条数据为一组，如果不足3条，比如idx=0将获取id为1~3的数据，\r\n     * idx为1将获取id为4~6的数据，以此类推，\r\n     * 如果单组数据量不足3条，则会进入左循环，从头部数据遍历补齐3条数据，比如只有id为1~2的数据\r\n     * 获取后得到的数据id将会为121的3条数据\r\n     * 如果没有指定idx=n对应分组的数据，那么将使用idx=n-x(x>=1)的分组数据\r\n     * @return 长度为3的数组，类型为SignInData\r\n     */\r\n    static getBoxDataGroup(idx: number)\r\n    {\r\n        let ret: BoxData[] = []\r\n\r\n        ret = this._getDataGroup(this.boxDataMap_, 3, idx)\r\n\r\n        return ret\r\n    }\r\n\r\n    /**\r\n     * 获取指定id的签到数据的奖励id\r\n     * @param id 签到数据id\r\n     */\r\n    static getSignInBonusID(id: number)\r\n    {\r\n        let ret = 0\r\n        if(this.signInDatMap_.containsKey(id))\r\n        {\r\n            let dat = this.signInDatMap_.get(id) as SignInData\r\n            if(dat.items.length > 0)\r\n            {\r\n                if(dat.items.length == 1)\r\n                {\r\n                    ret = dat.items[0].val\r\n                }\r\n                else\r\n                {\r\n                    let min = 0\r\n                    let max = 0\r\n\r\n                    let r = G.randRange(0, 100)\r\n                    for(let i = 0; i < dat.items.length; ++i)\r\n                    {\r\n                        max += dat.items[i].prob\r\n\r\n                        if(r <= max && r > min)\r\n                        {\r\n                            ret = dat.items[i].val\r\n                            break\r\n                        }\r\n\r\n                        min += dat.items[i].prob\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return ret\r\n    }\r\n\r\n    /**\r\n     * 获取指定id的签到数据的奖励数量\r\n     * @param id 签到数据id\r\n     * @param calCb 用于计算奖励数量的回调函数，当奖励数量为函数句式时，\r\n     * 可以通过传入一个接收SignInData.amountBase参数的回调函数计算具体的奖励数量，并返回该值\r\n     */\r\n    static getSignInBonusAmount(id: number, calCb?: Function)\r\n    {\r\n        let ret = 0\r\n        if(this.signInDatMap_.containsKey(id))\r\n        {\r\n            let dat = this.signInDatMap_.get(id) as SignInData\r\n            if(dat.bAmountCal)\r\n            {\r\n                if(calCb)\r\n                    ret = calCb(dat.amountBase)\r\n                else\r\n                    ret = dat.amountBase\r\n            }\r\n            else\r\n                ret = dat.amountBase\r\n        }\r\n\r\n        return ret\r\n    }\r\n\r\n    static getBoxBonusID(item: BoxItem, calCb?: Function)\r\n    {\r\n        return this._calBoxBonusVal(item.idRand, item.idBase, item.bIdCal, calCb)\r\n    }\r\n\r\n    static getBoxBonusAmount(item: BoxItem, calCb?: Function)\r\n    {\r\n        return this._calBoxBonusVal(item.amountRand, item.amountBase, item.bAmoutCal, calCb)\r\n    }\r\n\r\n    /**\r\n     * 获取指定id的奖励种类数据\r\n     * @param 奖励种类id\r\n     */\r\n    static getBonusCategoryData(id: number)\r\n    {\r\n        let ret: Category = null\r\n        if(this.categoryMap_.containsKey(id))\r\n        {\r\n            ret = this.categoryMap_.get(id)\r\n        }\r\n\r\n        return ret\r\n    }\r\n\r\n    private static _getDataGroup(map: HDMap, grpLen: number, grpIdx: number)\r\n    {\r\n        let ret: any[] = []\r\n\r\n        let size = map.size()\r\n        if(size > 0)\r\n        {\r\n            //没有首位id说明idx指向的组不存在数据，采用idx-1的组再测试，直到有符合条件的数据\r\n            while(grpIdx * grpLen > size - 1)\r\n            {\r\n                --grpIdx\r\n            }\r\n\r\n            ret = map.values(grpIdx * grpLen, grpLen)\r\n\r\n            //不足进行自动填充\r\n            let i = 0, len = ret.length\r\n            while(ret.length < grpLen)\r\n            {\r\n                ret.push(ret[i])\r\n\r\n                ++i\r\n                if(i >= ret.length)\r\n                    i = 0\r\n            }\r\n        }\r\n\r\n        return ret\r\n    }\r\n\r\n    private static _calBoxBonusVal(rands: RandItem[], base: number, bCal: boolean, calCb?: Function)\r\n    {\r\n        let ret = 0\r\n        if(rands.length == 0)\r\n        {\r\n            if(bCal) \r\n            {\r\n                if(calCb)\r\n                    ret = calCb(base)\r\n                else\r\n                    ret = base\r\n            }\r\n            else\r\n                ret = base\r\n        }\r\n        else\r\n        {\r\n            if(rands.length == 1)\r\n            {\r\n                ret = rands[0].val\r\n            }\r\n            else\r\n            {\r\n                let min = 0\r\n                let max = 0\r\n\r\n                let r = G.randRange(0, 100)\r\n                for(let i = 0; i < rands.length; ++i)\r\n                {\r\n                    max += rands[i].prob\r\n\r\n                    if(r <= max && r > min)\r\n                    {\r\n                        ret = rands[i].val\r\n                        break\r\n                    }\r\n\r\n                    min += rands[i].prob\r\n                }\r\n            }\r\n        }\r\n\r\n        return ret\r\n    }\r\n\r\n    private static _parseSignInData(res)\r\n    {\r\n        if (res) \r\n        {\r\n            for (const key in res) {\r\n                if (res.hasOwnProperty(key)) {\r\n                    const rawDat = res[key];\r\n                    let dat = new SignInData();\r\n\r\n                    dat.id = parseInt(key)\r\n                    dat.day = rawDat.day\r\n                    let fRet = this._parseFuncGrammar(rawDat.amount)\r\n                    dat.amountBase = fRet.base\r\n                    dat.bAmountCal = fRet.bCal\r\n                    dat.items = this._parseRandGrammar(rawDat.bid)\r\n                    dat.desc = rawDat.desc\r\n\r\n                    BonusData.signInDatMap_.put(dat.id, dat)\r\n                }\r\n            }\r\n\r\n            // console.log('_parseSignInData', this.signInDatMap_)\r\n        }\r\n    }\r\n\r\n    private static _parseBoxData(res)\r\n    {\r\n        if(res)\r\n        {\r\n            let checkGrammar = (bid: string, num: string, items: BoxItem[])=>{\r\n                let item = new BoxItem()\r\n                if(bid !== '')\r\n                {\r\n                    if(this._isFuncGrammar(bid))\r\n                    {\r\n                        let fRet = this._parseFuncGrammar(bid)\r\n                        item.idBase = fRet.base\r\n                        item.bIdCal = fRet.bCal\r\n                    }\r\n                    else if(this._isRandGrammar(bid))\r\n                    {\r\n                        item.idRand = this._parseRandGrammar(bid)\r\n                    }\r\n                    else\r\n                        item.idBase = Number(bid)\r\n                }\r\n\r\n                if(num !== '')\r\n                {\r\n                    if(this._isFuncGrammar(num))\r\n                    {\r\n                        let fRet = this._parseFuncGrammar(num)\r\n                        item.amountBase = fRet.base\r\n                        item.bAmoutCal = fRet.bCal\r\n                    }\r\n                    else if(this._isRandGrammar(num))\r\n                    {\r\n                        item.amountRand = this._parseRandGrammar(num)\r\n                    }\r\n                    else\r\n                        item.amountBase = Number(num)\r\n                }\r\n                    \r\n                if(item.idBase > 0 || item.idRand.length > 0 || \r\n                    item.amountBase > 0 || item.amountRand.length > 0)\r\n                {\r\n                    items.push(item)\r\n                }\r\n            }\r\n\r\n            for (const key in res) {\r\n                if (res.hasOwnProperty(key)) {\r\n                    const rawDat = res[key]\r\n                    let dat = new BoxData()\r\n\r\n                    dat.id = parseInt(key)\r\n                    dat.count = rawDat.count\r\n\r\n                    checkGrammar(rawDat.bid1, rawDat.num1, dat.items)\r\n                    checkGrammar(rawDat.bid2, rawDat.num2, dat.items)\r\n                    checkGrammar(rawDat.bid3, rawDat.num3, dat.items)\r\n\r\n                    BonusData.boxDataMap_.put(dat.id, dat)\r\n                }\r\n            }\r\n\r\n            // console.log('_parseBoxData', this.boxDataMap_)\r\n        }\r\n    }\r\n\r\n    private static _parseCategory(res)\r\n    {\r\n        if(res)\r\n        {\r\n            for (const key in res) {\r\n                if (res.hasOwnProperty(key)) {\r\n                    const rawDat = res[key]\r\n                    let dat = new Category()\r\n\r\n                    dat.id = parseInt(key)\r\n                    dat.name = rawDat.name\r\n                    dat.res = rawDat.res\r\n\r\n                    BonusData.categoryMap_.put(dat.id, dat)\r\n                }\r\n            }\r\n\r\n            // console.log('_parseCategory', this.categoryMap_)\r\n        }\r\n    }\r\n\r\n    private static _isFuncGrammar(seg: any)\r\n    {\r\n        return typeof seg == 'string' && seg.indexOf('f') != -1\r\n    }\r\n\r\n    private static _isRandGrammar(seg: any)\r\n    {\r\n        return typeof seg == 'string' && seg.indexOf(',') != -1\r\n    }\r\n\r\n    private static _parseFuncGrammar(seg: any)\r\n    {\r\n        let ret = { base: 0, bCal: false }\r\n\r\n        if(typeof seg == 'string' && seg.indexOf('f') != -1)\r\n        {\r\n            let lb = seg.indexOf('(')\r\n            let rb = seg.indexOf(')')\r\n            if(lb != -1 && rb != -1)\r\n            {\r\n                let par = seg.substring(lb + 1, rb)\r\n\r\n                ret.base = Number(par)\r\n                ret.bCal = true\r\n            }\r\n            else\r\n            {\r\n                ret.base = 1\r\n                ret.bCal = false\r\n            }\r\n        }\r\n        else\r\n            ret.base = Number(seg)\r\n\r\n        return ret\r\n    }\r\n\r\n    private static _parseRandGrammar(seg: any)\r\n    {\r\n        let ret: RandItem[] = []\r\n\r\n        if(typeof seg == 'string' && seg.indexOf(',') != -1)\r\n        {\r\n            let probSum = 0\r\n            let probFlagCnt = 0 //无概率项目的标记个数，用于最后统一分配概率\r\n\r\n            let comma = seg.indexOf(',')\r\n            let len = comma != -1 ? 2 : 0\r\n            while(len > 0)\r\n            {\r\n                let item = new RandItem()\r\n\r\n                let grp = comma != -1 ? seg.substring(0, comma) : seg\r\n                let colon = grp.indexOf(':')\r\n                if(colon != -1)\r\n                {\r\n                    let id = grp.substring(0, colon)\r\n                    item.val = Number(id)\r\n\r\n                    if(probSum < 100)\r\n                    {\r\n                        let p = grp.substring(colon + 1)\r\n                        item.prob = Number(p)\r\n\r\n                        probSum += item.prob\r\n                        if(probSum > 100)\r\n                        {\r\n                            let overflow = probSum - 100\r\n                            item.prob -= overflow\r\n                            if(item.prob < 0)   \r\n                                item.prob = 0\r\n                        }\r\n                    }\r\n                    else\r\n                        item.prob = 0\r\n                }\r\n                else\r\n                {\r\n                    item.val = Number(grp)\r\n                    item.prob = -1 //标记，没有直接指明概率的会在收集完概率信息后统一取一次值\r\n                    ++probFlagCnt\r\n                }\r\n\r\n                --len\r\n\r\n                if(comma != -1)\r\n                {\r\n                    seg = seg.substring(comma + 1)\r\n\r\n                    comma = seg.indexOf(',')\r\n                    if(comma != -1)\r\n                        ++len\r\n                }\r\n\r\n                ret.push(item)\r\n            }\r\n\r\n            if(probSum < 100)\r\n            {\r\n                let remain = 100 - probSum\r\n\r\n                if(probFlagCnt > 0)\r\n                {\r\n                    //统一均分剩余概率\r\n                    let avgProb = remain / probFlagCnt\r\n                    for(let i = 0; i < ret.length; ++i)\r\n                    {\r\n                        if(ret[i].prob == -1)\r\n                            ret[i].prob = avgProb\r\n                    }\r\n\r\n                    ret[ret.length - 1].prob += 0.0000001 //补齐可能存在的小数误差\r\n                }\r\n                else\r\n                {\r\n                    //无标记概率，但有剩余概率数值，补充给末位元素\r\n                    ret[ret.length - 1].prob += remain\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            let item = new RandItem()\r\n            item.val = Number(seg)\r\n            item.prob = 100\r\n            ret[0] = item\r\n        }\r\n\r\n        return ret\r\n    }\r\n}\r\n","import { GameStorage, SaveDef } from \"../util/Storage\";\r\nimport { HDMap } from \"../util/structure/hd_map\";\r\nimport { Buff, kMaxLv } from \"./buff\";\r\nimport { G } from \"../util/global_def\";\r\nimport { BonusData } from \"../data/bonus_data\";\r\n\r\nconst kVideoBonusCnt = 5 //每日视频宝箱次数\r\nconst kVideoBonusTime = 300 //视频免费宝箱倒计时基数\r\nconst kSignAutoPopCnt = 3 //每日自动弹出签到次数\r\n\r\nexport const kSpdConversionFac = 2000\r\n\r\n//奖励类型，务必与BonusData中的Category数据id一一对应\r\nexport enum BonusType {\r\n    kCoin = 1,\r\n    kPiece1,\r\n    kPiece2,\r\n    kPiece3,\r\n}\r\n\r\nexport class BonusInfo {\r\n    type: BonusType = BonusType.kCoin\r\n    count = 0\r\n    desc = ''\r\n\r\n    constructor(t: BonusType, cnt: number, desc = '')\r\n    {\r\n        this.type = t\r\n        this.count = cnt\r\n        this.desc = desc\r\n    }\r\n}\r\n\r\n//每日数据，比如签到相关的，每日需要重置的都可以放在这里\r\nexport class DailyData {\r\n    //签到相关奖励\r\n    signInBonusMap = new HDMap() //key: type value: count\r\n    lastSignInDay = 0\r\n    signInAwarded = 0\r\n    signInAwardCnt = 0 //一轮签到的累计次数\r\n    signInTotalCnt = 0 //签到总次数\r\n\r\n    videoLimited = 0 //是否当日视频上限\r\n    signAutoPopCnt = 2\r\n    videoBonusCnt = 5\r\n\r\n    //离线宝箱奖励\r\n    videoBonusTime = 3600 //sec\r\n    offlineTimestamp = 0\r\n}\r\n\r\n//玩家属性数据\r\nexport class PlayerProp {\r\n    //此处仅为样例，请自行根据需求修改\r\n    lv = 1\r\n    coin = 0\r\n    ownRoles = [ 1 ]\r\n    itemMap = new HDMap()\r\n}\r\n\r\nexport class GameUserInfo {\r\n    static prop: PlayerProp = new PlayerProp()\r\n    static dailyDat = new DailyData()\r\n\r\n    static get signInAwards()\r\n    {\r\n        if(GameUserInfo.dailyDat.signInBonusMap.size() === 0 || GameUserInfo.dailyDat.signInAwardCnt >= 7)\r\n        {\r\n            GameUserInfo.dailyDat.signInBonusMap.clear()\r\n            GameUserInfo.dailyDat.signInAwardCnt = 0\r\n\r\n            //样例代码，请自行根据需求定制此类函数\r\n            let amountCb = (base)=>{\r\n                return base * this.prop.lv\r\n            }\r\n\r\n            let idx = Math.floor((GameUserInfo.dailyDat.signInTotalCnt + 1) / 7)\r\n            let arr = BonusData.getSignInDataGroup(idx)\r\n            for(let i = 0; i < arr.length; ++i)\r\n            {\r\n                let dat = arr[i]\r\n                let t = BonusData.getSignInBonusID(dat.id)\r\n                let n = BonusData.getSignInBonusAmount(dat.id, amountCb)\r\n\r\n                let d = dat.desc\r\n                let bd = BonusData.getBonusCategoryData(t)\r\n                if(d == '')\r\n                {\r\n                    d = bd ? '可获得' + bd.name : '可获得奖励'\r\n                }\r\n                \r\n                GameUserInfo.dailyDat.signInBonusMap.put(dat.day, new BonusInfo(t, n, d))\r\n            }\r\n        }\r\n\r\n        return GameUserInfo.dailyDat.signInBonusMap\r\n    }\r\n\r\n    static genBoxAwards(num: number, out: HDMap)\r\n    {\r\n        if(out)\r\n        {\r\n            out.clear()\r\n\r\n            if(num < 1)\r\n                num = 1\r\n            else if(num > 3)\r\n                num = 3\r\n\r\n            //样例代码，请自行根据需求定制此类函数\r\n            let idCb = (base)=>{\r\n                return base\r\n            }\r\n\r\n            let amountCb = (base)=>{\r\n                return base * this.prop.lv\r\n            }\r\n\r\n            //样例代码，这里getBoxDataGroup传入的索引值可以自行根据需求传入\r\n            let arr = BonusData.getBoxDataGroup(0)\r\n            for(let i = 0; i < arr.length; ++i)\r\n            {\r\n                if(arr[i].count === num)\r\n                {\r\n                    for(let j = 0; j < arr[i].items.length; ++j)\r\n                    {\r\n                        let item = arr[i].items[j]\r\n                        let t = BonusData.getBoxBonusID(item, idCb)\r\n                        let n = BonusData.getBoxBonusAmount(item, amountCb)\r\n\r\n                        out.put(j + 1, new BonusInfo(t, n))\r\n                    }\r\n\r\n                    break\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    static get isVideoLimited()\r\n    {\r\n        return GameUserInfo.dailyDat.videoLimited === 1\r\n    }\r\n\r\n    static get isVideoBonus()\r\n    {\r\n        return GameUserInfo.dailyDat.videoBonusTime <= 0 && GameUserInfo.dailyDat.videoBonusCnt > 0\r\n    }\r\n\r\n    static get isVideoBonusExisted()\r\n    {\r\n        return GameUserInfo.dailyDat.videoBonusCnt > 0\r\n    }\r\n\r\n    static get isSignInAutoPopout()\r\n    {\r\n        return GameUserInfo.dailyDat.signAutoPopCnt > 0\r\n    }\r\n\r\n    static get isSignInAwarded()\r\n    {\r\n        return GameUserInfo.dailyDat.signInAwarded === 1\r\n    }\r\n\r\n    static get isSignIn7Days()\r\n    {\r\n        return GameUserInfo.dailyDat.signInAwardCnt >= 7\r\n    }\r\n\r\n    static get videoBounsTime()\r\n    {\r\n        return GameUserInfo.dailyDat.videoBonusTime\r\n    }\r\n\r\n    static limitVideo()\r\n    {\r\n        GameUserInfo.dailyDat.videoLimited = 1\r\n    }\r\n\r\n    static countSignInPop(bClear = false)\r\n    {\r\n        if(bClear)\r\n            GameUserInfo.dailyDat.signAutoPopCnt = -1\r\n        else\r\n            --GameUserInfo.dailyDat.signAutoPopCnt\r\n    }\r\n\r\n    static calVideoBonusTime(val: number)\r\n    {\r\n        GameUserInfo.dailyDat.videoBonusTime -= val\r\n    }\r\n\r\n    static countVideoBonus()\r\n    {\r\n        --GameUserInfo.dailyDat.videoBonusCnt\r\n    }\r\n\r\n    static resetVideoBonusTime()\r\n    {\r\n        GameUserInfo.dailyDat.videoBonusTime = (kVideoBonusTime * (kVideoBonusCnt - GameUserInfo.dailyDat.videoBonusCnt + 1))\r\n    }\r\n\r\n    static setOfflineTimestamp()\r\n    {\r\n        GameUserInfo.dailyDat.offlineTimestamp = Date.now()\r\n    }\r\n\r\n    static calOfflineTime()\r\n    {\r\n        if(GameUserInfo.dailyDat.offlineTimestamp > 0)\r\n        {\r\n            let diff = Date.now() - GameUserInfo.dailyDat.offlineTimestamp\r\n            let sec = diff / 1000\r\n\r\n            GameUserInfo.calVideoBonusTime(sec)\r\n         \r\n            GameUserInfo.dailyDat.offlineTimestamp += diff\r\n        }\r\n    }\r\n\r\n    static isCoinAfford(val: number)\r\n    {\r\n        return GameUserInfo.prop.coin >= val\r\n    }\r\n\r\n    static saveProp()\r\n    {\r\n        GameStorage.writeJSON(SaveDef.kPlayer, GameUserInfo.prop)\r\n    }\r\n\r\n    static saveSignIn()\r\n    {\r\n        GameStorage.writeJSON(SaveDef.kDaily, GameUserInfo.dailyDat)\r\n    }\r\n\r\n    static read()\r\n    {\r\n        let sav = GameStorage.readJSON(SaveDef.kPlayer)\r\n        if(sav)\r\n        {\r\n            // G.log('read player prop', sav)\r\n\r\n            GameUserInfo.prop.coin = sav.coin\r\n\r\n            GameUserInfo.prop.ownRoles = sav.ownRoles\r\n\r\n            GameUserInfo.prop.itemMap.copy(sav.itemMap)\r\n        }\r\n        else\r\n        {\r\n            GameUserInfo.prop.itemMap.put(1, 1)\r\n\r\n            GameUserInfo.saveProp()\r\n        }\r\n\r\n        let signDat = GameStorage.readJSON(SaveDef.kDaily)\r\n        if(signDat)\r\n        {\r\n            GameUserInfo.dailyDat.signInAwardCnt = signDat.signInAwardCnt\r\n            GameUserInfo.dailyDat.lastSignInDay = signDat.lastSignInDay\r\n            GameUserInfo.dailyDat.signInTotalCnt = signDat.signInTotalCnt\r\n\r\n            let date = new Date()\r\n            if(date.getDate() == GameUserInfo.dailyDat.lastSignInDay)\r\n            {\r\n                GameUserInfo.dailyDat.videoLimited = signDat.videoLimited\r\n                GameUserInfo.dailyDat.signAutoPopCnt = signDat.signAutoPopCnt\r\n                GameUserInfo.dailyDat.videoBonusCnt = signDat.videoBonusCnt\r\n                GameUserInfo.dailyDat.videoBonusTime = signDat.videoBonusTime\r\n                GameUserInfo.dailyDat.signInAwarded = signDat.signInAwarded\r\n            }\r\n            else\r\n            {\r\n                GameUserInfo.dailyDat.videoLimited = 0\r\n                GameUserInfo.dailyDat.signAutoPopCnt = kSignAutoPopCnt\r\n                GameUserInfo.dailyDat.videoBonusCnt = kVideoBonusCnt\r\n                GameUserInfo.dailyDat.videoBonusTime = kVideoBonusTime\r\n                GameUserInfo.dailyDat.signInAwarded = 0\r\n                \r\n                GameUserInfo.dailyDat.lastSignInDay = date.getDate()\r\n            }\r\n\r\n            GameUserInfo.dailyDat.offlineTimestamp = signDat.lastTimestamp\r\n\r\n            GameUserInfo.calOfflineTime()\r\n\r\n            if(GameUserInfo.dailyDat.signInAwardCnt >= 7)\r\n            {\r\n                GameUserInfo.dailyDat.signInBonusMap.clear()\r\n                GameUserInfo.dailyDat.signInAwardCnt = 0\r\n            }\r\n            else\r\n                GameUserInfo.dailyDat.signInBonusMap.copy(signDat.signInBonusMap)\r\n\r\n            GameUserInfo.saveSignIn()\r\n        }\r\n        else\r\n        {\r\n            GameUserInfo.dailyDat.lastSignInDay = 0\r\n            GameUserInfo.dailyDat.signInAwardCnt = 0\r\n            GameUserInfo.dailyDat.signInAwarded = 0\r\n            GameUserInfo.dailyDat.signInTotalCnt = 0\r\n            \r\n            GameUserInfo.dailyDat.videoLimited = 0\r\n            GameUserInfo.dailyDat.signAutoPopCnt = kSignAutoPopCnt\r\n            GameUserInfo.dailyDat.videoBonusCnt = kVideoBonusCnt\r\n            GameUserInfo.dailyDat.videoBonusTime = kVideoBonusTime\r\n\r\n            let date = new Date()\r\n            GameUserInfo.dailyDat.lastSignInDay = date.getDate()\r\n\r\n            GameUserInfo.saveSignIn()\r\n        }\r\n    }\r\n}","\r\nimport { G } from \"../util/global_def\";\r\nimport { GameSetting } from \"../game_setting\";\r\nimport { BonusData } from \"./bonus_data\";\r\n\r\nexport class DataHub {\r\n    static version = '1.0.0'\r\n\r\n    static config = { \r\n        export: 1,  //导出位是否显示 1显示 0不显示\r\n        forceNavProb: 50, //强制导出概率，默认50%\r\n        forceFakePageProb: 0,\r\n        fakeBtnClick: 0,\r\n\r\n        directAward: 0, //流量主未开启前，是否玩家允许直接领取视屏奖励\r\n    }\r\n\r\n    static message = { sh: [ { title: '分享标题，请自行修改', \r\n        img: 'https://huandong-1257458597.cos.ap-guangzhou.myqcloud.com/Shared/test/sh1.png' } ] }\r\n\r\n    static bJsonLoaded = false //json数据是否加载完成，影响Load过程\r\n\r\n    /**\r\n     * 随机获取分享信息\r\n     */\r\n    static get getMessage()\r\n    {\r\n        return this.message.sh[G.randRange(0, this.message.sh.length - 1)]\r\n    }\r\n\r\n    /**\r\n     * 加载后台分享信息与开关配置\r\n     */\r\n    static loadBackendConfig()\r\n    {\r\n        \r\n    }\r\n\r\n    /**\r\n     * 加载游戏json配置\r\n     */\r\n    static loadJson()\r\n    {\r\n        G.readJson('data/testDat', (res)=>{\r\n            BonusData.fetch(res)\r\n\r\n            this.bJsonLoaded = true\r\n        });\r\n    }\r\n}","//游戏逻辑调度，作为一个整个游戏生命周期都存在的单例，可以完成很多单一实例的转接工作\r\n\r\nimport { G } from \"./util/global_def\";\r\nimport { GameStorage, SaveDef } from \"./Util/Storage\";\r\nimport { GameEventMgr } from \"./util/event_mgr\";\r\nimport { AudioMgr } from \"./util/audio_mgr\";\r\nimport { TimedTaskMgr } from \"./util/timed_task\";\r\nimport { HDSDK } from \"./HDSDK\";\r\nimport { ResManager } from \"./util/res_mgr\";\r\nimport { GameUserInfo } from \"./game/user_info\";\r\nimport { DataHub } from \"./data/data_hub\";\r\nimport { WxUtil } from \"./util/wx_util\";\r\nimport { GameSetting } from \"./game_setting\";\r\n\r\nconst kUnionID = false\r\n\r\nexport class GameLogic {\r\n    public static instance = new GameLogic()\r\n\r\n    private gameEvtMgr_: GameEventMgr = null\r\n    private timedTaskMgr_: TimedTaskMgr = null\r\n\r\n    private fpsSum_ = 0\r\n    private frames_ = 0\r\n    private bRecDt_ = false\r\n\r\n    bLogined = false //是否已经登录，无论失败还是成功会置为true\r\n\r\n    init () \r\n    {\r\n        Laya.stage.frameRate = GameSetting.framerate === 60 ? \r\n            Laya.Stage.FRAME_FAST : Laya.Stage.FRAME_SLOW\r\n\r\n        if(this.gameEvtMgr_ == null)\r\n            this.gameEvtMgr_ = GameEventMgr.instance\r\n        this.gameEvtMgr_.init()\r\n\r\n        if(this.timedTaskMgr_ == null)\r\n            this.timedTaskMgr_ = TimedTaskMgr.instance\r\n        this.timedTaskMgr_.clear()\r\n\r\n        AudioMgr.instance.init()\r\n\r\n        if(GameSetting.debug == 1)\r\n            GameStorage.clearAllStorage()\r\n\r\n        this.loadData()\r\n        \r\n        if(G.isWeChat)\r\n        {\r\n            let sucCb = this._loginSucc.bind(this)\r\n            let failCb = this._loginFail.bind(this)\r\n            let errCb = this._loginError.bind(this)\r\n\r\n            if(GameSetting.openId && GameSetting.openId != '' && GameSetting.openId != 'null' &&\r\n                GameSetting.payment === 0)\r\n            {\r\n                this._loginSucc(null)\r\n            }\r\n            else\r\n            {\r\n                if(!kUnionID)\r\n                    WxUtil.login(sucCb, failCb, errCb, true)\r\n            }\r\n\r\n            //自行填写主动转发的必要参数\r\n            let forwardCb = function() {\r\n                let msg = DataHub.getMessage\r\n\r\n                return {\r\n                    title: msg.title,\r\n                    imageUrl: msg.img,\r\n                    query: '',\r\n                }\r\n            }.bind(this)\r\n\r\n            WxUtil.showForward(forwardCb)\r\n\r\n            //由于来电话或者虚拟按键切后台等原因导致的音频播放被关闭，使用此方法恢复\r\n            wx.onAudioInterruptionEnd(()=>{\r\n                AudioMgr.instance.stopEffects()\r\n                AudioMgr.instance.resumeMusic()\r\n            })\r\n        }\r\n        else\r\n        {\r\n            this.bLogined = true\r\n            HDSDK.init(GameSetting.openId, GameSetting.proName)\r\n        }\r\n\r\n        this._onShow()\r\n        this._onHide()\r\n    }\r\n\r\n    start () \r\n    {\r\n        \r\n    }\r\n\r\n    log()\r\n    {\r\n        \r\n    }\r\n\r\n    loadData()\r\n    {\r\n        this.readData()\r\n        WxUtil.readData()\r\n\r\n        GameUserInfo.read()\r\n    }\r\n\r\n    saveData()\r\n    {\r\n        let sav = {\r\n            \r\n        }\r\n\r\n        GameStorage.writeJSON(SaveDef.kGameData, sav)\r\n    }\r\n\r\n    private readData()\r\n    {\r\n        let sav = GameStorage.readJSON(SaveDef.kGameData)\r\n        if(G.isExistObj(sav))\r\n        {\r\n            \r\n        }\r\n        else\r\n        {\r\n            \r\n        }\r\n    }\r\n\r\n    get eventManager()\r\n    {\r\n        return this.gameEvtMgr_\r\n    }\r\n\r\n    //跳转场景处理，可传入进度回调以及加载后回调\r\n    /**\r\n     * \r\n     * @param scene 要跳转的场景名\r\n     * @param lauchedCb 场景跳转完毕后的回调\r\n     */\r\n    changeScene(scene: string, lauchedCb?: Function)\r\n    {\r\n        GameEventMgr.instance.clear()\r\n        TimedTaskMgr.instance.clear()\r\n\r\n        ResManager.instance.loadScene(scene, ()=>{\r\n            if(lauchedCb)\r\n                lauchedCb()\r\n\r\n            Laya.Resource.destroyUnusedResources()\r\n        })\r\n\r\n        if(G.isWeChat)\r\n            wx.triggerGC()\r\n    }\r\n\r\n    clear()\r\n    {\r\n        GameEventMgr.instance.clear()\r\n        TimedTaskMgr.instance.clear()\r\n\r\n        Laya.Resource.destroyUnusedResources()\r\n\r\n        if(G.isWeChat)\r\n            wx.triggerGC()\r\n    }\r\n\r\n    recordFPS(bVal: boolean)\r\n    {\r\n        if(bVal)\r\n        {\r\n            this.fpsSum_ = 0\r\n            this.frames_ = 0\r\n        }\r\n\r\n        this.bRecDt_ = bVal\r\n    }\r\n\r\n    get averageFPS()\r\n    {\r\n        let ret = 0\r\n        if(this.frames_ > 0)\r\n            ret = Math.floor((this.fpsSum_ / this.frames_))\r\n        return ret\r\n    }\r\n\r\n    update () \r\n    {\r\n        let dt = Laya.timer.delta / 1000\r\n\r\n        if(this.gameEvtMgr_)\r\n            this.gameEvtMgr_.excuteEvents()\r\n        \r\n        if(this.timedTaskMgr_)\r\n            this.timedTaskMgr_.excuteTasks(dt)\r\n        \r\n        if(this.bRecDt_)\r\n        {\r\n            if(dt > 0)\r\n            {\r\n                let f = 1 / dt\r\n                if(f > 60)\r\n                    f = 60\r\n                this.fpsSum_ += f\r\n\r\n                // G.log('fps rec', 1 / dt)\r\n            }\r\n            ++this.frames_\r\n        }\r\n    }\r\n\r\n    private _loginSucc(res)\r\n    {\r\n        if(res)\r\n        {\r\n            GameSetting.openId = res.openId\r\n            GameSetting.sessionKey = res.sessionKey\r\n\r\n            console.log('login succ cb', res)\r\n        }\r\n        else\r\n            console.log('no login succ cb')\r\n\r\n        if(GameSetting.openId && GameSetting.openId != '' && GameSetting.openId != 'null' &&\r\n            GameSetting.payment === 0)\r\n        {\r\n            WxUtil.saveData()\r\n        }\r\n\r\n        HDSDK.init(GameSetting.openId, GameSetting.proName)\r\n\r\n        WxUtil.launchQueryCheck(kUnionID)\r\n\r\n        this.bLogined = true\r\n\r\n        // HttpRequest.getUserId(GameSetting.openId, '', (dat) => {\r\n        //     if(dat && dat.res)\r\n        //         this.gameId = dat.res\r\n    \r\n        //     console.log('statistic getUserId', this.gameId, dat)\r\n        // })\r\n\r\n        // console.log('login succ cb', res)\r\n    }\r\n\r\n    private _loginFail(res)\r\n    {\r\n        GameSetting.sessionKey = ''\r\n\r\n        this.bLogined = true\r\n\r\n        console.log('login fail cb', res)\r\n    }\r\n\r\n    private _loginError(res)\r\n    {\r\n        this.bLogined = true\r\n    }\r\n\r\n    private _onShow()\r\n    {\r\n        if(G.isWeChat)\r\n        {\r\n            wx.onShow((res)=> {\r\n                    \r\n                AudioMgr.instance.stopEffects()\r\n                AudioMgr.instance.resumeMusic()\r\n\r\n                G.log('onShow')\r\n\r\n                let inviteCb = function(res) {\r\n                    G.log('on show invite cb', res)\r\n\r\n                }.bind(this)\r\n\r\n                WxUtil.onShowQueryCheck(res.query, kUnionID)\r\n\r\n                Laya.stage.renderingEnabled = true\r\n                Laya.timer.resume()\r\n\r\n                GameUserInfo.calOfflineTime()\r\n\r\n                // console.log('resume')\r\n            })\r\n        }\r\n        else\r\n        {\r\n\r\n        }\r\n    }\r\n\r\n    private _onHide()\r\n    {\r\n        if(G.isWeChat)\r\n        {\r\n            wx.onHide((res)=> {\r\n                Laya.stage.renderingEnabled = false\r\n                Laya.timer.pause()\r\n                \r\n                AudioMgr.instance.pauseMusic()\r\n                AudioMgr.instance.stopEffects()\r\n\r\n                GameUserInfo.setOfflineTimestamp()\r\n                GameUserInfo.saveSignIn()\r\n\r\n                // console.log('pause')\r\n            })\r\n        }\r\n        else\r\n        {\r\n\r\n        }\r\n    }\r\n}\r\n","\r\nexport enum UIHierarchy {\r\n    kDefault,\r\n    //---自定义层级，高的渲染在画面前面---\r\n    kSetting = 994,\r\n    kDialog = 995,\r\n    kCoin = 996,\r\n    kBlocker = 997,\r\n    kTrans = 998,\r\n    kExportCom = 999,\r\n    kExportPage = 1000,\r\n    kTip = 1001,\r\n    kTestBnr = 1002\r\n    //---------------------------------\r\n}\r\n\r\nexport class BaseUI {\r\n    static root: fgui.GRoot = null\r\n\r\n    protected com_: FGUICom = null\r\n    \r\n    protected id_ = 0\r\n    protected bLock_ = false\r\n\r\n    init(com: FGUICom)\r\n    {\r\n        \r\n    }\r\n\r\n    add(parent: FGUICom)\r\n    {\r\n        if(this.com_)\r\n        {\r\n            parent.addChild(this.com_)\r\n\r\n            this.com_.visible = false\r\n        }\r\n    }\r\n\r\n    reset()\r\n    {\r\n        \r\n    }\r\n\r\n    remove()\r\n    {\r\n        if(this.com_)\r\n        {\r\n            this.com_.removeFromParent()\r\n        }\r\n    }\r\n}","import  { BaseUI, UIHierarchy } from \"./base_ui\";\r\nimport { G } from \"../../util/global_def\";\r\n\r\nexport class TipUI extends BaseUI {\r\n    static instance = new TipUI\r\n\r\n    private lbl_: FGUITextField = null\r\n\r\n    private showTrans_: FGUITrans = null\r\n\r\n    init(com: FGUICom)\r\n    {\r\n        if(com)\r\n        {\r\n            this.com_ = com\r\n            com.setSize(Laya.stage.width, Laya.stage.height)\r\n\r\n            this.lbl_ = com.getChild('tipLbl').asTextField\r\n\r\n            this.showTrans_ = com.getTransition(\"showTrans\")\r\n\r\n            com.sortingOrder = UIHierarchy.kTip\r\n            com.visible = false\r\n            BaseUI.root.addChild(com)\r\n        }\r\n    }\r\n\r\n    show(txt: string)\r\n    {\r\n        if(this.com_)\r\n        {\r\n            this.com_.visible = true\r\n\r\n            this.lbl_.text = txt\r\n\r\n            this.showTrans_.stop()\r\n            this.showTrans_.play(G.layaHandler(this, ()=>{ this.com_.visible = false }))\r\n        }\r\n    }\r\n}\r\n\r\nexport const TipUIInst = TipUI.instance","import { BaseUI, UIHierarchy } from \"./base_ui\";\r\nimport { TipUI } from \"./tip_ui\";\r\nimport { TransUI } from \"./trans_ui\";\r\nimport { DialogUI } from \"./dialog_ui\";\r\nimport { AudioMgr } from \"../../util/audio_mgr\";\r\nimport { G } from \"../../util/global_def\";\r\nimport { GameEventMgr, EventType } from \"../../util/event_mgr\";\r\nimport { GameStorage, SaveDef } from \"../../util/Storage\";\r\n\r\nexport enum VFXLevel {\r\n    kLow = 1,\r\n    kMid,\r\n    kHigh\r\n}\r\n\r\nenum ToggleType {\r\n    kBgm,\r\n    kSfx,\r\n    kHighFx,\r\n    kMidFx,\r\n    kLowFx\r\n}\r\n\r\nexport class SettingUI extends BaseUI {\r\n    static instance = new SettingUI()\r\n\r\n    private bgmToggle_: FGUIButton = null\r\n    private sfxToggle_: FGUIButton = null\r\n    private highFxRadio_: FGUIButton = null\r\n    private midFxRadio_: FGUIButton = null\r\n    private lowFxRadio_: FGUIButton = null\r\n    private backBtn_: FGUIButton = null\r\n    private homeBtn_: FGUIButton = null\r\n\r\n    private openTrans_: FGUITrans = null\r\n    private closeTrans_: FGUITrans = null\r\n\r\n    private closeCb_: Function = null\r\n\r\n    private vfxLv_ = VFXLevel.kMid //3高 2中 1低\r\n    private bVfx_ = false\r\n\r\n    private bGame_ = false\r\n\r\n    get VFXLvl()\r\n    {\r\n        return this.vfxLv_\r\n    }\r\n\r\n    set VFXLvl(val: number)\r\n    {\r\n        this.vfxLv_ = val\r\n\r\n        this._save()\r\n    }\r\n\r\n    init(com: FGUICom)\r\n    {\r\n        if(com)\r\n        {\r\n            this.com_ = com\r\n            com.setSize(Laya.stage.width, Laya.stage.height)\r\n\r\n            this.bgmToggle_ = com.getChild('bgmToggle').asButton\r\n            this.sfxToggle_ = com.getChild('sfxToggle').asButton\r\n            this.highFxRadio_ = com.getChild('fxHighRadio').asButton\r\n            this.midFxRadio_ = com.getChild('fxMidRadio').asButton\r\n            this.lowFxRadio_ = com.getChild('fxLowRadio').asButton\r\n            this.backBtn_ = com.getChild('backBtn').asButton\r\n            this.homeBtn_ = com.getChild('homeBtn').asButton\r\n\r\n            this.openTrans_ = com.getTransition('openTrans')\r\n            this.closeTrans_ = com.getTransition('closeTrans')\r\n\r\n            this.bgmToggle_.selected = !AudioMgr.instance.isStopMusic()\r\n            this.sfxToggle_.selected = !AudioMgr.instance.isStopSound()\r\n\r\n            fgui.GRoot.inst.volumeScale = this.sfxToggle_.selected ? 1 : 0\r\n\r\n            this._read()\r\n\r\n            this.bgmToggle_.on(fgui.Events.STATE_CHANGED, \r\n                this, this._onToggleChange, [ ToggleType.kBgm ])\r\n            this.sfxToggle_.on(fgui.Events.STATE_CHANGED, \r\n                this, this._onToggleChange, [ ToggleType.kSfx ])\r\n            this.highFxRadio_.on(fgui.Events.STATE_CHANGED, \r\n                this, this._onToggleChange, [ ToggleType.kHighFx ])\r\n            this.midFxRadio_.on(fgui.Events.STATE_CHANGED,\r\n                this, this._onToggleChange, [ToggleType.kMidFx])\r\n            this.lowFxRadio_.on(fgui.Events.STATE_CHANGED,\r\n                this, this._onToggleChange, [ToggleType.kLowFx])\r\n                \r\n            this.backBtn_.onClick(this, this._onClose)\r\n            this.homeBtn_.onClick(this, this._onHome)\r\n\r\n            com.sortingOrder = UIHierarchy.kSetting\r\n            com.visible = false\r\n            BaseUI.root.addChild(com)\r\n        }\r\n    }\r\n\r\n    //bGame 一般游戏过程中会暂停游戏逻辑，默认为非游戏过程\r\n    show(openCb?: Function, closeCb?: Function, bGame = false)\r\n    {\r\n        if(this.com_)\r\n        {\r\n            this.com_.visible = true\r\n\r\n            this.bVfx_ = false\r\n\r\n            this.homeBtn_.visible = bGame\r\n\r\n            this.bLock_ = true\r\n            this.openTrans_.play(G.layaHandler(this, ()=>{ \r\n                this.bLock_ = false\r\n\r\n                if(openCb)\r\n                {\r\n                    openCb()\r\n                }\r\n            }))\r\n\r\n            let ctrl = this.com_.getController('FxRadioGroup')\r\n            if(this.vfxLv_ === 3)\r\n                ctrl.selectedIndex = 0\r\n            else if(this.vfxLv_ === 2)\r\n                ctrl.selectedIndex = 1\r\n            else if(this.vfxLv_ === 1)\r\n                ctrl.selectedIndex = 2\r\n\r\n            this.bGame_ = bGame\r\n\r\n            this.closeCb_ = closeCb\r\n        }\r\n    }\r\n\r\n    private _onToggleChange(t: ToggleType)\r\n    {\r\n        if(this.bLock_)\r\n            return\r\n\r\n        switch(t) {\r\n            case ToggleType.kBgm:\r\n                AudioMgr.instance.setIfMuteMusic(!this.bgmToggle_.selected)\r\n\r\n                break\r\n\r\n            case ToggleType.kSfx:\r\n                AudioMgr.instance.setIfMuteSound(!this.sfxToggle_.selected)\r\n                fgui.GRoot.inst.volumeScale = this.sfxToggle_.selected ? 1 : 0\r\n\r\n                break\r\n\r\n            case ToggleType.kHighFx:\r\n                this.vfxLv_ = VFXLevel.kHigh\r\n                this.bVfx_ = true\r\n\r\n                break\r\n\r\n            case ToggleType.kMidFx:\r\n                this.vfxLv_ = VFXLevel.kMid\r\n                this.bVfx_ = true\r\n\r\n                break\r\n\r\n            case ToggleType.kLowFx:\r\n                this.vfxLv_ = VFXLevel.kLow\r\n                this.bVfx_ = true\r\n\r\n                break\r\n        }\r\n    }\r\n\r\n    private _onClose()\r\n    {\r\n        if(this.bLock_)\r\n            return\r\n\r\n        if(this.com_)\r\n        {\r\n            this._save()\r\n\r\n            if(this.closeCb_)\r\n                this.closeCb_()\r\n\r\n            GameEventMgr.instance.addEvent(EventType.kAdjustVfxLv, null, { lv: this.vfxLv_ })\r\n\r\n            if(!this.bGame_)\r\n            {\r\n                this.closeTrans_.play(G.layaHandler(this, ()=>{\r\n                    this.com_.visible = false\r\n                }))\r\n            }\r\n            else\r\n            {\r\n                if(this.bVfx_)\r\n                    TipUI.instance.show('游戏中仅部分特效设置生效')\r\n                    \r\n                this.com_.visible = false\r\n            }\r\n        }\r\n    }\r\n\r\n    private _onHome()\r\n    {\r\n        if(this.bLock_)\r\n            return\r\n\r\n        this._onClose()\r\n\r\n        // TransUI.instance.show(()=>{ GameEventMgr.instance.addEvent(EventType.kBackHome) }, true)\r\n    }\r\n\r\n    private _save()\r\n    {\r\n        let sav = {\r\n            effLv: this.vfxLv_\r\n        }\r\n        GameStorage.writeJSON(SaveDef.kSetting, sav)\r\n    }\r\n\r\n    private _read()\r\n    {\r\n        let sav = GameStorage.readJSON(SaveDef.kSetting)\r\n        if(sav)\r\n        {\r\n            this.vfxLv_ = sav.effLv\r\n        }\r\n        else\r\n            this.vfxLv_ = VFXLevel.kMid\r\n    }\r\n}\r\n\r\nexport const SettingUIInst = SettingUI.instance","import { BaseUI } from \"./base_ui\";\r\n\r\nexport class PopupUI extends BaseUI {\r\n    static instance = new PopupUI\r\n\r\n    private lbl_: FGUITextField = null\r\n\r\n    init(com: FGUICom)\r\n    {\r\n        if(com)\r\n        {\r\n            this.com_ = com\r\n\r\n            this.lbl_ = com.getChild('txtLbl').asTextField\r\n        }\r\n    }\r\n\r\n    show(txt: string)\r\n    {\r\n        if(this.com_)\r\n        {\r\n            this.lbl_.text = txt\r\n\r\n            this.com_.setSize(this.lbl_.actualWidth + 20, this.lbl_.actualHeight + 20)\r\n\r\n            fgui.GRoot.inst.showPopup(this.com_)\r\n        }\r\n    }\r\n}\r\n\r\nexport const PopupUIInst = PopupUI.instance","\r\nimport  { BaseUI, UIHierarchy } from \"./base_ui\";\r\nimport { TimedTaskMgr } from \"../../util/timed_task\";\r\n\r\nexport class InputBlocker extends BaseUI {\r\n    static instance = new InputBlocker\r\n\r\n    private bg_: FGUIImage = null\r\n    private rotTrans_: FGUITrans = null\r\n\r\n    private taskId_ = 0\r\n\r\n    init(com: FGUICom)\r\n    {\r\n        if(com)\r\n        {\r\n            this.com_ = com\r\n            com.setSize(Laya.stage.width, Laya.stage.height)\r\n\r\n            this.bg_ = com.getChild(\"bg\").asImage\r\n            this.rotTrans_ = com.getTransition('rot')\r\n\r\n            com.sortingOrder = UIHierarchy.kBlocker\r\n            com.visible = false\r\n            BaseUI.root.addChild(com)\r\n        }\r\n    }\r\n\r\n    block(time = 3, bShowBg = false)\r\n    {\r\n        if(this.com_)\r\n        {\r\n            this.com_.visible = true\r\n\r\n            if(this.bg_)\r\n            {\r\n                this.bg_.visible = bShowBg       \r\n            }\r\n\r\n            this.rotTrans_.play(null, -1)\r\n\r\n            if(this.taskId_ > 0)\r\n            {\r\n                TimedTaskMgr.instance.remove(this.taskId_)\r\n                this.taskId_ = 0\r\n            }\r\n\r\n            this.taskId_ = TimedTaskMgr.instance.add(()=>{\r\n                this.hide()\r\n\r\n            }, time)\r\n        }\r\n    }\r\n\r\n    hide()\r\n    {\r\n        if(this.com_)\r\n        {\r\n            if(this.taskId_ > 0)\r\n            {\r\n                TimedTaskMgr.instance.remove(this.taskId_)\r\n                this.taskId_ = 0\r\n            }\r\n\r\n            this.rotTrans_.stop()\r\n\r\n            this.com_.visible = false\r\n\r\n            this.taskId_ = 0\r\n        }\r\n    }\r\n}\r\n\r\nexport const InputBlockerInst = InputBlocker.instance","\r\nimport { WxUtil } from \"../util/wx_util\";\r\nimport { InputBlocker } from \"../game_ui/common/blocker_ui\";\r\nimport { G } from \"../util/global_def\";\r\nimport { DataHub } from \"../data/data_hub\";\r\nimport { TipUI } from \"../game_ui/common/tip_ui\";\r\nimport { GameUserInfo } from \"../game/user_info\";\r\n\r\n//常用数据集合\r\n\r\nexport class HDVideoAd {\r\n    static kSignIn = 'adunit-173c5e5d35b44266'\r\n    static kBox = 'adunit-d1fdb8baaf15e4cd'\r\n    static kResult = 'adunit-9eda1e1302d3932b'\r\n    static kTry = 'adunit-090b55dfa38539f5'\r\n    static kRevive = 'adunit-3e1ae1a358f740cf'\r\n\r\n    private static succCallback_: Function = null\r\n    private static failCallback_: Function = null\r\n\r\n    /**\r\n     * 视频广告通用逻辑处理接口，用于视频观看完切分享的功能\r\n     * @param id 广告id\r\n     * @param succCb 成功领取奖励回调\r\n     * @param succPara 成功领取奖励回调函数参数\r\n     * @param failCb 领取失败回调\r\n     */\r\n    static watchOrShare(id: string, succCb: Function, succPara?: any, failCb?: Function)\r\n    {\r\n        this.succCallback_ = succCb\r\n        this.failCallback_ = failCb\r\n\r\n        if(GameUserInfo.isVideoLimited)\r\n        {\r\n            TipUI.instance.show('今日视频已达上限')\r\n        }\r\n        else\r\n        {\r\n            let sucCb = ()=>{\r\n                InputBlocker.instance.hide()\r\n\r\n                if(this.succCallback_)\r\n                {\r\n                    this.succCallback_(succPara)\r\n                    this.succCallback_ = null\r\n                }\r\n            }\r\n\r\n            let closeCb = ()=>{\r\n                InputBlocker.instance.hide()\r\n\r\n                if(this.failCallback_)\r\n                {\r\n                    this.failCallback_()\r\n                    this.failCallback_ = null\r\n                }\r\n\r\n                TipUI.instance.show('请观看完整视频获取奖励')\r\n            }\r\n\r\n            let errCb = ()=>{                 \r\n                TipUI.instance.show('今日视频已达上限')\r\n\r\n                InputBlocker.instance.hide()\r\n\r\n                if(this.failCallback_)\r\n                {\r\n                    this.failCallback_()\r\n                    this.failCallback_ = null\r\n                }\r\n\r\n                GameUserInfo.limitVideo()\r\n            }\r\n\r\n            InputBlocker.instance.block(10)\r\n            WxUtil.watchVideoAds(id, sucCb, closeCb, errCb)\r\n        }\r\n    }\r\n}\r\n\r\nexport class HDBannerAd {\r\n    static kB1 = 'adunit-4db4041231cd0f13'\r\n    static kB2 = 'adunit-0700e34420a2f0c5'\r\n    static kB3 = 'adunit-dda6bd68cebba956'\r\n    static kB4 = 'adunit-27eef0d564a6cfee'\r\n\r\n    static errorCallback()\r\n    {\r\n        \r\n    }\r\n}\r\n\r\n//插屏广告id\r\nexport class InterstitialAdIds {\r\n    static kResult = 'adunit-08ee7e14068356ac'\r\n}","import { BaseUI } from \"./base_ui\";\r\nimport { InputBlocker } from \"./blocker_ui\";\r\nimport { TipUI } from \"./tip_ui\";\r\nimport { PopupUI } from \"./popup_ui\";\r\nimport { GameUserInfo, DailyData, BonusType, BonusInfo } from \"../../game/user_info\";\r\nimport { G } from \"../../util/global_def\";\r\nimport { WxUtil } from \"../../util/wx_util\";\r\nimport { GameEventMgr, EventType } from \"../../util/event_mgr\";\r\nimport { AudioMgr, SfxType } from \"../../util/audio_mgr\";\r\nimport { HDBannerAd, HDVideoAd } from \"../../util/ad_tools\";\r\n\r\nclass SignInItem {\r\n    self: FGUIButton = null\r\n    dayLbl: FGUITextField = null\r\n    iconLoader: FGUILoader = null\r\n    cntLbl: FGUITextField = null\r\n    maskGrp: FGUIGroup = null\r\n}\r\n\r\nconst kMaxItems = 7\r\n\r\nexport class SignInUI extends BaseUI {\r\n    private awardBtn_: FGUIButton = null\r\n    private closeBtn_: FGUIButton = null\r\n\r\n    private awardCtrl_: FGUICtrl = null\r\n\r\n    private boxCom_: FGUICom = null\r\n\r\n    private items_: SignInItem[] = []\r\n\r\n    private showTrans_: FGUITrans = null\r\n    private closeTrans_: FGUITrans = null\r\n\r\n    private bInited_ = false\r\n    private bAwarded_ = false\r\n\r\n    init(com: FGUICom)\r\n    {\r\n        if(com)\r\n        {\r\n            this.com_ = com\r\n\r\n            this.awardBtn_ = com.getChild('awardBtn').asButton\r\n            this.closeBtn_ = com.getChild('closeBtn').asButton\r\n\r\n            this.awardCtrl_ = this.awardBtn_.getController('sh')\r\n\r\n            this.showTrans_ = com.getTransition('showTrans')\r\n            this.closeTrans_ = com.getTransition('closeTrans')\r\n\r\n            for(let i = 0; i < kMaxItems; ++i)\r\n            {\r\n                let item = new SignInItem()\r\n                let obj = com.getChild('item' + (i + 1)).asButton\r\n                if(obj)\r\n                {\r\n                    item.self = obj\r\n                    item.dayLbl = obj.getChild('dayLbl').asTextField\r\n                    item.iconLoader = obj.getChild('iconLoader').asLoader\r\n                    item.cntLbl = obj.getChild('cntLbl').asTextField\r\n                    item.maskGrp = obj.getChild('maskGrp').asGroup\r\n\r\n                    this.items_.push(item)\r\n                }\r\n            }\r\n\r\n            this.com_.visible = false\r\n        }\r\n    }\r\n\r\n    show()\r\n    {\r\n        if(this.com_)\r\n        {\r\n            this.com_.visible = true\r\n\r\n            // let date = new Date()\r\n            if(GameUserInfo.isSignInAwarded)\r\n            {\r\n                this.awardBtn_.grayed = true\r\n                this.bAwarded_ = true\r\n            }\r\n            else\r\n            {\r\n                this.awardBtn_.grayed = false\r\n                this.bAwarded_ = false\r\n            }\r\n\r\n            if(this.awardCtrl_)\r\n                this.awardCtrl_.selectedIndex = GameUserInfo.isVideoLimited ? 1 : 0\r\n\r\n            if(!this.bInited_ || GameUserInfo.isSignIn7Days)\r\n            {\r\n                GameUserInfo.signInAwards.each((i: number, k, info: BonusInfo)=>{\r\n                    let item = this.items_[i]\r\n                    if(item)\r\n                    {\r\n                        item.dayLbl.text = (i + 1).toString()\r\n\r\n                        let t = info.type\r\n                        if(t === BonusType.kCoin)\r\n                            item.iconLoader.url = 'ui://CommUI/coin'\r\n                        else if(t >= BonusType.kPiece1 && t <= BonusType.kPiece3)\r\n                            item.iconLoader.url = 'ui://CommUI/piece' + (t - BonusType.kPiece1 + 1)\r\n\r\n                        item.cntLbl.text = 'x' + info.count\r\n                        item.maskGrp.visible = i < GameUserInfo.dailyDat.signInAwardCnt ? true : false\r\n\r\n                        item.self.onClick(this, this._onItemClick, [ i ])\r\n                    }\r\n                })\r\n\r\n                this.bInited_ = true\r\n            }\r\n\r\n            this.awardBtn_.onClick(this, this._onAward)\r\n            this.closeBtn_.onClick(this, this._onClose)\r\n\r\n            this.bLock_ = true\r\n            this.showTrans_.stop()\r\n            this.showTrans_.play(G.layaHandler(this, ()=>{ \r\n                this.bLock_ = false \r\n            }))\r\n        }\r\n    }\r\n\r\n    reset()\r\n    {\r\n        this.com_.visible = false\r\n\r\n        this.bLock_ = false\r\n\r\n        this.awardBtn_.offClick(this, this._onAward)\r\n        this.closeBtn_.offClick(this, this._onClose)\r\n    }\r\n\r\n    private _onItemClick(idx: number)\r\n    {\r\n        let item = this.items_[idx]\r\n        if(item)\r\n        {\r\n            let info = GameUserInfo.signInAwards.getByIndex(idx) as BonusInfo\r\n            PopupUI.instance.show(info.desc)\r\n        }\r\n    }\r\n\r\n    private _onAward()\r\n    {\r\n        if(this.bLock_)\r\n            return\r\n\r\n        if(this.bAwarded_)\r\n        {\r\n            this._onClose()\r\n            return\r\n        }\r\n\r\n        if(G.isWeChat)\r\n        {\r\n            HDVideoAd.watchOrShare(HDVideoAd.kSignIn, this._getAward.bind(this))\r\n\r\n            if(this.awardCtrl_)\r\n                this.awardCtrl_.selectedIndex = GameUserInfo.isVideoLimited ? 1 : 0\r\n        }\r\n        else\r\n        {\r\n            this._getAward()\r\n        }\r\n    }\r\n\r\n    private _onClose()\r\n    {\r\n        if(this.bLock_)\r\n            return\r\n\r\n        GameEventMgr.instance.addEvent(EventType.kRedPoint, null, { type: 1 })\r\n\r\n        GameUserInfo.saveProp()\r\n        GameUserInfo.saveSignIn()\r\n\r\n        this.bLock_ = true\r\n        this.closeTrans_.play(G.layaHandler(this, ()=>{ this.reset() }))\r\n    }\r\n\r\n    private _getAward()\r\n    {\r\n        this.bAwarded_ = true\r\n        this.awardBtn_.grayed = true\r\n\r\n        AudioMgr.instance.playSound(SfxType.kGoodClick)\r\n\r\n        let info = GameUserInfo.signInAwards.getByIndex(GameUserInfo.dailyDat.signInAwardCnt) as BonusInfo\r\n        let t = info.type\r\n        if(t === BonusType.kCoin)\r\n        {\r\n            TipUI.instance.show('获得金币×' + info.count + '！')\r\n        }\r\n        else if(t >= BonusType.kPiece1 && t <= BonusType.kPiece3)\r\n            TipUI.instance.show('获得碎片' + (t - BonusType.kPiece1 + 1) + '×' + info.count)\r\n\r\n        this.items_[GameUserInfo.dailyDat.signInAwardCnt].maskGrp.visible = true\r\n\r\n        // let date = new Date()\r\n        // Player.signInDat.lastDay = date.getDate()\r\n        \r\n        GameUserInfo.dailyDat.signInAwarded = 1\r\n        ++GameUserInfo.dailyDat.signInTotalCnt\r\n        ++GameUserInfo.dailyDat.signInAwardCnt\r\n        \r\n        GameUserInfo.saveSignIn()\r\n        GameUserInfo.saveProp()\r\n    }\r\n\r\n    private _boxOpened()\r\n    {\r\n        TipUI.instance.show('获得宝箱奖励！')\r\n\r\n        GameUserInfo.saveProp()\r\n    }\r\n}\r\n","import  { BaseUI, UIHierarchy } from \"./base_ui\";\r\nimport { AudioMgr } from \"../../util/audio_mgr\";\r\nimport { G } from \"../../util/global_def\";\r\nimport { TimedTaskMgr } from \"../../util/timed_task\";\r\n\r\nconst kTips = [\r\n    '小心不要碰到礁石',\r\n    '加速滑板能让你变得更快',\r\n    '尽量避开障碍',\r\n    '不要在背后撞到对手',\r\n    '空中调整方向很困难',\r\n    '冲刺状态下撞到障碍不会减速',\r\n    '复活后能够无敌一小段时间'\r\n]\r\n\r\nexport class TransUI extends BaseUI {\r\n    static instance = new TransUI\r\n\r\n    private lbl_: FGUITextField = null\r\n\r\n    private loader_: FGUILoader = null\r\n\r\n    private showTrans_: FGUITrans = null\r\n    private closeTrans_: FGUITrans = null\r\n    private rotTrans_: FGUITrans = null\r\n\r\n    private callbackOver_: Function = null\r\n    private taskId_ = 0\r\n\r\n    private bTrans_ = false\r\n\r\n    init(com: FGUICom)\r\n    {\r\n        if(com)\r\n        {\r\n            this.com_ = com\r\n            com.setSize(Laya.stage.width, Laya.stage.height)\r\n\r\n            this.lbl_ = com.getChild('txtLbl').asTextField\r\n\r\n            this.loader_ = com.getChild('imgLoader').asLoader\r\n\r\n            this.showTrans_ = com.getTransition(\"showTrans\")\r\n            this.closeTrans_ = com.getTransition('closeTrans')\r\n            this.rotTrans_ = com.getTransition('rotTrans')\r\n\r\n            com.sortingOrder = UIHierarchy.kTrans\r\n            com.visible = false\r\n            BaseUI.root.addChild(com)\r\n        }\r\n    }\r\n\r\n    show(overCb: Function, bSkip = false)\r\n    {\r\n        if(this.com_)\r\n        {\r\n            this.com_.visible = true\r\n\r\n            AudioMgr.instance.stopMusic()\r\n\r\n            this.callbackOver_ = overCb\r\n\r\n            if(bSkip)\r\n            {\r\n                this.loader_.visible = false\r\n                this.lbl_.visible = false\r\n            }\r\n            else\r\n            {\r\n                this.loader_.visible = true\r\n                this.lbl_.visible = true\r\n\r\n                this.lbl_.text = kTips[G.randRange(0, kTips.length - 1)]\r\n\r\n                if(this.taskId_ > 0)\r\n                {\r\n                    TimedTaskMgr.instance.remove(this.taskId_)\r\n                    this.taskId_ = 0\r\n                }\r\n            }\r\n\r\n            this.showTrans_.play(G.layaHandler(this, this._showOver))\r\n            this.rotTrans_.play(null, -1)\r\n\r\n            this.bTrans_ = true\r\n        }\r\n    }\r\n\r\n    over(delay = 0, overCb: Function = null)\r\n    {\r\n        if(this.bTrans_)\r\n        {\r\n            if(delay > 0)\r\n            {\r\n                this.taskId_ = TimedTaskMgr.instance.add(()=>{\r\n                    if(overCb)\r\n                        overCb()\r\n\r\n                    this._close()\r\n                }, delay)\r\n            }\r\n            else\r\n            {\r\n                if(overCb)\r\n                    overCb()\r\n\r\n                this._close()\r\n            }\r\n        }\r\n        else\r\n        {\r\n            if(overCb)\r\n                overCb()\r\n        }\r\n    }\r\n\r\n    reset()\r\n    {\r\n        if(this.com_)\r\n        {\r\n            this.rotTrans_.stop()\r\n\r\n            this.com_.visible = false\r\n\r\n            this.bTrans_ = false\r\n        }\r\n    }\r\n\r\n    private _showOver()\r\n    {\r\n        if(this.callbackOver_)\r\n        {\r\n            this.callbackOver_()\r\n            this.callbackOver_ = null\r\n        }\r\n    }\r\n\r\n    private _close()\r\n    {\r\n        this.closeTrans_.play(G.layaHandler(this, this.reset))\r\n    }\r\n}\r\n\r\nexport const TransUIInst = TransUI.instance","import { HDMap } from \"./structure/hd_map\";\r\n\r\n//调试工具\r\n\r\nclass BaseWireframe {\r\n    protected vertices_: Laya.Vector3[] = []\r\n    protected color_ = Laya.Color.GREEN\r\n    protected pls_: Laya.PixelLineSprite3D = null\r\n\r\n    constructor() {}\r\n\r\n    show(parent: Laya.Node)\r\n    {\r\n        if(this.pls_ && this.pls_.parent == null)\r\n            parent.addChild(this.pls_)\r\n    }\r\n\r\n    hide()\r\n    {\r\n        if(this.pls_)\r\n            this.pls_.removeSelf()\r\n    }\r\n\r\n    destroy()\r\n    {\r\n        if(this.pls_)\r\n            this.pls_.destroy(true)\r\n    }\r\n}\r\n\r\nclass LineWireframe extends BaseWireframe {\r\n    constructor(v1: Laya.Vector3, v2: Laya.Vector3, tag: string, color: Laya.Color = null)\r\n    {\r\n        super()\r\n\r\n        this.color_ = color || Laya.Color.GREEN\r\n\r\n        this.pls_ = new Laya.PixelLineSprite3D(12, tag + '_lwf')\r\n        this.pls_.addLine(v1, v2, this.color_, this.color_)\r\n    }\r\n\r\n    update(v1: Laya.Vector3, v2: Laya.Vector3, color: Laya.Color = null)\r\n    {\r\n        if(color)\r\n            this.color_ = color\r\n\r\n        this.pls_.setLine(0, v1, v2, this.color_, this.color_)\r\n    }\r\n}\r\n\r\n/** 统一y轴的矩形线框 */\r\nclass RectXZWireframe extends BaseWireframe {\r\n    //4个顶点\r\n    private indices_: number[] = []\r\n    private r_: Laya.Rectangle = null\r\n\r\n    constructor(r: Laya.Rectangle, tag: string, color: Laya.Color = null, y = 0)\r\n    {\r\n        super()\r\n\r\n        this.color_ = color || Laya.Color.GREEN\r\n\r\n        let a = new Laya.Vector3(r.x, y, r.y)\r\n        let b = new Laya.Vector3(r.right, y, r.y)\r\n        let c = new Laya.Vector3(r.right, y, r.bottom)\r\n        let d = new Laya.Vector3(r.x, y, r.bottom)\r\n\r\n        this.r_ = r\r\n\r\n                            //index\r\n        this.vertices_.push(a) //0\r\n        this.vertices_.push(b) //1\r\n        this.vertices_.push(c) //2\r\n        this.vertices_.push(d) //3\r\n\r\n        this.indices_ = [ 0, 1, 0, 3, 1, 2, 2, 3 ]\r\n\r\n        this.pls_ = new Laya.PixelLineSprite3D(12, tag + '_rxzwf')\r\n        for(let i = 0; i < this.indices_.length; i += 2)\r\n        {\r\n            let p1 = this.indices_[i] ? this.vertices_[this.indices_[i]] : this.vertices_[0]\r\n            let p2 = this.indices_[i + 1] ? this.vertices_[this.indices_[i + 1]] : this.vertices_[0]\r\n            this.pls_.addLine(p1, p2, this.color_, this.color_)\r\n        }\r\n    }\r\n\r\n    update(color: Laya.Color = null, y = 0)\r\n    {\r\n        if(this.pls_)\r\n        {\r\n            if(color)\r\n                this.color_ = color\r\n\r\n            let r = this.r_\r\n\r\n            this.vertices_[0].setValue(r.x, y, r.y)\r\n            this.vertices_[1].setValue(r.right, y, r.y)\r\n            this.vertices_[2].setValue(r.right, y, r.bottom)\r\n            this.vertices_[3].setValue(r.x, y, r.bottom)\r\n\r\n            let idx = 0\r\n            for(let i = 0; i < this.indices_.length; i += 2)\r\n            {\r\n                let p1 = this.indices_[i] ? this.vertices_[this.indices_[i]] : this.vertices_[0]\r\n                let p2 = this.indices_[i + 1] ? this.vertices_[this.indices_[i + 1]] : this.vertices_[0]\r\n                this.pls_.setLine(idx++, p1, p2, this.color_, this.color_)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nclass BoxWireframe extends BaseWireframe {\r\n    //8个顶点\r\n    private indices_: number[] = []\r\n    private bb_: Laya.Bounds = null\r\n\r\n    constructor(box: Laya.Bounds, tag: string, color: Laya.Color = null)\r\n    {\r\n        super()\r\n\r\n        this.color_ = color || Laya.Color.GREEN\r\n\r\n        let bb = box\r\n\r\n        let a = bb.getMin()\r\n        let b = new Laya.Vector3(bb.getMin().x, bb.getMax().y, bb.getMin().z)\r\n        let c = new Laya.Vector3(bb.getMin().x, bb.getMin().y, bb.getMax().z)\r\n        let d = new Laya.Vector3(bb.getMax().x, bb.getMin().y, bb.getMin().z)\r\n        let e = new Laya.Vector3(bb.getMin().x, bb.getMax().y, bb.getMax().z)\r\n        let f = new Laya.Vector3(bb.getMax().x, bb.getMax().y, bb.getMin().z)\r\n        let g = new Laya.Vector3(bb.getMax().x, bb.getMin().y, bb.getMax().z)\r\n        let h = bb.getMax()\r\n\r\n        this.bb_ = bb\r\n\r\n                            //index\r\n        this.vertices_.push(a) //0\r\n        this.vertices_.push(b) //1\r\n        this.vertices_.push(c) //2\r\n        this.vertices_.push(d) //3\r\n        this.vertices_.push(e) //4\r\n        this.vertices_.push(f) //5\r\n        this.vertices_.push(g) //6\r\n        this.vertices_.push(h) //7\r\n\r\n        this.indices_ = [ 0, 1, 0, 2, 0, 3, 1, 4, 1, 5, 7, 4, 7, 5, 7, 6, 6, 2, 6, 3, 2, 4, 3, 5 ]\r\n\r\n        this.pls_ = new Laya.PixelLineSprite3D(12, tag + '_bwf')\r\n        for(let i = 0; i < this.indices_.length; i += 2)\r\n        {\r\n            let p1 = this.indices_[i] ? this.vertices_[this.indices_[i]] : this.vertices_[0]\r\n            let p2 = this.indices_[i + 1] ? this.vertices_[this.indices_[i + 1]] : this.vertices_[0]\r\n            this.pls_.addLine(p1, p2, this.color_, this.color_)\r\n        }\r\n    }\r\n\r\n    update(color: Laya.Color = null)\r\n    {\r\n        if(this.pls_)\r\n        {\r\n            if(color)\r\n                this.color_ = color\r\n\r\n            let bb = this.bb_\r\n\r\n            this.vertices_[0] = bb.getMin()\r\n            this.vertices_[1].setValue(bb.getMin().x, bb.getMax().y, bb.getMin().z)\r\n            this.vertices_[2].setValue(bb.getMin().x, bb.getMin().y, bb.getMax().z)\r\n            this.vertices_[3].setValue(bb.getMax().x, bb.getMin().y, bb.getMin().z)\r\n            this.vertices_[4].setValue(bb.getMin().x, bb.getMax().y, bb.getMax().z)\r\n            this.vertices_[5].setValue(bb.getMax().x, bb.getMax().y, bb.getMin().z)\r\n            this.vertices_[6].setValue(bb.getMax().x, bb.getMin().y, bb.getMax().z)\r\n            this.vertices_[7] = bb.getMax()\r\n\r\n            let idx = 0\r\n            for(let i = 0; i < this.indices_.length; i += 2)\r\n            {\r\n                let p1 = this.indices_[i] ? this.vertices_[this.indices_[i]] : this.vertices_[0]\r\n                let p2 = this.indices_[i + 1] ? this.vertices_[this.indices_[i + 1]] : this.vertices_[0]\r\n                this.pls_.setLine(idx++, p1, p2, this.color_, this.color_)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport class HDDebugTools {\r\n    private static wireframeMap_ = new HDMap() //k: obj name v: Wireframe\r\n\r\n    private static primitiveBoundMap_ = new HDMap()\r\n\r\n    /**\r\n     * 绘制包围盒线框，调试用\r\n     * @param box 要绘制的包围盒\r\n     * @param tag 包围盒命名\r\n     * @param parent 包围盒添加到哪个父节点上显示\r\n     * @param color 线框颜色\r\n     */\r\n    public static drawBoxWireframe(box: Laya.Bounds, tag: string, parent: Laya.Node, color: Laya.Color = null)\r\n    {\r\n        let bwf: BoxWireframe = null\r\n        if(this.wireframeMap_.containsKey(tag))\r\n        {\r\n            bwf = this.wireframeMap_.get(tag)\r\n            bwf.update(color)\r\n        }\r\n        else\r\n        {\r\n            bwf = new BoxWireframe(box, tag, color)\r\n            this.wireframeMap_.put(tag, bwf)\r\n        }\r\n\r\n        if(bwf)\r\n            bwf.show(parent)\r\n    }\r\n\r\n    /**\r\n     * 绘制线条\r\n     * @param v1 线条的顶点之一\r\n     * @param v2 线条的顶点之一\r\n     * @param tag 线条名\r\n     * @param parent 线条添加到哪个父节点上显示\r\n     * @param color 线框颜色\r\n     */\r\n    public static drawLineWireframe(v1: Laya.Vector3, v2: Laya.Vector3, tag: string, parent: Laya.Node = null, color: Laya.Color = null)\r\n    {\r\n        let lwf: LineWireframe = null\r\n        if(this.wireframeMap_.containsKey(tag))\r\n        {\r\n            lwf = this.wireframeMap_.get(tag)\r\n            lwf.update(v1, v2, color)\r\n        }\r\n        else\r\n        {\r\n            lwf = new LineWireframe(v1, v2, tag, color)\r\n            this.wireframeMap_.put(tag, lwf)\r\n        }\r\n\r\n        if(lwf)\r\n            lwf.show(parent)\r\n    }\r\n\r\n    /**\r\n     * 绘制一个y轴坐标固定的矩形线框，需要注意的是，如果是透视相机，矩形线框依然有近大远小的原则，\r\n     * 如果y轴不是和原本的模型底座一致，那么没有对准摄像机中心时将会产生视觉上的绘制偏移\r\n     * @param rect 要绘制的矩形\r\n     * @param tag 矩形名\r\n     * @param parent 矩形添加到哪个父节点上显示\r\n     * @param color 矩形颜色\r\n     * @param y 固定的y轴，用于指定投影的高低，在某些时候便于观察绘制框\r\n     */\r\n    public static drawRectXZWireframe(rect: Laya.Rectangle, tag: string, parent: Laya.Node = null, color: Laya.Color = null, y = 0)\r\n    {\r\n        let rwf: RectXZWireframe = null\r\n        if(this.wireframeMap_.containsKey(tag))\r\n        {\r\n            rwf = this.wireframeMap_.get(tag)\r\n            rwf.update(color)\r\n        }\r\n        else\r\n        {\r\n            rwf = new RectXZWireframe(rect, tag, color, y)\r\n            this.wireframeMap_.put(tag, rwf)\r\n        }\r\n\r\n        if(rwf)\r\n            rwf.show(parent)\r\n    }\r\n\r\n    public static hideWireframe(tag: string)\r\n    {\r\n        if(this.wireframeMap_.containsKey(tag))\r\n        {\r\n            let wf = this.wireframeMap_.get(tag)\r\n            wf.hide()\r\n        }\r\n    }\r\n\r\n    public static removeWireframe(tag: string)\r\n    {\r\n        if(this.wireframeMap_.containsKey(tag))\r\n        {\r\n            let wf: BoxWireframe = this.wireframeMap_.get(tag)\r\n            wf.destroy()\r\n\r\n            this.wireframeMap_.remove(tag)\r\n        }\r\n    }\r\n\r\n    public static drawCylinderXZ(tag: string, radius: number, height: number, refObj: Laya.MeshSprite3D, y = 0, slices = 32)\r\n    {\r\n        let cylinder: Laya.MeshSprite3D = null\r\n        if(this.primitiveBoundMap_.containsKey(tag))\r\n        {\r\n            cylinder = this.primitiveBoundMap_.get(tag)\r\n            cylinder.transform.localPositionY = y\r\n        }\r\n        else\r\n        {\r\n            cylinder = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCylinder(radius, height, slices))\r\n            cylinder.transform.localPositionY = y\r\n            this.primitiveBoundMap_.put(tag, cylinder)\r\n        }\r\n\r\n        if(cylinder && !cylinder.parent)\r\n            refObj.addChild(cylinder)\r\n    }\r\n\r\n    public static hidePrimitive(tag: string)\r\n    {\r\n        if(this.primitiveBoundMap_.containsKey(tag))\r\n        {\r\n            let pr = this.primitiveBoundMap_.get(tag) as Laya.MeshSprite3D\r\n            pr.removeSelf()\r\n            // pr.active = false\r\n        }\r\n    }\r\n\r\n    public static removePrimitive(tag: string)\r\n    {\r\n        if(this.primitiveBoundMap_.containsKey(tag))\r\n        {\r\n            let pr: Laya.MeshSprite3D = this.primitiveBoundMap_.get(tag)\r\n            pr.destroy(true)\r\n\r\n            this.primitiveBoundMap_.remove(tag)\r\n        }\r\n    }\r\n}","\r\nexport class MathHelper {\r\n    static clamp(input: number, min: number, max: number)\r\n    {\r\n        return Math.max(Math.min(input, max), min)\r\n    }\r\n}","import { G } from \"../global_def\";\r\n\r\nexport class SegInterResult {\r\n    constructor(p: Laya.Point, v1: Laya.Point, v2: Laya.Point)\r\n    {\r\n        this.point = p.copy(p)\r\n        this.vertex1 = v1.copy(v1)\r\n        this.vertex2 = v2.copy(v2)\r\n    }\r\n\r\n    point: Laya.Point = null //交点\r\n    vertex1: Laya.Point = null //被检测的线段的一个端点\r\n    vertex2: Laya.Point = null //被检测的线段的另一个端点\r\n}\r\n\r\nexport class HDCircle {\r\n    x = 0 //圆心x坐标\r\n    y = 0 //圆心y坐标\r\n    radius = 0 //半径\r\n\r\n    tag = ''\r\n\r\n    constructor(cx: number, cy: number, radius: number)\r\n    {\r\n        this.x = cx\r\n        this.y = cy\r\n        this.radius = radius\r\n    }\r\n}\r\n\r\nexport class GeomtryHelper {\r\n    /**\r\n     * 获取指定3D精灵的aabb包围盒，并可以指定其各轴上的缩放比例\r\n     * @param sp3d 目标精灵\r\n     * @param sclX 包围盒x方向上的缩放比\r\n     * @param sclY 包围盒y方向上的缩放比\r\n     * @param sclZ 包围盒z方向上的缩放比\r\n     */\r\n    public static getBoundingBox(sp3d: Laya.MeshSprite3D, sclX = 1, sclY = 1, sclZ = 1)\r\n    {\r\n        if(sclX === 1 && sclY === 1 && sclZ === 1)\r\n        {\r\n            return sp3d.meshRenderer.bounds\r\n        }\r\n        else\r\n        {\r\n            let origBb = sp3d.meshRenderer.bounds\r\n            let center = origBb.getCenter()\r\n            let extent = origBb.getExtent()\r\n            \r\n            extent.x *= sclX\r\n            extent.y *= sclY\r\n            extent.z *= sclZ\r\n\r\n            let bb = new Laya.Bounds(new Laya.Vector3(), new Laya.Vector3())\r\n            bb.setCenter(center)\r\n            bb.setExtent(extent)\r\n\r\n            return bb\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 将3d精灵的包围盒转化为投影到xz平面上的矩形\r\n     * @param sp3d 目标精灵\r\n     * @param sclX 包围盒x方向上的缩放比\r\n     * @param sclZ 包围盒z方向上的缩放比\r\n     */\r\n    public static convertBound2RectXZ(sp3d: Laya.MeshSprite3D, sclX = 1, sclZ = 1)\r\n    {\r\n        let bb = this.getBoundingBox(sp3d, sclX, 1, sclZ)\r\n\r\n        let ret = new Laya.Rectangle()\r\n        ret.x = bb.getMin().x\r\n        ret.y = bb.getMin().z\r\n        ret.width = Math.abs(bb.getMax().x - ret.x)\r\n        ret.height = Math.abs(bb.getMax().z - ret.y)\r\n\r\n        return ret\r\n    }\r\n\r\n    public static convertBound2CircleXZ(sp3d: Laya.MeshSprite3D, sclXZ = 1)\r\n    {\r\n        let bb = this.getBoundingBox(sp3d, sclXZ, 1, sclXZ)\r\n\r\n        let center = bb.getCenter()\r\n\r\n        let dx = bb.getMax().x - bb.getMin().x\r\n        let dz = bb.getMax().z - bb.getMin().z\r\n        let rad = Math.sqrt(dz * dz + dx * dx) / 2\r\n\r\n        return new HDCircle(center.x, center.z, rad)\r\n    }\r\n\r\n    /**\r\n     * 获取xz平面投影矩形的顶点\r\n     * @param rect 目标矩形\r\n     * @param out 需要传入长度为4的数组接收顶点，输出的顶点顺序为0：左上 1：右上 2：右下 3：左下\r\n     */\r\n    public static getRectXZVertices(rect: Laya.Rectangle, out: Laya.Point[])\r\n    {\r\n        out[0].x = rect.x\r\n        out[0].y = rect.y\r\n\r\n        out[1].x = rect.right\r\n        out[1].y = rect.y\r\n\r\n        out[2].x = rect.right\r\n        out[2].y = rect.bottom\r\n\r\n        out[3].x = rect.x\r\n        out[3].y = rect.bottom\r\n    }\r\n\r\n    /**\r\n     * 2D空间中两向量是否平行\r\n     */\r\n    static isParallelVec2D(v1: Laya.Vector2, v2: Laya.Vector2)\r\n    {\r\n        let n1 = new Laya.Vector2()\r\n        Laya.Vector2.normalize(v1, n1)\r\n\r\n        let n2 = new Laya.Vector2()\r\n        Laya.Vector2.normalize(v2, n2)\r\n\r\n        let num = Laya.Vector2.dot(n1, n2)\r\n        if(G.isEqualF(Math.abs(num), 1))\r\n            return true\r\n\r\n        return false\r\n    }\r\n\r\n    /**\r\n     * 3D空间中两向量是否平行\r\n     */\r\n    static isParallelVec3D(v1: Laya.Vector3, v2: Laya.Vector3)\r\n    {\r\n        let n1 = new Laya.Vector3()\r\n        Laya.Vector3.normalize(v1, n1)\r\n\r\n        let n2 = new Laya.Vector3()\r\n        Laya.Vector3.normalize(v2, n2)\r\n\r\n        let num = Laya.Vector3.dot(n1, n2)\r\n        if(G.isEqualF(Math.abs(num), 1))\r\n            return true\r\n\r\n        return false\r\n    }\r\n\r\n    /**\r\n     * 检测一点是否在线段上\r\n     * @param p1 线段的一个端点\r\n     * @param p2 线段另一个端点\r\n     * @param q 待检测的点\r\n     */\r\n    static isPointOnSegment2D(p1: Laya.Point, p2: Laya.Point, q: Laya.Point)\r\n    {\r\n        /*\r\n            如果想判断一个点是否在线段上，那么要满足以下两个条件：\r\n            第一点通俗点理解就是要求Q、P1、P2三点共线；当第一个满足后，就应该考虑是否会出现Q在P1P2延长线或反向延长线这种情况。\r\n            此时第二个条件就对Q点的横纵坐标进行了限制，要求横纵坐标要在P1P2两点的最小值和最大值之间，也就是说保证了Q在P1P2之间\r\n        */\r\n        let crossProd1 = (q.x - p1.x) * (p2.y - p1.y)\r\n        let crossProd2 = (p2.x - p1.x) * (q.y - p1.y)\r\n\r\n        let ret = G.isEqualF(crossProd1, crossProd2) && \r\n            Math.min(p1.x, p2.x) <= q.x && Math.max(p1.x, p1.x) >= q.x &&\r\n            Math.min(p1.y, p2.y) <= q.y && Math.max(p1.y, p2.y) >= q.y\r\n\r\n        return ret\r\n    }\r\n\r\n    /**\r\n     * 检测2D空间中两条线段是否相交\r\n     * @param a 线段1的一个端点\r\n     * @param b 线段1的另一个端点\r\n     * @param c 线段2的一个端点\r\n     * @param d 线段2的另一个端点\r\n     * @returns 返回交点坐标\r\n     */\r\n    static intersectSeg2Seg2D(a: Laya.Point, b: Laya.Point, c: Laya.Point, d: Laya.Point)\r\n    {\r\n        //如果\"线段ab和点c构成的三角形面积\"与\"线段ab和点d构成的三角形面积\" \r\n        //构成的三角形面积的正负符号相异, 那么点c和点d位于线段ab两侧\r\n\r\n        // 三角形abc 面积的2倍  \r\n        let areaABC = (a.x - c.x) * (b.y - c.y) - (a.y - c.y) * (b.x - c.x)\r\n      \r\n        // 三角形abd 面积的2倍  \r\n        let areaABD = (a.x - d.x) * (b.y - d.y) - (a.y - d.y) * (b.x - d.x)\r\n      \r\n        // 面积符号相同则两点在线段同侧,不相交 (对点在线段上的情况,当作不相交处理);  \r\n        if (areaABC * areaABD >= 0) \r\n        {  \r\n            return null\r\n        }  \r\n      \r\n        // 三角形cda 面积的2倍  \r\n        let areaCDA = (c.x - a.x) * (d.y - a.y) - (c.y - a.y) * (d.x - a.x)\r\n        // 三角形cdb 面积的2倍，通过已知的三个面积加减得出.  \r\n        let areaCDB = areaCDA + areaABC - areaABD\r\n        if (areaCDA * areaCDB >= 0) \r\n        {  \r\n            return null\r\n        }  \r\n      \r\n        //计算交点坐标  \r\n        let t = areaCDA / (areaABD - areaABC)\r\n        let dx= t * (b.x - a.x),  \r\n            dy= t * (b.y - a.y);  \r\n\r\n        return new Laya.Point(a.x + dx, a.y + dy)\r\n    }  \r\n\r\n    private static pnts_: Laya.Point[] = [ \r\n        new Laya.Point(),\r\n        new Laya.Point(),\r\n        new Laya.Point(),\r\n        new Laya.Point(),\r\n    ]\r\n\r\n    private static indices_ = [ 0, 1, 0, 3, 1, 2, 2, 3 ]\r\n\r\n    /**\r\n     * 检测2D空间中线段与矩形是否相交\r\n     * @param a 线段的一个端点\r\n     * @param b 线段的另一个端点\r\n     * @param rect 受检测的矩形\r\n     * @return 返回一组相交数组，包括交点和被检测的矩形边的端点数据\r\n     */\r\n    static intersectSeg2Rect2D(a: Laya.Point, b: Laya.Point, rect: Laya.Rectangle)\r\n    {\r\n        let ret: SegInterResult[] = []\r\n\r\n        this.getRectXZVertices(rect, this.pnts_)\r\n\r\n        for(let i = 0; i < this.indices_.length; i += 2)\r\n        {\r\n            let p1 = this.indices_[i] ? this.pnts_[this.indices_[i]] : this.pnts_[0]\r\n            let p2 = this.indices_[i + 1] ? this.pnts_[this.indices_[i + 1]] : this.pnts_[0]\r\n\r\n            let p = this.intersectSeg2Seg2D(a, b, p1, p2)\r\n            if(p)\r\n            {\r\n                let res = new SegInterResult(p, p1, p2)\r\n                ret.push(res)\r\n            }\r\n        }\r\n\r\n        return ret\r\n    }\r\n\r\n    /**\r\n     * 直线与圆的交点检测，可能返回0~2长度的交点数组，长度0代表没有相交，1代表只有一个交点，2为两个交点\r\n     * @param p1 直线上的一点\r\n     * @param p2 直线上的另一个点\r\n     * @param circle 待检测的圆\r\n     */\r\n    static intersectLine2Circle2D(p1: Laya.Point, p2: Laya.Point, circle: HDCircle, bSeg = false)\r\n    {\r\n        let ret: Laya.Point[] = []\r\n\r\n        let dx = p2.x - p1.x\r\n        let dy = p2.y - p1.y\r\n\r\n        let p1cx = p1.x - circle.x\r\n        let p1cy = p1.y - circle.y\r\n\r\n        let A = dx * dx + dy * dy\r\n        let B = 2 * (dx * p1cx + dy * p1cy)\r\n        let C = p1cx * p1cx + p1cy * p1cy - circle.radius * circle.radius\r\n\r\n        let delta = B * B - 4 * A * C\r\n\r\n        //No real solutions\r\n        if(A <= 0.0000001 || delta < 0)\r\n        {\r\n            \r\n        }\r\n        else if(delta === 0) //only one intersection\r\n        {\r\n            let t = -B / (2 * A)\r\n            if(bSeg)\r\n            {\r\n                //如果线段和圆相切，则只有1个解，且在0和1之间\r\n                if(t >= 0 && t <= 1)\r\n                {\r\n                    ret[0] = new Laya.Point(p1.x + t * dx, p1.y + t * dy)\r\n                }\r\n            }\r\n            else\r\n                ret[0] = new Laya.Point(p1.x + t * dx, p1.y + t * dy)\r\n        }\r\n        else\r\n        {\r\n            let t1 = (-B + Math.sqrt(delta)) / (2 * A)\r\n            let t2 = (-B - Math.sqrt(delta)) / (2 * A)\r\n            if(bSeg)\r\n            {\r\n                //如果线段和圆没有交点，而且都在圆的外面的话，则两个解都是小于0或者大于1的\r\n                if(t1 < 0 && t2 < 0 || t1 > 1 && t2 > 1)\r\n                {\r\n                    //segment out of the circle\r\n                }\r\n                //如果线段和圆没有交点，而且都在圆的里面的话，两个解符号相反，一个小于0，一个大于1\r\n                else if(t1 < 0 && t2 > 1 || t1 > 1 && t2 < 0)\r\n                {\r\n                    //segment is in the circle\r\n                }\r\n                //如果线段和圆只有一个交点，则解中有一个是在0和1之间，另一个不是\r\n                else if(t1 >= 0 && t1 <= 1 && (t2 < 0 || t2 > 1))\r\n                {\r\n                    ret[0] = new Laya.Point(p1.x + t1 * dx, p1.y + t1 * dy)\r\n                }\r\n                else if(t2 >= 0 && t2 <= 1 && (t1 < 0 || t1 > 1))\r\n                {\r\n                    ret[0] = new Laya.Point(p1.x + t2 * dx, p1.y + t2 * dy)\r\n                }\r\n                //如果线段和圆有两个交点，则两个解都在0和1之间\r\n                else if(t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1)\r\n                {\r\n                    ret[0] = new Laya.Point(p1.x + t1 * dx, p1.y + t1 * dy)\r\n                    ret[1] = new Laya.Point(p1.x + t2 * dx, p1.y + t2 * dy)\r\n                }\r\n            }\r\n            else\r\n            {\r\n                //two solutions\r\n                ret[0] = new Laya.Point(p1.x + t1 * dx, p1.y + t1 * dy)\r\n                ret[1] = new Laya.Point(p1.x + t2 * dx, p1.y + t2 * dy)\r\n            }\r\n        }\r\n\r\n        return ret\r\n    }\r\n\r\n    /**\r\n     * 线段与圆的交点检测\r\n     * @param p1 线段的一个端点\r\n     * @param p2 线段的另一个端点\r\n     * @param circle 待检测的圆\r\n     */\r\n    static intersectSeg2Circle2D(p1: Laya.Point, p2: Laya.Point, circle: HDCircle)\r\n    {\r\n        return this.intersectLine2Circle2D(p1, p2, circle, true)\r\n    }\r\n}","\r\nimport { G } from \"../util/global_def\";\r\nimport { GameEventMgr, EventType } from \"../util/event_mgr\";\r\nimport { HDMap } from \"../util/structure/hd_map\";\r\nimport { AudioMgr, BgmType } from \"../util/audio_mgr\";\r\nimport { GameUserInfo, PlayerProp } from \"./user_info\";\r\nimport { BuffMgr } from \"./buff\";\r\nimport { ResManager } from \"../util/res_mgr\";\r\nimport { TimedTaskMgr } from \"../util/timed_task\";\r\nimport { GameHUD } from \"../game_ui/game_hud\";\r\nimport { HomeHUD } from \"../game_ui/home_hud\";\r\nimport { HDDebugTools } from \"../util/debug_tools\";\r\nimport { MathHelper } from \"../util/algorithm/math_helper\";\r\nimport { GeomtryHelper, SegInterResult, HDCircle } from \"../util/algorithm/geomtry_helper\";\r\n\r\n//示例场景代码，根据自己的需求进行修改或者直接删除\r\nexport class Stage extends Laya.Script3D {\r\n    private cam_: Laya.Camera = null\r\n\r\n    private touchPos_ = new Laya.Vector2()\r\n\r\n    private ray_ = new Laya.Ray(new Laya.Vector3(), new Laya.Vector3())\r\n\r\n    private tree_: Laya.MeshSprite3D = null\r\n    private treeSclTimer_ = 0\r\n\r\n    private rocks_: Laya.MeshSprite3D[] = []\r\n    private float_: Laya.MeshSprite3D = null\r\n\r\n    private stick1_: Laya.MeshSprite3D = null //用于与圆交点检测表现\r\n    private stick2_: Laya.MeshSprite3D = null //用于与圆交点检测表现\r\n\r\n    private circles_: HDCircle[] = []\r\n    \r\n    private sea_: Laya.MeshSprite3D = null\r\n\r\n    private horVecN_: Laya.Vector3 = new Laya.Vector3(1, 0, 0)\r\n    private verVecN_: Laya.Vector3 = new Laya.Vector3(0, 0, 1)\r\n\r\n    private reflectLine_ = new Laya.Vector3()\r\n\r\n    private bHome_ = false\r\n\r\n    private bTouched_ = false\r\n\r\n    init()\r\n    {\r\n        let sc = this.owner as Laya.Scene3D\r\n        sc.enableFog = true;\r\n        sc.fogColor = new Laya.Vector3(0.9, 1, 1);\r\n        sc.fogStart = 6\r\n        sc.fogRange = 12\r\n\r\n        let cam = this.owner.getChildByName('Main Camera') as Laya.Camera\r\n        if(cam)\r\n        {\r\n            cam.clearFlag = Laya.BaseCamera.CLEARFLAG_SKY\r\n\r\n            ResManager.instance.loadMaterial(ResManager.nativePath + '3d/Sky/skyBox.lmat', (mat: Laya.SkyBoxMaterial)=>{\r\n                let skyRenderer: Laya.SkyRenderer = sc.skyRenderer\r\n                skyRenderer.mesh = Laya.SkyBox.instance\r\n                skyRenderer.material = mat\r\n            })\r\n            \r\n            this.cam_ = cam\r\n            // this.cam_.orthographic = true\r\n            cam.enableHDR = false //务必要将此置为false，部分安卓低端机型不支持高精度的shader数据类型，会变为黑屏\r\n        }\r\n\r\n        let hn = sc.getChildByName('homeNode')\r\n        if(hn)\r\n        {\r\n            let t = hn.getChildByName('tree') as Laya.MeshSprite3D\r\n            if(t)\r\n            {\r\n                t.transform.scale = new Laya.Vector3(0.5, 0.5, 0.5)\r\n                //绘制包围盒示例\r\n                HDDebugTools.drawBoxWireframe(t.meshRenderer.bounds, t.name, sc, Laya.Color.RED)\r\n\r\n                this.tree_ = t\r\n            }\r\n\r\n            let u = hn.getChildByName('unbrella') as Laya.MeshSprite3D\r\n            if(u)\r\n            {\r\n                //获取缩放包围盒的示例\r\n                let bb = GeomtryHelper.getBoundingBox(u, 0.8, 1, 0.8)\r\n                HDDebugTools.drawBoxWireframe(bb, u.name, sc)\r\n            }\r\n\r\n            let stick = hn.getChildByName('stick') as Laya.MeshSprite3D\r\n            this.stick1_ = Laya.MeshSprite3D.instantiate(stick) as Laya.MeshSprite3D\r\n            this.stick2_ = Laya.MeshSprite3D.instantiate(stick) as Laya.MeshSprite3D\r\n\r\n            sc.addChild(this.stick1_)\r\n            sc.addChild(this.stick2_)\r\n\r\n            for(let i = 0; i < 8; ++i)\r\n                this.rocks_[i] = hn.getChildByName('rock' + (i + 1)) as Laya.MeshSprite3D\r\n            this.float_ = hn.getChildByName('blue_float') as Laya.MeshSprite3D\r\n        }\r\n\r\n        let beach = sc.getChildByName('beach')\r\n        if(beach)\r\n            this.sea_ = beach.getChildByName('sea') as Laya.MeshSprite3D\r\n\r\n        Laya.stage.addChild(this.owner)\r\n        Laya.stage.setChildIndex(this.owner, 0)\r\n    }\r\n\r\n    enterHome()\r\n    {\r\n        this.bHome_ = true\r\n\r\n        Laya.stage.on(Laya.Event.MOUSE_DOWN, this, this._onTouchBegin)\r\n        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this._onTouchMove)\r\n        Laya.stage.on(Laya.Event.MOUSE_UP, this, this._onTouchEnd)\r\n\r\n        AudioMgr.instance.playMusic(BgmType.kBgmMenu)\r\n    }\r\n\r\n    enterGame()\r\n    {\r\n        this.bHome_ = false\r\n\r\n        if(this.cam_)\r\n        {\r\n            this.cam_.transform.localRotationEulerX = -90\r\n            this.cam_.transform.localPositionY = 3\r\n            this.cam_.transform.localPositionX = -0.5\r\n\r\n            for(let i = 0; i < this.rocks_.length; ++i)\r\n            {\r\n                let r = GeomtryHelper.convertBound2RectXZ(this.rocks_[i])\r\n                HDDebugTools.drawRectXZWireframe(r, this.rocks_[i].name, this.owner as Laya.Scene3D, Laya.Color.MAGENTA)\r\n\r\n                this.circles_[i] = GeomtryHelper.convertBound2CircleXZ(this.rocks_[i], 1)\r\n                this.circles_[i].tag = this.rocks_[i].name + '_c'\r\n            }\r\n        }\r\n    }\r\n\r\n    leaveHome()\r\n    {\r\n        \r\n    }\r\n\r\n    leaveGame()\r\n    {\r\n        \r\n    }\r\n\r\n    onUpdate()\r\n    {   \r\n        if(this.bHome_)\r\n        {\r\n            let dt = Laya.timer.delta / 1000\r\n\r\n            //刷新包围盒绘制的示例\r\n            if(this.tree_)\r\n            {\r\n                this.treeSclTimer_ += dt\r\n\r\n                let mul = MathHelper.clamp(1 + Math.cos(this.treeSclTimer_), 0.3, 1.2)\r\n                this.tree_.transform.localScaleY = mul\r\n\r\n                this.tree_.transform.localPositionZ += Math.cos(this.treeSclTimer_) * 0.01\r\n\r\n                HDDebugTools.drawBoxWireframe(this.tree_.meshRenderer.bounds, this.tree_.name,\r\n                     this.owner, Laya.Color.RED)\r\n            }\r\n        }\r\n        else\r\n        {\r\n            \r\n        }\r\n    }\r\n\r\n    private _onTouchBegin(e: MouseEvent)\r\n    {\r\n        // console.log('_onTouchBegin', Laya.stage.mouseX, Laya.stage.mouseY, e.target)\r\n\r\n        //判断是否点了stage，只有点击了stage才执行移动操作\r\n        let t = e.target as any\r\n        if('frameRate' in t)\r\n        {\r\n            if(this.bHome_)\r\n            {\r\n                this.touchPos_.x = Laya.stage.mouseX\r\n                this.touchPos_.y = Laya.stage.mouseY\r\n\r\n                this.cam_.viewportPointToRay(this.touchPos_, this.ray_)\r\n\r\n                this.cam_.transform.lookAt(this.ray_.direction, new Laya.Vector3(0, 1, 0))\r\n            }\r\n            else\r\n            {\r\n                \r\n            }\r\n\r\n            this.bTouched_ = true\r\n        }\r\n    }\r\n\r\n    private _onTouchMove(e: MouseEvent)\r\n    {\r\n        if(this.bTouched_)\r\n        {\r\n            if(!this.bHome_)\r\n            {\r\n                this.touchPos_.x = Laya.stage.mouseX\r\n                this.touchPos_.y = Laya.stage.mouseY\r\n\r\n                this.cam_.viewportPointToRay(this.touchPos_, this.ray_)\r\n\r\n                //-----------生成一条线----------\r\n                let bb = GeomtryHelper.getBoundingBox(this.sea_)\r\n                let interV3 = new Laya.Vector3()\r\n                Laya.CollisionUtils.intersectsRayAndBoxRP(this.ray_, bb._boundBox, interV3)      \r\n\r\n                let startPos = new Laya.Vector3(this.float_.transform.position.x, 0, this.float_.transform.position.z)\r\n                let endPos = new Laya.Vector3(interV3.x, 0, interV3.z)\r\n                HDDebugTools.drawLineWireframe(startPos, endPos, 'l1', this.owner as Laya.Scene3D, Laya.Color.BLUE)\r\n                //---------------------------------------\r\n\r\n                //--------线与圆的交点判断\r\n                for(let i = 0; i < this.circles_.length; ++i)\r\n                {\r\n                    let pnts = GeomtryHelper.intersectSeg2Circle2D(new Laya.Point(startPos.x, startPos.z), \r\n                        new Laya.Point(endPos.x, endPos.z), this.circles_[i])\r\n\r\n                    if(pnts.length > 0)\r\n                    {\r\n                        console.log('circle inter', this.circles_[i].tag)\r\n\r\n                        HDDebugTools.drawCylinderXZ(this.circles_[i].tag, this.circles_[i].radius, 0.01, this.rocks_[i], 0.1)\r\n\r\n                        if(pnts.length > 1)\r\n                        {\r\n                            this.stick1_.active = true\r\n                            this.stick2_.active = true\r\n\r\n                            this.stick1_.transform.position = new Laya.Vector3(pnts[0].x, 0, pnts[0].y)\r\n                            this.stick2_.transform.position = new Laya.Vector3(pnts[1].x, 0, pnts[1].y)\r\n\r\n                            // console.log(this.circles_[i].tag + ' circle inter 2 solutions', pnts[0], pnts[1])\r\n\r\n                            break\r\n                        }\r\n                        else\r\n                        {\r\n                            this.stick1_.active = true\r\n                            this.stick2_.active = false\r\n\r\n                            this.stick1_.transform.position = new Laya.Vector3(pnts[0].x, 0, pnts[0].y)\r\n\r\n                            // console.log(this.circles_[i].tag + ' circle inter 1 solutions', pnts[0])\r\n\r\n                            break\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        this.stick1_.active = false\r\n                        this.stick2_.active = false\r\n\r\n                        HDDebugTools.hidePrimitive(this.circles_[i].tag)\r\n                    }\r\n                }\r\n\r\n                //--------线与矩形的交点判断---------\r\n                for(let i = 0; i < this.rocks_.length; ++i)\r\n                {\r\n                    let rect = GeomtryHelper.convertBound2RectXZ(this.rocks_[i])\r\n                    let interPnts = GeomtryHelper.intersectSeg2Rect2D(\r\n                        new Laya.Point(startPos.x, startPos.z), new Laya.Point(endPos.x, endPos.z), rect)\r\n\r\n                    let interArr: SegInterResult[] = []\r\n                    for(let i = 0; i < interPnts.length; ++i)\r\n                    {\r\n                        let inter = interPnts[i]\r\n\r\n                        interArr.push(inter)\r\n                    }\r\n\r\n                    //如果有多个交点，查找最近的一个\r\n                    let nearInter: SegInterResult = null\r\n                    if(interArr.length > 0)\r\n                    {\r\n                        if(interArr.length > 1)\r\n                        {\r\n                            let dist = 0\r\n                            for(let i = 0; i < interArr.length; ++i)\r\n                            {\r\n                                let d = interArr[i].point.distance(startPos.x, startPos.z)\r\n                                if(d < dist || dist === 0)\r\n                                {\r\n                                    nearInter = interArr[i]\r\n                                    dist = d\r\n                                }\r\n                            }\r\n                        }\r\n                        else\r\n                        {\r\n                            nearInter = interArr[0]\r\n                        }\r\n                    }\r\n\r\n                    //有最近的一个交点，开始基于交点生成反射线\r\n                    if(nearInter)\r\n                    {\r\n                        let line = new Laya.Vector3(nearInter.vertex2.x - nearInter.vertex1.x, 0,\r\n                            nearInter.vertex2.y - nearInter.vertex1.y)\r\n\r\n                        let rx = 0\r\n                        let ry = 0\r\n\r\n                        //与x轴的单位向量平行，入射线反转z\r\n                        if(GeomtryHelper.isParallelVec3D(line, this.horVecN_))\r\n                        {\r\n                            // let dotProd = Laya.Vector3.dot(incoming, this.verVecN_) * 2\r\n                            // let scl = new Laya.Vector3()\r\n                            // Laya.Vector3.scale(this.verVecN_, dotProd, scl)\r\n                            // Laya.Vector3.subtract(incoming, scl, this.reflectLine_)\r\n\r\n                            rx = 2 * nearInter.point.x - startPos.x\r\n                            ry = startPos.z\r\n                        }\r\n                        else //假设所有的线都是互相垂直的关系，如果不是横向平行就是纵向平行\r\n                        {\r\n                            rx = startPos.x\r\n                            ry = 2 * nearInter.point.y - startPos.z\r\n\r\n                            // let dotProd = Laya.Vector3.dot(incoming, this.horVecN_) * 2\r\n                            // let scl = new Laya.Vector3()\r\n                            // Laya.Vector3.scale(this.horVecN_, dotProd, scl)\r\n                            // Laya.Vector3.subtract(incoming, scl, this.reflectLine_)\r\n                        }\r\n\r\n                        this.reflectLine_.setValue(rx - nearInter.point.x, 0, ry - nearInter.point.y)\r\n                        Laya.Vector3.normalize(this.reflectLine_, this.reflectLine_)\r\n                        Laya.Vector3.scale(this.reflectLine_, 0.3, this.reflectLine_)\r\n\r\n                        let s = new Laya.Vector3(nearInter.point.x, 0, nearInter.point.y)\r\n                        let e = new Laya.Vector3(rx, 0, ry)\r\n                        // console.log('start pos', startPos, 'inter pos', s, 'end pos', e)\r\n                        HDDebugTools.drawLineWireframe(s, e, this.rocks_[i].name + 'l2', this.owner as Laya.Scene3D, Laya.Color.RED)\r\n                    }\r\n                    else\r\n                    {\r\n                        HDDebugTools.hideWireframe(this.rocks_[i].name + 'l2')\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private _onTouchEnd(e: MouseEvent)\r\n    {\r\n        this.bTouched_ = false\r\n\r\n\r\n    }\r\n}\r\n\r\n","\r\nimport { ResManager } from \"../util/res_mgr\";\r\nimport { TimedTaskMgr } from \"../util/timed_task\";\r\nimport { G } from \"../util/global_def\";\r\nimport { GameUserInfo } from \"../game/user_info\";\r\nimport { DataHub } from \"../data/data_hub\";\r\nimport { WxUtil } from \"../util/wx_util\";\r\nimport { GameEventMgr, EventType } from \"../util/event_mgr\";\r\nimport { GameLogic } from \"../game_logic\";\r\nimport { GameHUD } from \"./game_hud\";\r\nimport { SettingUI, VFXLevel } from \"./common/setting_ui\";\r\nimport { SignInUI } from \"./common/sign_in_ui\";\r\nimport { TransUI } from \"./common/trans_ui\";\r\nimport { TipUI } from \"./common/tip_ui\";\r\nimport { AudioMgr, BgmType } from \"../util/audio_mgr\";\r\nimport { Stage } from \"../game/stage\";\r\nimport { HDBannerAd, HDVideoAd } from \"../util/ad_tools\";\r\n\r\nenum BtnType {\r\n    kStart,\r\n    kSignIn,\r\n    kSetting,\r\n    kBox\r\n}\r\n\r\n//这里都是一些样例代码，请在自己项目中根据需求改写或者移除掉\r\nexport class HomeHUD extends Laya.Script {\r\n    static instance: HomeHUD = null\r\n\r\n    private homePnl_: FGUICom = null\r\n\r\n    private startBtn_: FGUIButton = null\r\n    private signInBtn_: FGUIButton = null\r\n    private settingBtn_: FGUIButton = null\r\n    private boxBtn_: FGUIButton = null\r\n\r\n    private showTrans_: FGUITrans = null\r\n    private closeTrans_: FGUITrans = null\r\n\r\n    private settingUI_: SettingUI = null\r\n    private signInUI_: SignInUI = null\r\n\r\n    private stage_: Stage = null\r\n\r\n    private bLocked_ = false\r\n    private bFirst_ = false\r\n\r\n    private bPreloadBnr_ = false\r\n\r\n    onAwake()\r\n    {   \r\n        HomeHUD.instance = this\r\n\r\n        fgui.UIPackage.loadPackage(ResManager.nativePath + \"2d/fgui/HomeHUD\", \r\n            G.layaHandler(this, this._onLoadedUI))\r\n    }\r\n\r\n    onDestroy()\r\n    {\r\n\r\n    }\r\n\r\n    open()\r\n    {\r\n        this._enter()\r\n    }\r\n\r\n    onUpdate()\r\n    {\r\n        \r\n    }\r\n\r\n    setStartBtnStatus(bTry = false)\r\n    {\r\n        if(this.startBtn_)\r\n        {\r\n            this.startBtn_.getController('try').selectedIndex = bTry ? 0 : 1\r\n        }\r\n    }\r\n\r\n    //样例代码，初始化首页UI以及预加载banner\r\n    private _onLoadedUI()\r\n    {\r\n        let fguiNode = fgui.GRoot.inst\r\n\r\n        let fguiUP = fgui.UIPackage\r\n        fguiUP.addPackage(ResManager.nativePath + \"2d/fgui/HomeHUD\")\r\n        this.homePnl_ = fguiUP.createObject('HomeHUD', 'HomePnl').asCom\r\n        this.homePnl_.setSize(Laya.stage.width, Laya.stage.height)\r\n\r\n        if(this.homePnl_)\r\n        {\r\n            fguiNode.addChild(this.homePnl_)\r\n            this.homePnl_.visible = false\r\n\r\n            this.startBtn_ = this.homePnl_.getChild('startBtn').asButton\r\n            this.signInBtn_ = this.homePnl_.getChild('signInBtn').asButton\r\n            this.settingBtn_ = this.homePnl_.getChild('settingBtn').asButton\r\n            this.boxBtn_ = this.homePnl_.getChild('freeBoxBtn').asButton\r\n\r\n            this.startBtn_.onClick(this, this._onClick, [ BtnType.kStart ])\r\n            this.signInBtn_.onClick(this, this._onClick, [ BtnType.kSignIn ])\r\n            this.settingBtn_.onClick(this, this._onClick, [ BtnType.kSetting ])\r\n            this.boxBtn_.onClick(this, this._onClick, [ BtnType.kBox ])\r\n\r\n            this.showTrans_ = this.homePnl_.getTransition('showTrans')\r\n            this.closeTrans_ = this.homePnl_.getTransition('closeTrans')\r\n\r\n            this.settingUI_ = SettingUI.instance\r\n\r\n            this.signInUI_ = new SignInUI()\r\n            this.signInUI_.init(this.homePnl_.getChild('signInPnl').asCom)\r\n        }\r\n    }\r\n\r\n    private _loadedBnr()\r\n    {\r\n        let sc = ResManager.instance.getScene(ResManager.nativePath + '3d/Stage.ls')\r\n        if(sc)\r\n        {\r\n            sc.addComponent(Stage)\r\n            let com = sc.getComponent(Stage) as Stage\r\n            com.init()\r\n\r\n            this.stage_ = com\r\n\r\n            this._enter()\r\n        }\r\n    }\r\n\r\n    private _enter()\r\n    {\r\n        if(this.homePnl_ && this.stage_)\r\n        {\r\n            TransUI.instance.over(0, ()=>{\r\n                this.owner.active = true\r\n\r\n                this.homePnl_.visible = true\r\n\r\n                this.bPreloadBnr_ = false\r\n\r\n                this.stage_.enterHome()\r\n            })\r\n        }\r\n    }\r\n\r\n    private _leave()\r\n    {\r\n        this.homePnl_.visible = false\r\n    }\r\n\r\n    private _onClick(t: BtnType)\r\n    {\r\n        if(this.bLocked_)\r\n            return\r\n\r\n        switch(t) {\r\n            case BtnType.kStart:\r\n                let cb = ()=>{\r\n                    this.stage_.enterGame()\r\n\r\n                    this._leave()\r\n                }\r\n\r\n                break\r\n\r\n            case BtnType.kSignIn:\r\n                if(this.signInUI_)\r\n                    this.signInUI_.show()\r\n\r\n                break\r\n\r\n            case BtnType.kSetting:\r\n                if(this.settingUI_)\r\n                    this.settingUI_.show()\r\n\r\n                break\r\n        }\r\n    }\r\n\r\n    private _redPoint(sender, data)\r\n    {\r\n        if(data)\r\n        {\r\n            if(data.type === 1) //签到\r\n                this.signInBtn_.getController('redPnt').selectedIndex = 1\r\n        }\r\n    }\r\n\r\n    //根据平均fps结果自动调节特效\r\n    private _fpsResult()\r\n    {\r\n        if(this.settingUI_)\r\n        {\r\n            let avgFps = GameLogic.instance.averageFPS\r\n            G.log('average FPS', avgFps)\r\n\r\n            if(avgFps > 0)\r\n            {\r\n                let lv = this.settingUI_.VFXLvl\r\n\r\n                let bShow = false\r\n                if(lv == VFXLevel.kHigh)\r\n                {\r\n                    if(avgFps <= 52)\r\n                    {\r\n                        this.settingUI_.VFXLvl = VFXLevel.kMid\r\n                        bShow = true\r\n                    }\r\n                    else if(avgFps <= 45)\r\n                    {\r\n                        this.settingUI_.VFXLvl = VFXLevel.kLow\r\n                        bShow = true\r\n                    }\r\n                }\r\n                else if(lv == VFXLevel.kMid)\r\n                {\r\n                    if(avgFps <= 55)\r\n                    {\r\n                        this.settingUI_.VFXLvl = VFXLevel.kLow\r\n                        bShow = true\r\n                    }\r\n                    else if(avgFps >= 60)\r\n                    {\r\n                        this.settingUI_.VFXLvl = VFXLevel.kHigh\r\n                    }\r\n                }\r\n                else if(lv == VFXLevel.kLow)\r\n                {\r\n                    if(avgFps >= 58)\r\n                    {\r\n                        this.settingUI_.VFXLvl = VFXLevel.kMid\r\n                    }\r\n                }\r\n\r\n                // bShow = true\r\n\r\n                // if(bShow)\r\n                // {\r\n                //     DialogUI.instance.show('性能提示', '检测到当前特效等级下\\n游戏过程中出现卡顿\\n' +\r\n                //         '已自动将特效等级降低\\n以保障游戏体验\\n您随时可以在设置中调节', null, null, true)\r\n                // }\r\n            }\r\n        }\r\n    }\r\n\r\n    private _showPageBnr()\r\n    {\r\n\r\n    }\r\n\r\n    private _hidePageBnr()\r\n    {\r\n\r\n    }\r\n\r\n    private _showFoldBnr()\r\n    {\r\n\r\n    }\r\n\r\n    private _hideFoldBnr()\r\n    {\r\n\r\n    }\r\n}\r\n","import  { BaseUI, UIHierarchy } from \"./base_ui\";\r\nimport { G } from \"../../util/global_def\";\r\n\r\nexport class DialogUI extends BaseUI {\r\n    static instance = new DialogUI\r\n\r\n    private titleLbl_: FGUITextField = null\r\n    private contentLbl_: FGUITextField = null\r\n\r\n    private confirmBtn_: FGUIButton = null\r\n    private closeBtn_: FGUIButton = null\r\n\r\n    private showTrans_: FGUITrans = null\r\n    private closeTrans_: FGUITrans = null\r\n\r\n    private yesCallback_: Function = null\r\n    private noCallback_: Function = null\r\n\r\n    init(com: FGUICom)\r\n    {\r\n        if(com)\r\n        {\r\n            this.com_ = com\r\n            com.setSize(Laya.stage.width, Laya.stage.height)\r\n\r\n            this.titleLbl_ = com.getChild('titleLbl').asTextField\r\n            this.contentLbl_ = com.getChild('contentLbl').asTextField\r\n\r\n            this.confirmBtn_ = com.getChild('confirmBtn').asButton\r\n            this.closeBtn_ = com.getChild('closeBtn').asButton\r\n\r\n            this.showTrans_ = com.getTransition(\"showTrans\")\r\n            this.closeTrans_ = com.getTransition('closeTrans')\r\n\r\n            com.sortingOrder = UIHierarchy.kDialog\r\n            com.visible = false\r\n            BaseUI.root.addChild(com)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 展示组件\r\n     * @param title 标题 \r\n     * @param text 正文\r\n     * @param yesCb 确定按钮点击回调\r\n     * @param noCb 关闭按钮点击回调\r\n     * @param bSingleBtn 只显示单个按钮，默认显示两个\r\n     */\r\n    show(title: string, text: string, yesCb?: Function, noCb?: Function, bSingleBtn = false)\r\n    {\r\n        if(this.com_)\r\n        {\r\n            this.com_.visible = true\r\n\r\n            this.titleLbl_.text = title\r\n            this.contentLbl_.text = text\r\n\r\n            this.bLock_ = true\r\n            this.showTrans_.play(G.layaHandler(this, ()=>{ this.bLock_ = false }))\r\n\r\n            this.confirmBtn_.onClick(this, this._onConfirm)\r\n            this.closeBtn_.onClick(this, this._onClose)\r\n\r\n            this.yesCallback_ = yesCb\r\n            this.noCallback_ = noCb\r\n\r\n            if(bSingleBtn)\r\n                this.closeBtn_.visible = false\r\n            else\r\n                this.closeBtn_.visible = true\r\n        }\r\n    }\r\n\r\n    reset()\r\n    {\r\n        if(this.com_)\r\n        {\r\n            this.bLock_ = false\r\n\r\n            this.com_.visible = false\r\n\r\n            this.confirmBtn_.offClick(this, this._onConfirm)\r\n            this.closeBtn_.offClick(this, this._onClose)\r\n\r\n            if(this.com_.sortingOrder != UIHierarchy.kDialog)\r\n                this.renderSortOriginal()\r\n        }\r\n    }\r\n\r\n    /** 临时将渲染层级提升到高层，与Tip同层，在关闭后会自动恢复，一般用于模拟调试 */\r\n    renderSortTop()\r\n    {\r\n        if(this.com_)\r\n            this.com_.sortingOrder = UIHierarchy.kTip\r\n    }\r\n\r\n    /** 将渲染层级恢复到原始值 */\r\n    renderSortOriginal()\r\n    {\r\n        if(this.com_)\r\n            this.com_.sortingOrder = UIHierarchy.kDialog\r\n    }\r\n\r\n    private _onConfirm()\r\n    {\r\n        if(this.bLock_)\r\n            return\r\n\r\n        if(this.yesCallback_)\r\n            this.yesCallback_()\r\n\r\n        this.bLock_ = true\r\n        this.closeTrans_.play(G.layaHandler(this, this.reset))\r\n    }\r\n\r\n    private _onClose()\r\n    {\r\n        if(this.bLock_)\r\n            return\r\n\r\n        if(this.noCallback_)\r\n            this.noCallback_()\r\n\r\n        this.bLock_ = true\r\n        this.closeTrans_.play(G.layaHandler(this, this.reset))\r\n    }\r\n}\r\n\r\nexport const DialogUIInst = DialogUI.instance ","\r\nimport { G } from \"./util/global_def\";\r\nimport { AudioMgr, BgmType } from \"./util/audio_mgr\";\r\nimport { ResManager } from \"./util/res_mgr\";\r\nimport { DataHub } from \"./data/data_hub\";\r\nimport { GameStorage, SaveDef } from \"./util/Storage\";\r\nimport { BaseUI } from \"./game_ui/common/base_ui\";\r\nimport { InputBlocker } from \"./game_ui/common/blocker_ui\";\r\nimport { TipUI } from \"./game_ui/common/tip_ui\";\r\nimport { PopupUI } from \"./game_ui/common/popup_ui\";\r\nimport { DialogUI } from \"./game_ui/common/dialog_ui\";\r\nimport { SettingUI } from \"./game_ui/common/setting_ui\";\r\nimport { TransUI } from \"./game_ui/common/trans_ui\";\r\nimport { GameLogic } from \"./game_logic\";\r\nimport { HDBannerAd } from \"./util/ad_tools\";\r\nimport { WxUtil } from \"./util/wx_util\";\r\n\r\nexport class Load extends Laya.Script {\r\n    private loadPnl_: FGUICom = null\r\n    private loadProg_: FGUIProgress = null\r\n    private loadBg_: FGUIImage = null\r\n\r\n    private loadProc_ = 0\r\n    private loadTimer_ = 0\r\n\r\n    private bLoading_ = false\r\n    private bLoaded_ = false\r\n\r\n    private bExcuted_ = false\r\n    private bChanged_ = false\r\n\r\n    onStart() {\r\n        GameLogic.instance.init()\r\n\r\n        Laya.timer.frameLoop(1, GameLogic.instance, GameLogic.instance.update)\r\n\r\n        DataHub.loadJson()\r\n\r\n        BaseUI.root = fgui.GRoot.inst\r\n        \r\n        Laya.stage.addChild(BaseUI.root.displayObject)\r\n        fgui.UIConfig.packageFileExtension = \"bin\"\r\n\r\n        fgui.UIPackage.loadPackage(ResManager.nativePath + \"LoadUI\", G.layaHandler(this, this._onLoadingUI))\r\n    }\r\n\r\n    private _onLoadingUI()\r\n    {\r\n        fgui.UIPackage.addPackage(ResManager.nativePath + \"LoadUI\")\r\n\r\n        this.loadPnl_ = fgui.UIPackage.createObject('LoadUI', 'Loading').asCom\r\n        if(this.loadPnl_)\r\n        {\r\n            BaseUI.root.addChild(this.loadPnl_)\r\n\r\n            this.loadPnl_.setSize(Laya.stage.width, Laya.stage.height)\r\n\r\n            this.loadBg_ = this.loadPnl_.getChild('bg').asImage\r\n            this.loadProg_ = this.loadPnl_.getChild('prog').asProgress\r\n\r\n            let bw = this.loadBg_.width\r\n            let bh = this.loadBg_.height\r\n\r\n            let sh = Laya.stage.height / bh\r\n            let sv = Laya.stage.width / bw\r\n\r\n            if(sh > sv)\r\n            {\r\n                this.loadBg_.width = bw * sh\r\n                this.loadBg_.height = bh * sh\r\n            }\r\n            else\r\n            {\r\n                this.loadBg_.width = bw * sv\r\n                this.loadBg_.height = bh * sv\r\n            }\r\n\r\n            G.log('loading UI size', this.loadBg_.width, this.loadBg_.height, bw, bh, sh, sv)\r\n        }\r\n\r\n        if (G.isWeChat) {\r\n            //初始化微信工具集并检查是否有版本更新，版本更新的提示要做到完善\r\n            WxUtil.fetchSdkInfo()\r\n            WxUtil.checkVersionUpdate(this._updateApp.bind(this), this._noUpdate.bind(this))\r\n        }\r\n\r\n        this.bLoading_ = true\r\n        this.loadProc_ = 0\r\n    }\r\n\r\n    private _updateApp() {\r\n\r\n    }\r\n\r\n    private _noUpdate() {\r\n       \r\n    }\r\n\r\n    private _excuteLoad() {\r\n        ResManager.nativePath = 'res/'\r\n\r\n        this.bLoaded_ = true\r\n        this._addProc(99)\r\n    }\r\n\r\n    onUpdate() {\r\n        if(this.bLoading_) //假进度\r\n        {\r\n            if(this.loadProc_ < 40)\r\n            {\r\n                let dt = Laya.timer.delta / 1000\r\n                this.loadTimer_ -= dt\r\n                if(this.loadTimer_ <= 0)\r\n                {\r\n                    this._addProc(G.randRange(10, 15))\r\n                    this.loadTimer_ = G.randRangeF(0.1, 0.3)\r\n                }\r\n            }\r\n            else if(this.loadProc_ < 89)\r\n            {\r\n                if(!this.bExcuted_)\r\n                {\r\n                    this._excuteLoad()\r\n                    this.bExcuted_ = true\r\n                }\r\n                else\r\n                {\r\n                    if(this.loadProc_ < 88)\r\n                        this._addProc(1)\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if (this.bLoaded_ && !this.bChanged_ && DataHub.bJsonLoaded && GameLogic.instance.bLogined) {\r\n                    fgui.UIPackage.loadPackage(ResManager.nativePath + \"2d/fgui/CommUI\", \r\n                        G.layaHandler(this, this._onLoadCommUI))\r\n        \r\n                    this.bChanged_ = true\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private _onLoadCommUI() \r\n    {\r\n        DataHub.loadBackendConfig()\r\n\r\n        fgui.UIPackage.addPackage(ResManager.nativePath + \"2d/fgui/CommUI\")\r\n\r\n        let blocker = fgui.UIPackage.createObject('CommUI', 'Blocker').asCom\r\n        if (blocker)\r\n            InputBlocker.instance.init(blocker)\r\n\r\n        let tip = fgui.UIPackage.createObject('CommUI', 'Tip').asCom\r\n        if(tip)\r\n            TipUI.instance.init(tip)\r\n\r\n        let popup = fgui.UIPackage.createObject('CommUI', 'Popup').asCom\r\n        if(popup)\r\n            PopupUI.instance.init(popup)\r\n\r\n        let dialog = fgui.UIPackage.createObject('CommUI', 'DialogPnl').asCom\r\n        if(dialog)\r\n            DialogUI.instance.init(dialog)\r\n\r\n        let setting = fgui.UIPackage.createObject('CommUI', 'SettingPnl').asCom\r\n        if(setting)\r\n            SettingUI.instance.init(setting)\r\n\r\n        let trans = fgui.UIPackage.createObject('CommUI', 'TransPnl').asCom\r\n        if(trans)\r\n            TransUI.instance.init(trans)\r\n\r\n        this._addProc(0, true)\r\n\r\n        BaseUI.root.removeChild(this.loadPnl_)\r\n        this.loadPnl_.dispose()\r\n\r\n        fgui.UIPackage.removePackage(\"LoadUI\")\r\n\r\n        TransUI.instance.show(()=>{\r\n            Laya.Scene.open('HomeHUD.scene', true)\r\n        })\r\n    }\r\n\r\n    private _addProc(val: number, bFinished = false)\r\n    {\r\n        if(bFinished)\r\n        {\r\n            this.loadProc_ = 100\r\n        }\r\n        else\r\n        {\r\n            this.loadProc_ += val\r\n            if(this.loadProc_ > 99)\r\n            {\r\n                this.loadProc_ = 99\r\n            }\r\n        }\r\n\r\n        this.loadProg_.value = this.loadProc_\r\n    }\r\n}\r\n","/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\nimport { HomeHUD } from \"./game_ui/home_hud\"\r\nimport { Load } from \"./load\"\r\n/*\r\n* 游戏初始化配置;\r\n*/\r\nexport default class GameConfig{\r\n    static width:number=720;\r\n    static height:number=1280;\r\n    static scaleMode:string=\"fixedwidth\";\r\n    static screenMode:string=\"vertical\";\r\n    static alignV:string=\"middle\";\r\n    static alignH:string=\"center\";\r\n    static startScene:any=\"Load.scene\";\r\n    static sceneRoot:string=\"\";\r\n    static debug:boolean=false;\r\n    static stat:boolean=true;\r\n    static physicsDebug:boolean=false;\r\n    static exportSceneToJson:boolean=true;\r\n    constructor(){}\r\n    static init(){\r\n        var reg: Function = Laya.ClassUtils.regClass;\r\n        reg(\"game_ui/home_hud.ts\",HomeHUD);\r\n        reg(\"load.ts\",Load);\r\n    }\r\n}\r\nGameConfig.init();","import GameConfig from \"./GameConfig\";\r\nclass Main {\r\n\tconstructor() {\r\n\t\t//根据IDE设置初始化引擎\t\t\r\n\t\tif (window[\"Laya3D\"]) Laya3D.init(GameConfig.width, GameConfig.height);\r\n\t\telse Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\r\n\t\tLaya[\"Physics\"] && Laya[\"Physics\"].enable();\r\n\t\tLaya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\r\n\t\tLaya.stage.scaleMode = GameConfig.scaleMode;\r\n\t\tLaya.stage.screenMode = GameConfig.screenMode;\r\n\t\t//兼容微信不支持加载scene后缀场景\r\n\t\tLaya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n\r\n\t\t//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）\r\n\t\tif (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\") Laya.enableDebugPanel();\r\n\t\tif (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\r\n\t\t// if (GameConfig.stat) Laya.Stat.show(0, 50);\r\n\t\tLaya.alertGlobalError = true;\r\n\t\tLaya.MouseManager.multiTouchEnabled = false;\r\n\r\n\t\t//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程\r\n\t\tLaya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\r\n\t}\r\n\r\n\tonVersionLoaded(): void {\r\n\t\t//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图\r\n\t\tLaya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\r\n\t}\r\n\r\n\tonConfigLoaded(): void {\r\n\t\t//加载IDE指定的场景\r\n\t\tGameConfig.startScene && Laya.Scene.open(GameConfig.startScene);\r\n\t}\r\n}\r\n//激活启动类\r\nnew Main();\r\n"],"names":["SaveDef","GameStorage"],"mappings":"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"}